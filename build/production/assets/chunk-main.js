import{l as ve}from"./chunk-lodash.js";import{r as j,a as Li,j as b,R as ue,b as L,c as ds,F as mt,d as Ch,A as Rh}from"./chunk-client.js";import{b as ol,g as kh,c as $h,e as Ih,u as nt,f as Ce,v as Re,p as al,h as Mh,i as jh,j as zh,k as Bh,m as Dh,n as Uh,q as pa,w as ga,r as Wh,s as Hh,d as ma,o as Vh}from"./chunk-constants.js";const ll="DETAIL_PAGE_LOADER_CHANGE",cl="SET_DETAIL_PAGE_DATA",ul="SET_DETAIL_PAGE_PROFIT_CALCULATOR_DATA",Kh="UPDATE_REFERRAL_FEE",hl="RESET_DETAIL_PAGE_DATA",qh=e=>({type:ll,payload:{loader:e}}),Tt=e=>({type:cl,payload:e}),Yh=()=>({type:hl,payload:{...["headerData","productInfo","currencySymbol","marketplace","reverseSearchData","productData","profitCalculatorData","productFees","offersDataSuccess","mainServerAPICheck","reverseSearchData","reverseSearchSuccess","success","domain","googleShoppingSuccess"].reduce((e,n)=>ve.merge(e,{[n]:null}),{}),offersData:{},offersDataLoading:!0,googleShoppingLoading:!0,googleShoppingData:[]}}),Gh=(e,n,t,i)=>({type:ul,payload:{profitCalculatorData:e,productFees:n,offersData:t,googleShoppingData:i}}),dl="FETCH_REVERSE_SEARCH_DATA",Xh="SET_ASIN_ARRAY",fl="SET_LIST_PAGE_LOADER",pl="SET_CURRENT_URL",Jh=e=>({type:pl,payload:{currentURL:e}}),Qh=e=>({type:fl,payload:{loader:e}}),ci=(e,n,t=null)=>({type:dl,payload:{reverseSearchData:e,currencySymbol:n,success:t}});var gl={exports:{}},ml={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=j;function Zh(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ed=typeof Object.is=="function"?Object.is:Zh,td=yn.useState,nd=yn.useEffect,id=yn.useLayoutEffect,rd=yn.useDebugValue;function sd(e,n){var t=n(),i=td({inst:{value:t,getSnapshot:n}}),s=i[0].inst,o=i[1];return id(function(){s.value=t,s.getSnapshot=n,jr(s)&&o({inst:s})},[e,t,n]),nd(function(){return jr(s)&&o({inst:s}),e(function(){jr(s)&&o({inst:s})})},[e]),rd(t),t}function jr(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ed(e,t)}catch{return!0}}function od(e,n){return n()}var ad=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?od:sd;ml.useSyncExternalStore=yn.useSyncExternalStore!==void 0?yn.useSyncExternalStore:ad;gl.exports=ml;var ld=gl.exports,bl={exports:{}},vl={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=j,cd=ld;function ud(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hd=typeof Object.is=="function"?Object.is:ud,dd=cd.useSyncExternalStore,fd=Ci.useRef,pd=Ci.useEffect,gd=Ci.useMemo,md=Ci.useDebugValue;vl.useSyncExternalStoreWithSelector=function(e,n,t,i,s){var o=fd(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=gd(function(){function u(y){if(!h){if(h=!0,p=y,y=i(y),s!==void 0&&a.hasValue){var v=a.value;if(s(v,y))return m=v}return m=y}if(v=m,hd(p,y))return v;var S=i(y);return s!==void 0&&s(v,S)?v:(p=y,m=S)}var h=!1,p,m,g=t===void 0?null:t;return[function(){return u(n())},g===null?void 0:function(){return u(g())}]},[n,t,i,s]);var c=dd(e,o[0],o[1]);return pd(function(){a.hasValue=!0,a.value=c},[c]),md(c),c};bl.exports=vl;var bd=bl.exports;function vd(e){e()}let yl=vd;const yd=e=>yl=e,_d=()=>yl,ba=Symbol.for("react-redux-context"),va=typeof globalThis<"u"?globalThis:{};function wd(){var e;if(!j.createContext)return{};const n=(e=va[ba])!=null?e:va[ba]=new Map;let t=n.get(j.createContext);return t||(t=j.createContext(null),n.set(j.createContext,t)),t}const yi=wd();function _l(e=yi){return function(){return j.useContext(e)}}const Sd=_l(),xd=()=>{throw new Error("uSES not initialized!")};let wl=xd;const Pd=e=>{wl=e},Ed=(e,n)=>e===n;function Nd(e=yi){const n=e===yi?Sd:_l(e);return function(i,s={}){const{equalityFn:o=Ed,stabilityCheck:a=void 0,noopCheck:c=void 0}=typeof s=="function"?{equalityFn:s}:s,{store:u,subscription:h,getServerState:p,stabilityCheck:m,noopCheck:g}=n();j.useRef(!0);const y=j.useCallback({[i.name](S){return i(S)}}[i.name],[i,m,a]),v=wl(h.addNestedSub,u.getState,p||u.getState,y,o);return j.useDebugValue(v),v}}const At=Nd();var Sl={exports:{}},ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=typeof Symbol=="function"&&Symbol.for,fs=we?Symbol.for("react.element"):60103,ps=we?Symbol.for("react.portal"):60106,Ri=we?Symbol.for("react.fragment"):60107,ki=we?Symbol.for("react.strict_mode"):60108,$i=we?Symbol.for("react.profiler"):60114,Ii=we?Symbol.for("react.provider"):60109,Mi=we?Symbol.for("react.context"):60110,gs=we?Symbol.for("react.async_mode"):60111,ji=we?Symbol.for("react.concurrent_mode"):60111,zi=we?Symbol.for("react.forward_ref"):60112,Bi=we?Symbol.for("react.suspense"):60113,Od=we?Symbol.for("react.suspense_list"):60120,Di=we?Symbol.for("react.memo"):60115,Ui=we?Symbol.for("react.lazy"):60116,Td=we?Symbol.for("react.block"):60121,Ad=we?Symbol.for("react.fundamental"):60117,Fd=we?Symbol.for("react.responder"):60118,Ld=we?Symbol.for("react.scope"):60119;function Ue(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case fs:switch(e=e.type,e){case gs:case ji:case Ri:case $i:case ki:case Bi:return e;default:switch(e=e&&e.$$typeof,e){case Mi:case zi:case Ui:case Di:case Ii:return e;default:return n}}case ps:return n}}}function xl(e){return Ue(e)===ji}ne.AsyncMode=gs;ne.ConcurrentMode=ji;ne.ContextConsumer=Mi;ne.ContextProvider=Ii;ne.Element=fs;ne.ForwardRef=zi;ne.Fragment=Ri;ne.Lazy=Ui;ne.Memo=Di;ne.Portal=ps;ne.Profiler=$i;ne.StrictMode=ki;ne.Suspense=Bi;ne.isAsyncMode=function(e){return xl(e)||Ue(e)===gs};ne.isConcurrentMode=xl;ne.isContextConsumer=function(e){return Ue(e)===Mi};ne.isContextProvider=function(e){return Ue(e)===Ii};ne.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fs};ne.isForwardRef=function(e){return Ue(e)===zi};ne.isFragment=function(e){return Ue(e)===Ri};ne.isLazy=function(e){return Ue(e)===Ui};ne.isMemo=function(e){return Ue(e)===Di};ne.isPortal=function(e){return Ue(e)===ps};ne.isProfiler=function(e){return Ue(e)===$i};ne.isStrictMode=function(e){return Ue(e)===ki};ne.isSuspense=function(e){return Ue(e)===Bi};ne.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ri||e===ji||e===$i||e===ki||e===Bi||e===Od||typeof e=="object"&&e!==null&&(e.$$typeof===Ui||e.$$typeof===Di||e.$$typeof===Ii||e.$$typeof===Mi||e.$$typeof===zi||e.$$typeof===Ad||e.$$typeof===Fd||e.$$typeof===Ld||e.$$typeof===Td)};ne.typeOf=Ue;Sl.exports=ne;var Cd=Sl.exports,Pl=Cd,Rd={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kd={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},El={};El[Pl.ForwardRef]=Rd;El[Pl.Memo]=kd;var oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),bs=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Hi=Symbol.for("react.strict_mode"),Vi=Symbol.for("react.profiler"),Ki=Symbol.for("react.provider"),qi=Symbol.for("react.context"),$d=Symbol.for("react.server_context"),Yi=Symbol.for("react.forward_ref"),Gi=Symbol.for("react.suspense"),Xi=Symbol.for("react.suspense_list"),Ji=Symbol.for("react.memo"),Qi=Symbol.for("react.lazy"),Id=Symbol.for("react.offscreen"),Nl;Nl=Symbol.for("react.module.reference");function Ge(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case ms:switch(e=e.type,e){case Wi:case Vi:case Hi:case Gi:case Xi:return e;default:switch(e=e&&e.$$typeof,e){case $d:case qi:case Yi:case Qi:case Ji:case Ki:return e;default:return n}}case bs:return n}}}oe.ContextConsumer=qi;oe.ContextProvider=Ki;oe.Element=ms;oe.ForwardRef=Yi;oe.Fragment=Wi;oe.Lazy=Qi;oe.Memo=Ji;oe.Portal=bs;oe.Profiler=Vi;oe.StrictMode=Hi;oe.Suspense=Gi;oe.SuspenseList=Xi;oe.isAsyncMode=function(){return!1};oe.isConcurrentMode=function(){return!1};oe.isContextConsumer=function(e){return Ge(e)===qi};oe.isContextProvider=function(e){return Ge(e)===Ki};oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms};oe.isForwardRef=function(e){return Ge(e)===Yi};oe.isFragment=function(e){return Ge(e)===Wi};oe.isLazy=function(e){return Ge(e)===Qi};oe.isMemo=function(e){return Ge(e)===Ji};oe.isPortal=function(e){return Ge(e)===bs};oe.isProfiler=function(e){return Ge(e)===Vi};oe.isStrictMode=function(e){return Ge(e)===Hi};oe.isSuspense=function(e){return Ge(e)===Gi};oe.isSuspenseList=function(e){return Ge(e)===Xi};oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wi||e===Vi||e===Hi||e===Gi||e===Xi||e===Id||typeof e=="object"&&e!==null&&(e.$$typeof===Qi||e.$$typeof===Ji||e.$$typeof===Ki||e.$$typeof===qi||e.$$typeof===Yi||e.$$typeof===Nl||e.getModuleId!==void 0)};oe.typeOf=Ge;function Md(){const e=_d();let n=null,t=null;return{clear(){n=null,t=null},notify(){e(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){let i=[],s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0,o=t={callback:i,next:null,prev:t};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}const ya={notify(){},get:()=>[]};function jd(e,n){let t,i=ya,s=0,o=!1;function a(S){p();const O=i.subscribe(S);let F=!1;return()=>{F||(F=!0,O(),m())}}function c(){i.notify()}function u(){v.onStateChange&&v.onStateChange()}function h(){return o}function p(){s++,t||(t=n?n.addNestedSub(u):e.subscribe(u),i=Md())}function m(){s--,t&&s===0&&(t(),t=void 0,i.clear(),i=ya)}function g(){o||(o=!0,p())}function y(){o&&(o=!1,m())}const v={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>i};return v}const zd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bd=zd?j.useLayoutEffect:j.useEffect;function vs({store:e,context:n,children:t,serverState:i,stabilityCheck:s="once",noopCheck:o="once"}){const a=j.useMemo(()=>{const h=jd(e);return{store:e,subscription:h,getServerState:i?()=>i:void 0,stabilityCheck:s,noopCheck:o}},[e,i,s,o]),c=j.useMemo(()=>e.getState(),[e]);Bd(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,c]);const u=n||yi;return j.createElement(u.Provider,{value:a},t)}Pd(bd.useSyncExternalStoreWithSelector);yd(Li.unstable_batchedUpdates);const Dd=(e,n,t=!1)=>chrome.runtime.sendMessage({reverseSearch:!0,asin:e,mainServerAPICheck:t,market:n}),Ud=(e,n,t,i=!1,s=null,o=null,a=0)=>chrome.runtime.sendMessage({productInfo:!0,asin:e,mainServerAPICheck:i,market:n,marketplace:t,bsr:o,category:s,salePrice:a}),Wd=e=>document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,ut=e=>document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);function Ol(e){const n={com:{symbol:"$",market:1,value:"US"},"co.uk":{symbol:"£",market:2,value:"UK"},de:{symbol:"€",market:3,value:"DE"},fr:{symbol:"€",market:4,value:"FR"},"co.jp":{symbol:"¥",market:5,value:"JP"},ca:{symbol:"$",market:6,value:"CA"},it:{symbol:"€",market:8,value:"IT"},es:{symbol:"€",market:9,value:"ES"},in:{symbol:"₹",market:10,value:"IN"}},{symbol:t,market:i,value:s}=n[e]||n["co.uk"];return[t,i,s]}const Tl=(e,n)=>chrome.runtime.sendMessage({detailPageOffers:!0,urlEndpoint:e,offersCheck:n}),Hd={loading:!0,headerData:null,productInfo:null,asin:null,currencySymbol:null,marketplace:null,productData:null,profitCalculatorData:null,productFees:null,offersData:{},offersDataSuccess:null,offersDataLoading:!0,success:null,domain:null,reverseSearchData:[],reverseSearchLoading:!1,reverseSearchSuccess:null,googleShoppingLoading:!0,googleShoppingData:[],googleShoppingSuccess:null},Vd=(e=Hd,{type:n,payload:t})=>{switch(n){case ll:return{...e,loading:t.loader};case cl:return{...e,...t};case hl:return{...e,...t,loading:e.loading,asin:e.asin,reverseSearchLoading:e.reverseSearchLoading,googleShoppingLoading:e.googleShoppingLoading};case ul:return{...e,profitCalculatorData:{...e.profitCalculatorData,...t.profitCalculatorData},productFees:{...e.productFees,...t.productFees},offersData:t.offersData,googleShoppingData:t.googleShoppingData};case Kh:return{...e,productFees:{...e.productFees,...t}};default:return e}},Kd={loader:!0,success:null,reverseSearchData:{},asinArray:[],currencySymbol:null,currentURL:null},qd=(e=Kd,{type:n,payload:t})=>{switch(n){case Xh:return{...e,asinArray:t.asinArray};case pl:return{...e,currentURL:t.currentURL};case dl:return{...e,reverseSearchData:t.reverseSearchData,success:t.success,currencySymbol:t.currencySymbol};case fl:return{...e,loader:t.loader};default:return e}};function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},In(e)}function Yd(e,n){if(In(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var i=t.call(e,n||"default");if(In(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Gd(e){var n=Yd(e,"string");return In(n)=="symbol"?n:String(n)}function Xd(e,n,t){return n=Gd(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,i)}return t}function wa(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?_a(Object(t),!0).forEach(function(i){Xd(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_a(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function Ee(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Sa=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),zr=function(){return Math.random().toString(36).substring(7).split("").join(".")},_i={INIT:"@@redux/INIT"+zr(),REPLACE:"@@redux/REPLACE"+zr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zr()}};function Jd(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function Al(e,n,t){var i;if(typeof n=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ee(0));if(typeof n=="function"&&typeof t>"u"&&(t=n,n=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ee(1));return t(Al)(e,n)}if(typeof e!="function")throw new Error(Ee(2));var s=e,o=n,a=[],c=a,u=!1;function h(){c===a&&(c=a.slice())}function p(){if(u)throw new Error(Ee(3));return o}function m(S){if(typeof S!="function")throw new Error(Ee(4));if(u)throw new Error(Ee(5));var O=!0;return h(),c.push(S),function(){if(O){if(u)throw new Error(Ee(6));O=!1,h();var P=c.indexOf(S);c.splice(P,1),a=null}}}function g(S){if(!Jd(S))throw new Error(Ee(7));if(typeof S.type>"u")throw new Error(Ee(8));if(u)throw new Error(Ee(9));try{u=!0,o=s(o,S)}finally{u=!1}for(var O=a=c,F=0;F<O.length;F++){var P=O[F];P()}return S}function y(S){if(typeof S!="function")throw new Error(Ee(10));s=S,g({type:_i.REPLACE})}function v(){var S,O=m;return S={subscribe:function(P){if(typeof P!="object"||P===null)throw new Error(Ee(11));function E(){P.next&&P.next(p())}E();var T=O(E);return{unsubscribe:T}}},S[Sa]=function(){return this},S}return g({type:_i.INIT}),i={dispatch:g,subscribe:m,getState:p,replaceReducer:y},i[Sa]=v,i}function Qd(e){Object.keys(e).forEach(function(n){var t=e[n],i=t(void 0,{type:_i.INIT});if(typeof i>"u")throw new Error(Ee(12));if(typeof t(void 0,{type:_i.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ee(13))})}function Fl(e){for(var n=Object.keys(e),t={},i=0;i<n.length;i++){var s=n[i];typeof e[s]=="function"&&(t[s]=e[s])}var o=Object.keys(t),a;try{Qd(t)}catch(c){a=c}return function(u,h){if(u===void 0&&(u={}),a)throw a;for(var p=!1,m={},g=0;g<o.length;g++){var y=o[g],v=t[y],S=u[y],O=v(S,h);if(typeof O>"u")throw h&&h.type,new Error(Ee(14));m[y]=O,p=p||O!==S}return p=p||o.length!==Object.keys(u).length,p?m:u}}function wi(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.length===0?function(i){return i}:n.length===1?n[0]:n.reduce(function(i,s){return function(){return i(s.apply(void 0,arguments))}})}function Zd(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(i){return function(){var s=i.apply(void 0,arguments),o=function(){throw new Error(Ee(15))},a={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},c=n.map(function(u){return u(a)});return o=wi.apply(void 0,c)(s.dispatch),wa(wa({},s),{},{dispatch:o})}}}function tt(e){for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wt(e){return!!e&&!!e[ce]}function Ht(e){var n;return!!e&&(function(t){if(!t||typeof t!="object")return!1;var i=Object.getPrototypeOf(t);if(i===null)return!0;var s=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===cf}(e)||Array.isArray(e)||!!e[Aa]||!!(!((n=e.constructor)===null||n===void 0)&&n[Aa])||ys(e)||_s(e))}function Vt(e,n,t){t===void 0&&(t=!1),_n(e)===0?(t?Object.keys:mn)(e).forEach(function(i){t&&typeof i=="symbol"||n(i,e[i],e)}):e.forEach(function(i,s){return n(s,i,e)})}function _n(e){var n=e[ce];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:ys(e)?2:_s(e)?3:0}function gn(e,n){return _n(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function ef(e,n){return _n(e)===2?e.get(n):e[n]}function Ll(e,n,t){var i=_n(e);i===2?e.set(n,t):i===3?e.add(t):e[n]=t}function Cl(e,n){return e===n?e!==0||1/e==1/n:e!=e&&n!=n}function ys(e){return af&&e instanceof Map}function _s(e){return lf&&e instanceof Set}function Ut(e){return e.o||e.t}function ws(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=kl(e);delete n[ce];for(var t=mn(n),i=0;i<t.length;i++){var s=t[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Object.getPrototypeOf(e),n)}function Ss(e,n){return n===void 0&&(n=!1),xs(e)||Wt(e)||!Ht(e)||(_n(e)>1&&(e.set=e.add=e.clear=e.delete=tf),Object.freeze(e),n&&Vt(e,function(t,i){return Ss(i,!0)},!0)),e}function tf(){tt(2)}function xs(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ct(e){var n=rs[e];return n||tt(18,e),n}function nf(e,n){rs[e]||(rs[e]=n)}function ts(){return Mn}function Br(e,n){n&&(ct("Patches"),e.u=[],e.s=[],e.v=n)}function Si(e){ns(e),e.p.forEach(rf),e.p=null}function ns(e){e===Mn&&(Mn=e.l)}function xa(e){return Mn={p:[],l:Mn,h:e,m:!0,_:0}}function rf(e){var n=e[ce];n.i===0||n.i===1?n.j():n.g=!0}function Dr(e,n){n._=n.p.length;var t=n.p[0],i=e!==void 0&&e!==t;return n.h.O||ct("ES5").S(n,e,i),i?(t[ce].P&&(Si(n),tt(4)),Ht(e)&&(e=xi(n,e),n.l||Pi(n,e)),n.u&&ct("Patches").M(t[ce].t,e,n.u,n.s)):e=xi(n,t,[]),Si(n),n.u&&n.v(n.u,n.s),e!==Rl?e:void 0}function xi(e,n,t){if(xs(n))return n;var i=n[ce];if(!i)return Vt(n,function(c,u){return Pa(e,i,n,c,u,t)},!0),n;if(i.A!==e)return n;if(!i.P)return Pi(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var s=i.i===4||i.i===5?i.o=ws(i.k):i.o,o=s,a=!1;i.i===3&&(o=new Set(s),s.clear(),a=!0),Vt(o,function(c,u){return Pa(e,i,s,c,u,t,a)}),Pi(e,s,!1),t&&e.u&&ct("Patches").N(i,t,e.u,e.s)}return i.o}function Pa(e,n,t,i,s,o,a){if(Wt(s)){var c=xi(e,s,o&&n&&n.i!==3&&!gn(n.R,i)?o.concat(i):void 0);if(Ll(t,i,c),!Wt(c))return;e.m=!1}else a&&t.add(s);if(Ht(s)&&!xs(s)){if(!e.h.D&&e._<1)return;xi(e,s),n&&n.A.l||Pi(e,s)}}function Pi(e,n,t){t===void 0&&(t=!1),!e.l&&e.h.D&&e.m&&Ss(n,t)}function Ur(e,n){var t=e[ce];return(t?Ut(t):e)[n]}function Ea(e,n){if(n in e)for(var t=Object.getPrototypeOf(e);t;){var i=Object.getOwnPropertyDescriptor(t,n);if(i)return i;t=Object.getPrototypeOf(t)}}function Nt(e){e.P||(e.P=!0,e.l&&Nt(e.l))}function Wr(e){e.o||(e.o=ws(e.t))}function is(e,n,t){var i=ys(n)?ct("MapSet").F(n,t):_s(n)?ct("MapSet").T(n,t):e.O?function(s,o){var a=Array.isArray(s),c={i:a?1:0,A:o?o.A:ts(),P:!1,I:!1,R:{},l:o,t:s,k:null,o:null,j:null,C:!1},u=c,h=jn;a&&(u=[c],h=Rn);var p=Proxy.revocable(u,h),m=p.revoke,g=p.proxy;return c.k=g,c.j=m,g}(n,t):ct("ES5").J(n,t);return(t?t.A:ts()).p.push(i),i}function sf(e){return Wt(e)||tt(22,e),function n(t){if(!Ht(t))return t;var i,s=t[ce],o=_n(t);if(s){if(!s.P&&(s.i<4||!ct("ES5").K(s)))return s.t;s.I=!0,i=Na(t,o),s.I=!1}else i=Na(t,o);return Vt(i,function(a,c){s&&ef(s.t,a)===c||Ll(i,a,n(c))}),o===3?new Set(i):i}(e)}function Na(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return ws(e)}function of(){function e(o,a){var c=s[o];return c?c.enumerable=a:s[o]=c={configurable:!0,enumerable:a,get:function(){var u=this[ce];return jn.get(u,o)},set:function(u){var h=this[ce];jn.set(h,o,u)}},c}function n(o){for(var a=o.length-1;a>=0;a--){var c=o[a][ce];if(!c.P)switch(c.i){case 5:i(c)&&Nt(c);break;case 4:t(c)&&Nt(c)}}}function t(o){for(var a=o.t,c=o.k,u=mn(c),h=u.length-1;h>=0;h--){var p=u[h];if(p!==ce){var m=a[p];if(m===void 0&&!gn(a,p))return!0;var g=c[p],y=g&&g[ce];if(y?y.t!==m:!Cl(g,m))return!0}}var v=!!a[ce];return u.length!==mn(a).length+(v?0:1)}function i(o){var a=o.k;if(a.length!==o.t.length)return!0;var c=Object.getOwnPropertyDescriptor(a,a.length-1);if(c&&!c.get)return!0;for(var u=0;u<a.length;u++)if(!a.hasOwnProperty(u))return!0;return!1}var s={};nf("ES5",{J:function(o,a){var c=Array.isArray(o),u=function(p,m){if(p){for(var g=Array(m.length),y=0;y<m.length;y++)Object.defineProperty(g,""+y,e(y,!0));return g}var v=kl(m);delete v[ce];for(var S=mn(v),O=0;O<S.length;O++){var F=S[O];v[F]=e(F,p||!!v[F].enumerable)}return Object.create(Object.getPrototypeOf(m),v)}(c,o),h={i:c?5:4,A:a?a.A:ts(),P:!1,I:!1,R:{},l:a,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,ce,{value:h,writable:!0}),u},S:function(o,a,c){c?Wt(a)&&a[ce].A===o&&n(o.p):(o.u&&function u(h){if(h&&typeof h=="object"){var p=h[ce];if(p){var m=p.t,g=p.k,y=p.R,v=p.i;if(v===4)Vt(g,function(E){E!==ce&&(m[E]!==void 0||gn(m,E)?y[E]||u(g[E]):(y[E]=!0,Nt(p)))}),Vt(m,function(E){g[E]!==void 0||gn(g,E)||(y[E]=!1,Nt(p))});else if(v===5){if(i(p)&&(Nt(p),y.length=!0),g.length<m.length)for(var S=g.length;S<m.length;S++)y[S]=!1;else for(var O=m.length;O<g.length;O++)y[O]=!0;for(var F=Math.min(g.length,m.length),P=0;P<F;P++)g.hasOwnProperty(P)||(y[P]=!0),y[P]===void 0&&u(g[P])}}}}(o.p[0]),n(o.p))},K:function(o){return o.i===4?t(o):i(o)}})}var Oa,Mn,Ps=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",af=typeof Map<"u",lf=typeof Set<"u",Ta=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Rl=Ps?Symbol.for("immer-nothing"):((Oa={})["immer-nothing"]=!0,Oa),Aa=Ps?Symbol.for("immer-draftable"):"__$immer_draftable",ce=Ps?Symbol.for("immer-state"):"__$immer_state",cf=""+Object.prototype.constructor,mn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,kl=Object.getOwnPropertyDescriptors||function(e){var n={};return mn(e).forEach(function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)}),n},rs={},jn={get:function(e,n){if(n===ce)return e;var t=Ut(e);if(!gn(t,n))return function(s,o,a){var c,u=Ea(o,a);return u?"value"in u?u.value:(c=u.get)===null||c===void 0?void 0:c.call(s.k):void 0}(e,t,n);var i=t[n];return e.I||!Ht(i)?i:i===Ur(e.t,n)?(Wr(e),e.o[n]=is(e.A.h,i,e)):i},has:function(e,n){return n in Ut(e)},ownKeys:function(e){return Reflect.ownKeys(Ut(e))},set:function(e,n,t){var i=Ea(Ut(e),n);if(i!=null&&i.set)return i.set.call(e.k,t),!0;if(!e.P){var s=Ur(Ut(e),n),o=s==null?void 0:s[ce];if(o&&o.t===t)return e.o[n]=t,e.R[n]=!1,!0;if(Cl(t,s)&&(t!==void 0||gn(e.t,n)))return!0;Wr(e),Nt(e)}return e.o[n]===t&&(t!==void 0||n in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[n])||(e.o[n]=t,e.R[n]=!0),!0},deleteProperty:function(e,n){return Ur(e.t,n)!==void 0||n in e.t?(e.R[n]=!1,Wr(e),Nt(e)):delete e.R[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var t=Ut(e),i=Reflect.getOwnPropertyDescriptor(t,n);return i&&{writable:!0,configurable:e.i!==1||n!=="length",enumerable:i.enumerable,value:t[n]}},defineProperty:function(){tt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){tt(12)}},Rn={};Vt(jn,function(e,n){Rn[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),Rn.deleteProperty=function(e,n){return Rn.set.call(this,e,n,void 0)},Rn.set=function(e,n,t){return jn.set.call(this,e[0],n,t,e[0])};var uf=function(){function e(t){var i=this;this.O=Ta,this.D=!0,this.produce=function(s,o,a){if(typeof s=="function"&&typeof o!="function"){var c=o;o=s;var u=i;return function(S){var O=this;S===void 0&&(S=c);for(var F=arguments.length,P=Array(F>1?F-1:0),E=1;E<F;E++)P[E-1]=arguments[E];return u.produce(S,function(T){var C;return(C=o).call.apply(C,[O,T].concat(P))})}}var h;if(typeof o!="function"&&tt(6),a!==void 0&&typeof a!="function"&&tt(7),Ht(s)){var p=xa(i),m=is(i,s,void 0),g=!0;try{h=o(m),g=!1}finally{g?Si(p):ns(p)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(S){return Br(p,a),Dr(S,p)},function(S){throw Si(p),S}):(Br(p,a),Dr(h,p))}if(!s||typeof s!="object"){if((h=o(s))===void 0&&(h=s),h===Rl&&(h=void 0),i.D&&Ss(h,!0),a){var y=[],v=[];ct("Patches").M(s,h,y,v),a(y,v)}return h}tt(21,s)},this.produceWithPatches=function(s,o){if(typeof s=="function")return function(h){for(var p=arguments.length,m=Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];return i.produceWithPatches(h,function(y){return s.apply(void 0,[y].concat(m))})};var a,c,u=i.produce(s,o,function(h,p){a=h,c=p});return typeof Promise<"u"&&u instanceof Promise?u.then(function(h){return[h,a,c]}):[u,a,c]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var n=e.prototype;return n.createDraft=function(t){Ht(t)||tt(8),Wt(t)&&(t=sf(t));var i=xa(this),s=is(this,t,void 0);return s[ce].C=!0,ns(i),s},n.finishDraft=function(t,i){var s=t&&t[ce],o=s.A;return Br(o,i),Dr(void 0,o)},n.setAutoFreeze=function(t){this.D=t},n.setUseProxies=function(t){t&&!Ta&&tt(20),this.O=t},n.applyPatches=function(t,i){var s;for(s=i.length-1;s>=0;s--){var o=i[s];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}s>-1&&(i=i.slice(s+1));var a=ct("Patches").$;return Wt(t)?a(t,i):this.produce(t,function(c){return a(c,i)})},e}(),De=new uf;De.produce;De.produceWithPatches.bind(De);De.setAutoFreeze.bind(De);De.setUseProxies.bind(De);De.applyPatches.bind(De);De.createDraft.bind(De);De.finishDraft.bind(De);function $l(e){var n=function(i){var s=i.dispatch,o=i.getState;return function(a){return function(c){return typeof c=="function"?c(s,o,e):a(c)}}};return n}var Il=$l();Il.withExtraArgument=$l;const Fa=Il;var Ml=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hf=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(p){return u([h,p])}}function u(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,s=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(e,t)}catch(p){h=[6,p],s=0}finally{i=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},zn=globalThis&&globalThis.__spreadArray||function(e,n){for(var t=0,i=n.length,s=e.length;t<i;t++,s++)e[s]=n[t];return e},df=Object.defineProperty,ff=Object.defineProperties,pf=Object.getOwnPropertyDescriptors,La=Object.getOwnPropertySymbols,gf=Object.prototype.hasOwnProperty,mf=Object.prototype.propertyIsEnumerable,Ca=function(e,n,t){return n in e?df(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t},bn=function(e,n){for(var t in n||(n={}))gf.call(n,t)&&Ca(e,t,n[t]);if(La)for(var i=0,s=La(n);i<s.length;i++){var t=s[i];mf.call(n,t)&&Ca(e,t,n[t])}return e},Hr=function(e,n){return ff(e,pf(n))},bf=function(e,n,t){return new Promise(function(i,s){var o=function(u){try{c(t.next(u))}catch(h){s(h)}},a=function(u){try{c(t.throw(u))}catch(h){s(h)}},c=function(u){return u.done?i(u.value):Promise.resolve(u.value).then(o,a)};c((t=t.apply(e,n)).next())})},vf=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wi:wi.apply(null,arguments)};function yf(e){if(typeof e!="object"||e===null)return!1;var n=Object.getPrototypeOf(e);if(n===null)return!0;for(var t=n;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return n===t}function vn(e,n){function t(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n){var o=n.apply(void 0,i);if(!o)throw new Error("prepareAction did not return an object");return bn(bn({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:i[0]}}return t.toString=function(){return""+e},t.type=e,t.match=function(i){return i.type===e},t}var _f=function(e){Ml(n,e);function n(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s=e.apply(this,t)||this;return Object.setPrototypeOf(s,n.prototype),s}return Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.prototype.concat.apply(this,t)},n.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(n.bind.apply(n,zn([void 0],t[0].concat(this)))):new(n.bind.apply(n,zn([void 0],t.concat(this))))},n}(Array),wf=function(e){Ml(n,e);function n(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s=e.apply(this,t)||this;return Object.setPrototypeOf(s,n.prototype),s}return Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.prototype.concat.apply(this,t)},n.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(n.bind.apply(n,zn([void 0],t[0].concat(this)))):new(n.bind.apply(n,zn([void 0],t.concat(this))))},n}(Array);function Sf(e){return typeof e=="boolean"}function xf(){return function(n){return Pf(n)}}function Pf(e){e===void 0&&(e={});var n=e.thunk,t=n===void 0?!0:n;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var i=new _f;return t&&(Sf(t)?i.push(Fa):i.push(Fa.withExtraArgument(t.extraArgument))),i}var Ef=!0;function Nf(e){var n=xf(),t=e||{},i=t.reducer,s=i===void 0?void 0:i,o=t.middleware,a=o===void 0?n():o,c=t.devTools,u=c===void 0?!0:c,h=t.preloadedState,p=h===void 0?void 0:h,m=t.enhancers,g=m===void 0?void 0:m,y;if(typeof s=="function")y=s;else if(yf(s))y=Fl(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=a;typeof v=="function"&&(v=v(n));var S=Zd.apply(void 0,v),O=wi;u&&(O=vf(bn({trace:!Ef},typeof u=="object"&&u)));var F=new wf(S),P=F;Array.isArray(g)?P=zn([S],g):typeof g=="function"&&(P=g(F));var E=O.apply(void 0,P);return Al(y,p,E)}var Of="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tf=function(e){e===void 0&&(e=21);for(var n="",t=e;t--;)n+=Of[Math.random()*64|0];return n},Af=["name","message","stack","code"],Vr=function(){function e(n,t){this.payload=n,this.meta=t}return e}(),Ra=function(){function e(n,t){this.payload=n,this.meta=t}return e}(),Ff=function(e){if(typeof e=="object"&&e!==null){for(var n={},t=0,i=Af;t<i.length;t++){var s=i[t];typeof e[s]=="string"&&(n[s]=e[s])}return n}return{message:String(e)}};(function(){function e(n,t,i){var s=vn(n+"/fulfilled",function(h,p,m,g){return{payload:h,meta:Hr(bn({},g||{}),{arg:m,requestId:p,requestStatus:"fulfilled"})}}),o=vn(n+"/pending",function(h,p,m){return{payload:void 0,meta:Hr(bn({},m||{}),{arg:p,requestId:h,requestStatus:"pending"})}}),a=vn(n+"/rejected",function(h,p,m,g,y){return{payload:g,error:(i&&i.serializeError||Ff)(h||"Rejected"),meta:Hr(bn({},y||{}),{arg:m,requestId:p,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),c=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function u(h){return function(p,m,g){var y=i!=null&&i.idGenerator?i.idGenerator(h):Tf(),v=new c,S;function O(P){S=P,v.abort()}var F=function(){return bf(this,null,function(){var P,E,T,C,z,M,ie;return hf(this,function(X){switch(X.label){case 0:return X.trys.push([0,4,,5]),C=(P=i==null?void 0:i.condition)==null?void 0:P.call(i,h,{getState:m,extra:g}),Cf(C)?[4,C]:[3,2];case 1:C=X.sent(),X.label=2;case 2:if(C===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return z=new Promise(function(Q,me){return v.signal.addEventListener("abort",function(){return me({name:"AbortError",message:S||"Aborted"})})}),p(o(y,h,(E=i==null?void 0:i.getPendingMeta)==null?void 0:E.call(i,{requestId:y,arg:h},{getState:m,extra:g}))),[4,Promise.race([z,Promise.resolve(t(h,{dispatch:p,getState:m,extra:g,requestId:y,signal:v.signal,abort:O,rejectWithValue:function(Q,me){return new Vr(Q,me)},fulfillWithValue:function(Q,me){return new Ra(Q,me)}})).then(function(Q){if(Q instanceof Vr)throw Q;return Q instanceof Ra?s(Q.payload,y,h,Q.meta):s(Q,y,h)})])];case 3:return T=X.sent(),[3,5];case 4:return M=X.sent(),T=M instanceof Vr?a(null,y,h,M.payload,M.meta):a(M,y,h),[3,5];case 5:return ie=i&&!i.dispatchConditionRejection&&a.match(T)&&T.meta.condition,ie||p(T),[2,T]}})})}();return Object.assign(F,{abort:O,requestId:y,arg:h,unwrap:function(){return F.then(Lf)}})}}return Object.assign(u,{pending:o,rejected:a,fulfilled:s,typePrefix:n})}return e.withTypes=function(){return e},e})();function Lf(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Cf(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Es="listenerMiddleware";vn(Es+"/add");vn(Es+"/removeAll");vn(Es+"/remove");var ka;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);of();const Rf=Fl({DetailPage:Vd,ListPage:qd}),ge=Nf({reducer:Rf}),kf=async()=>{const{list_page_container:e,list_page_grid_container:n}=await chrome.storage.local.get(["list_page_container","list_page_grid_container"]),t=e.concat(n);for(const i of t){const s=ut(i);if(s.snapshotLength>0&&s.snapshotItem(0))return await $f(s)}};async function $f(e){let n;n=window.location.href||await chrome.runtime.sendMessage({currentUrl:!0});const{list_page_subcontainer:i}=await chrome.storage.local.get(["list_page_subcontainer"]);try{const s=[],o=[],a=[];for(let c=0;c<e.snapshotLength;c++){const u=e.snapshotItem(c),h=u.attributes["data-asin"].nodeValue,p=u.querySelectorAll("h2 > a > span")[0].textContent;let m;for(const g of i)if(m=u.querySelector(g),m)break;a.push({productTitle:p}),o.push(m),s.push(h)}return[o,s,a,n]}catch(s){console.log("Error in Search page",s.message)}}const If=async(e,n)=>{try{ge.dispatch(ci({},null,null));const s=new URL(n).hostname.split("amazon.").pop(),[o,a]=Ol(s);let u=new URL(n).searchParams.get("use_main_server")==="true";const h=await Dd(e,a,u);h!=null&&h.success&&(h!=null&&h.license)?ge.dispatch(ci(h.products,o,h.success)):ge.dispatch(ci({},null,!1))}catch(t){console.log("Error in Search page",t.message),ge.dispatch(ci({},null,!1))}},Kr=({value:e,title:n,precision:t})=>b(ue,{isTrue:e,children:b("div",{children:L("span",{className:"title",children:[b("span",{className:"ah-custom-label",children:n}),b("span",{className:"value",children:e==="N/A"?e:parseFloat(e).toFixed(t)})]})})});function Mf(){if(console&&console.warn){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];typeof n[0]=="string"&&(n[0]=`react-i18next:: ${n[0]}`),console.warn(...n)}}const $a={};function ss(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];typeof n[0]=="string"&&$a[n[0]]||(typeof n[0]=="string"&&($a[n[0]]=new Date),Mf(...n))}const jl=(e,n)=>()=>{if(e.isInitialized)n();else{const t=()=>{setTimeout(()=>{e.off("initialized",t)},0),n()};e.on("initialized",t)}};function Ia(e,n,t){e.loadNamespaces(n,jl(e,t))}function Ma(e,n,t,i){typeof t=="string"&&(t=[t]),t.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(n,jl(e,i))}function jf(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=n.languages[0],s=n.options?n.options.fallbackLng:!1,o=n.languages[n.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(c,u)=>{const h=n.services.backendConnector.state[`${c}|${u}`];return h===-1||h===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e)?!1:!!(n.hasResourceBundle(i,e)||!n.services.backendConnector.backend||n.options.resources&&!n.options.partialBundledLanguages||a(i,e)&&(!s||a(o,e)))}function zf(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!n.languages||!n.languages.length?(ss("i18n.languages were undefined or empty",n.languages),!0):n.options.ignoreJSONStructure!==void 0?n.hasLoadedNamespace(e,{lng:t.lng,precheck:(s,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}):jf(e,n,t)}const Bf=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Df={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Uf=e=>Df[e],Wf=e=>e.replace(Bf,Uf);let os={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Wf};function Hf(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};os={...os,...e}}function Vf(){return os}let zl;function Kf(e){zl=e}function qf(){return zl}const Yf={type:"3rdParty",init(e){Hf(e.options.react),Kf(e)}},Gf=j.createContext();class Xf{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Jf=(e,n)=>{const t=j.useRef();return j.useEffect(()=>{t.current=n?t.current:e},[e,n]),t.current};function bt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=n,{i18n:i,defaultNS:s}=j.useContext(Gf)||{},o=t||i||qf();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Xf),!o){ss("You will need to pass in an i18next instance by using initReactI18next");const E=(C,z)=>typeof z=="string"?z:z&&typeof z=="object"&&typeof z.defaultValue=="string"?z.defaultValue:Array.isArray(C)?C[C.length-1]:C,T=[E,{},!1];return T.t=E,T.i18n={},T.ready=!1,T}o.options.react&&o.options.react.wait!==void 0&&ss("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Vf(),...o.options.react,...n},{useSuspense:c,keyPrefix:u}=a;let h=e||s||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);const p=(o.isInitialized||o.initializedStoreOnce)&&h.every(E=>zf(E,o,a));function m(){return o.getFixedT(n.lng||null,a.nsMode==="fallback"?h:h[0],u)}const[g,y]=j.useState(m);let v=h.join();n.lng&&(v=`${n.lng}${v}`);const S=Jf(v),O=j.useRef(!0);j.useEffect(()=>{const{bindI18n:E,bindI18nStore:T}=a;O.current=!0,!p&&!c&&(n.lng?Ma(o,n.lng,h,()=>{O.current&&y(m)}):Ia(o,h,()=>{O.current&&y(m)})),p&&S&&S!==v&&O.current&&y(m);function C(){O.current&&y(m)}return E&&o&&o.on(E,C),T&&o&&o.store.on(T,C),()=>{O.current=!1,E&&o&&E.split(" ").forEach(z=>o.off(z,C)),T&&o&&T.split(" ").forEach(z=>o.store.off(z,C))}},[o,v]);const F=j.useRef(!0);j.useEffect(()=>{O.current&&!F.current&&y(m),F.current=!1},[o,u]);const P=[g,o,p];if(P.t=g,P.i18n=o,P.ready=p,p||!p&&!c)return P;throw new Promise(E=>{n.lng?Ma(o,n.lng,h,()=>E()):Ia(o,h,()=>E())})}const Bl=({asin:e,detailsResponse:n})=>{const{t}=bt(),i=(n==null?void 0:n.bsr)>=1e8||!/\d/.test(n==null?void 0:n.bsr)?["N/A","N/A"]:[n==null?void 0:n.bsr,n==null?void 0:n.bsr_percentage];return L("div",{className:"ah-product",children:[L("div",{children:[b("span",{className:"ah-custom-label ah-custom-h6 d-block",children:"ASIN"}),L("span",{className:"text-black ah-custom-font-light ah-custom-h6",children:[" ",e," "]})]}),L("div",{className:"ah-product-details",children:[b(Kr,{value:i[0],title:"BSR ",precision:0}),b(Kr,{value:i[1],title:"BSR% ",precision:4}),b(Kr,{value:n==null?void 0:n.max_cost,title:t("Max cost "),precision:2})]})]})},ja=({imageSize:e,children:n})=>{const t="./assets/images/arbitrageLogo.png",{t:i}=bt();return L("div",{className:"ah-content-footer",children:[b("div",{children:n}),L("div",{style:{display:"flex",alignItems:"center"},children:[L("span",{className:"poweredBy",children:[i("Powered by"),":"]}),b("a",{href:"https://arbitragehero.com/",target:"_blank",rel:"noreferrer",style:{height:"15px"},children:b("img",{src:chrome.runtime.getURL(t),width:e})})]})]})};async function za(e){let n;for(const t of e){let i=ut(t);if(i.snapshotLength>0&&i.snapshotItem(0)){n=i.snapshotItem(0);break}}return n}function Dl(e,n){let t=Qf(n),i=e.replace(/[^\w\s]/gi,"").toLowerCase();i=i.replace(/\s+/g,"+");let s=t+"search?q="+i,o=t+"search?tbm=shop&q="+i;return[s,o]}function Qf(e){let n="https://www.google";const t=".co.uk/",i=o=>n+o,s=ol.find(o=>e.includes(o));return i(s??t)}const Ul=({itemTitle:e,currentUrl:n,fontSize:t})=>{const i="./assets/icons/ah-new-google-icon.svg",s="./assets/icons/ah-new-google-tag-icon.svg",{t:o}=bt(),[a,c]=j.useState([null,null]);return j.useEffect(()=>{c(Dl(e,n))},[]),b(ue,{isTrue:e,children:L("div",{style:{alignItems:"center",fontSize:`${t||"15px"}`,gap:"5px",paddingBottom:"7px",fontWeight:"bold",display:"flex"},children:[L("span",{className:"ah-custom-label ah-custom-h6 pb-0",children:[o("Search"),":"]}),b("a",{href:a==null?void 0:a[0],style:{maxHeight:"15px"},target:"_blank",id:"google_anchor_tag",rel:"noreferrer",title:"Google Search Results",children:b("img",{src:chrome.runtime.getURL(i),alt:"google"})}),b("a",{href:a==null?void 0:a[1],style:{maxHeight:"15px"},id:"google_shopping_anchor_tag",target:"_blank",rel:"noreferrer",title:"Google Shopping Results",children:b("img",{src:chrome.runtime.getURL(s),alt:"tag"})})]})})},kn=({outerClass:e})=>b("div",{className:e??"ah-detail-page-data",children:b("div",{className:"ah-common-loader"})}),Ns=({message:e="There are no results"})=>{const n="./assets/icons/no-connection.svg",{t}=bt();return L("div",{className:"d-flex flex-column  align-items-center ",children:[b("img",{src:chrome.runtime.getURL(n),alt:"item",width:"250px",height:"45px"}),b("span",{style:{fontWeight:"bold",color:"darkgrey",display:"flex",justifyContent:"center",paddingTop:"10px"},children:t(e)})]})},Wl=({stores:e,currencySymbol:n})=>{const{t}=bt();return b("div",{style:{overflowX:"auto"},children:b(ue,{isTrue:e==null?void 0:e.length,fallback:b(Ns,{}),children:L("table",{className:"ah-reverse-search-content-table",children:[b("thead",{children:L("tr",{children:[b("th",{children:t("Image")}),b("th",{children:t("Store")}),b("th",{id:"price-header",children:t("Price")})]})}),b("tbody",{children:e==null?void 0:e.map((i,s)=>{const o=new URL(i==null?void 0:i.url);return L("tr",{children:[b("td",{children:b("img",{src:i==null?void 0:i.image,style:{maxWidth:"40px",maxHeight:"40px",objectFit:"contain"}})}),b("td",{children:L("a",{href:o.href,target:"_blank",rel:"noreferrer",children:[b("img",{height:"10",width:"10",src:`https://www.google.com/s2/favicons?domain=${o.hostname}`}),o.host.replace(/^www\./i,"")]})}),L("td",{children:[n+" ",(Math.floor(parseFloat(i==null?void 0:i.price)*100)/100).toFixed(2)]})]},s)})})]})})})},Zf="Overview",ep="Cost",tp="Price",np="Profit",ip="ROI",rp="Image",sp="Store",op={Overview:Zf,"Search on":"Search on","Profit Calculator":"Profit Calculator","Pricing & Offers":"Pricing & Offers",Cost:ep,Price:tp,"Prep Fee":"Prep Fee","Storage Months":"Storage Months","VAT Scheme":"VAT Scheme","Not Applicable":"Not Applicable","Not Registered":"Not Registered","VAT Registered":"VAT Registered","Flat Rate":"Flat Rate","Fulfilment Type":"Fulfilment Type","Low-Price FBA":"Low-Price FBA","VAT On Fees":"VAT On Fees",Profit:np,"Profit Margin":"Profit Margin",ROI:ip,"Maximum Cost":"Maximum Cost","Min.ROI":"Min.ROI","Min.Profit":"Min.Profit","Total Fees":"Total Fees","Fulfilment Fee":"Fulfilment Fee","Referral Fee":"Referral Fee","Variable Closing Fee":"Variable Closing Fee","Storage Fee":"Storage Fee","Reverse Search":"Reverse Search",Image:rp,Store:sp,"Tax Due":"Tax Due","Powered by":"Powered by","Please Contact Support!":"Please Contact Support!","There are no results":"There are no results","Max cost: ":"Max cost: ","It is standard FBA as Low-Price FBA is not enabled":"It is standard FBA as Low-Price FBA is not enabled","Select for how many months you want to store inventory in Amazon's warehouse":"Select for how many months you want to store inventory in Amazon's warehouse","This is the Low-Price FBA rate. Products with sale price less than £10 will be charged at reduced rate.":"This is the Low-Price FBA rate. Products with sale price less than £10 will be charged at reduced rate."},ap={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,n){console&&console[e]&&console[e].apply(console,n)}};class Ei{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(n,t)}init(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=n||ap,this.options=t,this.debug=t.debug}log(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(n,t,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]=`${i}${this.prefix} ${n[0]}`),this.logger[t](n))}create(n){return new Ei(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Ei(this.logger,n)}}var lt=new Ei;class Zi{constructor(){this.observers={}}on(n,t){return n.split(" ").forEach(i=>{this.observers[i]=this.observers[i]||[],this.observers[i].push(t)}),this}off(n,t){if(this.observers[n]){if(!t){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(i=>i!==t)}}emit(n){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];this.observers[n]&&[].concat(this.observers[n]).forEach(a=>{a(...i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(a=>{a.apply(a,[n,...i])})}}function Ln(){let e,n;const t=new Promise((i,s)=>{e=i,n=s});return t.resolve=e,t.reject=n,t}function Ba(e){return e==null?"":""+e}function lp(e,n,t){e.forEach(i=>{n[i]&&(t[i]=n[i])})}function Os(e,n,t){function i(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function s(){return!e||typeof e=="string"}const o=typeof n!="string"?[].concat(n):n.split(".");for(;o.length>1;){if(s())return{};const a=i(o.shift());!e[a]&&t&&(e[a]=new t),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={}}return s()?{}:{obj:e,k:i(o.shift())}}function Da(e,n,t){const{obj:i,k:s}=Os(e,n,Object);i[s]=t}function cp(e,n,t,i){const{obj:s,k:o}=Os(e,n,Object);s[o]=s[o]||[],i&&(s[o]=s[o].concat(t)),i||s[o].push(t)}function Ni(e,n){const{obj:t,k:i}=Os(e,n);if(t)return t[i]}function up(e,n,t){const i=Ni(e,t);return i!==void 0?i:Ni(n,t)}function Hl(e,n,t){for(const i in n)i!=="__proto__"&&i!=="constructor"&&(i in e?typeof e[i]=="string"||e[i]instanceof String||typeof n[i]=="string"||n[i]instanceof String?t&&(e[i]=n[i]):Hl(e[i],n[i],t):e[i]=n[i]);return e}function hn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var hp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function dp(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,n=>hp[n]):e}const fp=[" ",",","?","!",";"];function pp(e,n,t){n=n||"",t=t||"";const i=fp.filter(a=>n.indexOf(a)<0&&t.indexOf(a)<0);if(i.length===0)return!0;const s=new RegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!s.test(e);if(!o){const a=e.indexOf(t);a>0&&!s.test(e.substring(0,a))&&(o=!0)}return o}function Oi(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[n])return e[n];const i=n.split(t);let s=e;for(let o=0;o<i.length;++o){if(!s||typeof s[i[o]]=="string"&&o+1<i.length)return;if(s[i[o]]===void 0){let a=2,c=i.slice(o,o+a).join(t),u=s[c];for(;u===void 0&&i.length>o+a;)a++,c=i.slice(o,o+a).join(t),u=s[c];if(u===void 0)return;if(u===null)return null;if(n.endsWith(c)){if(typeof u=="string")return u;if(c&&typeof u[c]=="string")return u[c]}const h=i.slice(o+a).join(t);return h?Oi(u,h,t):void 0}s=s[i[o]]}return s}function Ti(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class Ua extends Zi{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=n||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const t=this.options.ns.indexOf(n);t>-1&&this.options.ns.splice(t,1)}getResource(n,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c=[n,t];i&&typeof i!="string"&&(c=c.concat(i)),i&&typeof i=="string"&&(c=c.concat(o?i.split(o):i)),n.indexOf(".")>-1&&(c=n.split("."));const u=Ni(this.data,c);return u||!a||typeof i!="string"?u:Oi(this.data&&this.data[n]&&this.data[n][t],i,o)}addResource(n,t,i,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[n,t];i&&(c=c.concat(a?i.split(a):i)),n.indexOf(".")>-1&&(c=n.split("."),s=t,t=c[1]),this.addNamespaces(t),Da(this.data,c,s),o.silent||this.emit("added",n,t,i,s)}addResources(n,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in i)(typeof i[o]=="string"||Object.prototype.toString.apply(i[o])==="[object Array]")&&this.addResource(n,t,o,i[o],{silent:!0});s.silent||this.emit("added",n,t,i)}addResourceBundle(n,t,i,s,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[n,t];n.indexOf(".")>-1&&(c=n.split("."),s=i,i=t,t=c[1]),this.addNamespaces(t);let u=Ni(this.data,c)||{};s?Hl(u,i,o):u={...u,...i},Da(this.data,c,u),a.silent||this.emit("added",n,t,i)}removeResourceBundle(n,t){this.hasResourceBundle(n,t)&&delete this.data[n][t],this.removeNamespaces(t),this.emit("removed",n,t)}hasResourceBundle(n,t){return this.getResource(n,t)!==void 0}getResourceBundle(n,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(n,t)}:this.getResource(n,t)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const t=this.getDataByLanguage(n);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var Vl={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,n,t,i,s){return e.forEach(o=>{this.processors[o]&&(n=this.processors[o].process(n,t,i,s))}),n}};const Wa={};class Ai extends Zi{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),lp(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=lt.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;const i=this.resolve(n,t);return i&&i.res!==void 0}extractFromKey(n,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const a=i&&n.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!pp(n,i,s);if(a&&!c){const u=n.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:n,namespaces:o};const h=n.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),n=h.join(s)}return typeof o=="string"&&(o=[o]),{key:n,namespaces:o}}translate(n,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:c}=this.extractFromKey(n[n.length-1],t),u=c[c.length-1],h=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(p){const T=t.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${T}${a}`,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(t)}:`${u}${T}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(t)}:a}const m=this.resolve(n,t);let g=m&&m.res;const y=m&&m.usedKey||a,v=m&&m.exactUsedKey||a,S=Object.prototype.toString.apply(g),O=["[object Number]","[object Function]","[object RegExp]"],F=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject;if(P&&g&&(typeof g!="string"&&typeof g!="boolean"&&typeof g!="number")&&O.indexOf(S)<0&&!(typeof F=="string"&&S==="[object Array]")){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,{...t,ns:c}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(m.res=T,m.usedParams=this.getUsedParamsDetails(t),m):T}if(o){const T=S==="[object Array]",C=T?[]:{},z=T?v:y;for(const M in g)if(Object.prototype.hasOwnProperty.call(g,M)){const ie=`${z}${o}${M}`;C[M]=this.translate(ie,{...t,joinArrays:!1,ns:c}),C[M]===ie&&(C[M]=g[M])}g=C}}else if(P&&typeof F=="string"&&S==="[object Array]")g=g.join(F),g&&(g=this.extendTranslation(g,n,t,i));else{let T=!1,C=!1;const z=t.count!==void 0&&typeof t.count!="string",M=Ai.hasDefaultValue(t),ie=z?this.pluralResolver.getSuffix(h,t.count,t):"",X=t.ordinal&&z?this.pluralResolver.getSuffix(h,t.count,{ordinal:!1}):"",Q=t[`defaultValue${ie}`]||t[`defaultValue${X}`]||t.defaultValue;!this.isValidLookup(g)&&M&&(T=!0,g=Q),this.isValidLookup(g)||(C=!0,g=a);const We=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:g,xe=M&&Q!==g&&this.options.updateMissing;if(C||T||xe){if(this.logger.log(xe?"updateKey":"missingKey",h,u,a,xe?Q:g),o){const he=this.resolve(a,{...t,keySeparator:!1});he&&he.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let he=0;he<ke.length;he++)q.push(ke[he]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(t.lng||this.language):q.push(t.lng||this.language);const vt=(he,ye,W)=>{const N=M&&W!==g?W:We;this.options.missingKeyHandler?this.options.missingKeyHandler(he,u,ye,N,xe,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(he,u,ye,N,xe,t),this.emit("missingKey",he,u,ye,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?q.forEach(he=>{this.pluralResolver.getSuffixes(he,t).forEach(ye=>{vt([he],a+ye,t[`defaultValue${ye}`]||Q)})}):vt(q,a,Q))}g=this.extendTranslation(g,n,t,m,i),C&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${u}:${a}`),(C||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${a}`:a,T?g:void 0):g=this.options.parseMissingKeyHandler(g))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(t),m):g}extendTranslation(n,t,i,s,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const h=typeof n=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(h){const g=n.match(this.interpolator.nestingRegexp);p=g&&g.length}let m=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),n=this.interpolator.interpolate(n,m,i.lng||this.language,i),h){const g=n.match(this.interpolator.nestingRegexp),y=g&&g.length;p<y&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(i.lng=s.usedLng),i.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];return o&&o[0]===y[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${t[0]}`),null):a.translate(...y,t)},i)),i.interpolation&&this.interpolator.reset()}const c=i.postProcess||this.options.postProcess,u=typeof c=="string"?[c]:c;return n!=null&&u&&u.length&&i.applyPostProcessor!==!1&&(n=Vl.handle(u,n,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),n}resolve(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,s,o,a,c;return typeof n=="string"&&(n=[n]),n.forEach(u=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(u,t),p=h.key;s=p;let m=h.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const g=t.count!==void 0&&typeof t.count!="string",y=g&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),v=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(O=>{this.isValidLookup(i)||(c=O,!Wa[`${S[0]}-${O}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(Wa[`${S[0]}-${O}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(F=>{if(this.isValidLookup(i))return;a=F;const P=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(P,p,F,O,t);else{let T;g&&(T=this.pluralResolver.getSuffix(F,t.count,t));const C=`${this.options.pluralSeparator}zero`,z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(P.push(p+T),t.ordinal&&T.indexOf(z)===0&&P.push(p+T.replace(z,this.options.pluralSeparator)),y&&P.push(p+C)),v){const M=`${p}${this.options.contextSeparator}${t.context}`;P.push(M),g&&(P.push(M+T),t.ordinal&&T.indexOf(z)===0&&P.push(M+T.replace(z,this.options.pluralSeparator)),y&&P.push(M+C))}}let E;for(;E=P.pop();)this.isValidLookup(i)||(o=E,i=this.getResource(F,O,E,t))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:a,usedNS:c}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,t,i,s):this.resourceStore.getResource(n,t,i,s)}getUsedParamsDetails(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=n.replace&&typeof n.replace!="string";let s=i?n.replace:n;if(i&&typeof n.count<"u"&&(s.count=n.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of t)delete s[o]}return s}static hasDefaultValue(n){const t="defaultValue";for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&t===i.substring(0,t.length)&&n[i]!==void 0)return!0;return!1}}function qr(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Ha{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=lt.create("languageUtils")}getScriptPartFromCode(n){if(n=Ti(n),!n||n.indexOf("-")<0)return null;const t=n.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(n){if(n=Ti(n),!n||n.indexOf("-")<0)return n;const t=n.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(n){if(typeof n=="string"&&n.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let i=n.split("-");return this.options.lowerCaseLng?i=i.map(s=>s.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=qr(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=qr(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=qr(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let t;return n.forEach(i=>{if(t)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&n.forEach(i=>{if(t)return;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&o.indexOf(s)===0)return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(n,t){if(!n)return[];if(typeof n=="function"&&(n=n(t)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!t)return n.default||[];let i=n[t];return i||(i=n[this.getScriptPartFromCode(t)]),i||(i=n[this.formatLanguageCode(t)]),i||(i=n[this.getLanguagePartFromCode(t)]),i||(i=n.default),i||[]}toResolveHierarchy(n,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],n),s=[],o=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof n=="string"&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),i.forEach(a=>{s.indexOf(a)<0&&o(this.formatLanguageCode(a))}),s}}let gp=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],mp={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const bp=["v1","v2","v3"],vp=["v4"],Va={zero:0,one:1,two:2,few:3,many:4,other:5};function yp(){const e={};return gp.forEach(n=>{n.lngs.forEach(t=>{e[t]={numbers:n.nr,plurals:mp[n.fc]}})}),e}class _p{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=n,this.options=t,this.logger=lt.create("pluralResolver"),(!this.options.compatibilityJSON||vp.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=yp()}addRule(n,t){this.rules[n]=t}getRule(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Ti(n),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}needsPlural(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(n,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(n,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(s=>`${t}${s}`)}getSuffixes(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(n,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((s,o)=>Va[s]-Va[o]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):i.numbers.map(s=>this.getSuffix(n,s,t)):[]}getSuffix(n,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(n,i);return s?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${n}`),"")}getSuffixRetroCompatible(n,t){const i=n.noAbs?n.plurals(t):n.plurals(Math.abs(t));let s=n.numbers[i];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const o=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!bp.includes(this.options.compatibilityJSON)}}function Ka(e,n,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=up(e,n,t);return!o&&s&&typeof t=="string"&&(o=Oi(e,t,i),o===void 0&&(o=Oi(n,t,i))),o}class wp{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=lt.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||(t=>t),this.init(n)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});const t=n.interpolation;this.escape=t.escape!==void 0?t.escape:dp,this.escapeValue=t.escapeValue!==void 0?t.escapeValue:!0,this.useRawValueToEscape=t.useRawValueToEscape!==void 0?t.useRawValueToEscape:!1,this.prefix=t.prefix?hn(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?hn(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?hn(t.nestingPrefix):t.nestingPrefixEscaped||hn("$t("),this.nestingSuffix=t.nestingSuffix?hn(t.nestingSuffix):t.nestingSuffixEscaped||hn(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=t.alwaysFormat!==void 0?t.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(n,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const i=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(i,"g")}interpolate(n,t,i,s){let o,a,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(v){return v.replace(/\$/g,"$$$$")}const p=v=>{if(v.indexOf(this.formatSeparator)<0){const P=Ka(t,u,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,i,{...s,...t,interpolationkey:v}):P}const S=v.split(this.formatSeparator),O=S.shift().trim(),F=S.join(this.formatSeparator).trim();return this.format(Ka(t,u,O,this.options.keySeparator,this.options.ignoreJSONStructure),F,i,{...s,...t,interpolationkey:O})};this.resetRegExp();const m=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>h(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?h(this.escape(v)):h(v)}].forEach(v=>{for(c=0;o=v.regex.exec(n);){const S=o[1].trim();if(a=p(S),a===void 0)if(typeof m=="function"){const F=m(n,o,s);a=typeof F=="string"?F:""}else if(s&&Object.prototype.hasOwnProperty.call(s,S))a="";else if(g){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${n}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=Ba(a));const O=v.safeValue(a);if(n=n.replace(o[0],O),g?(v.regex.lastIndex+=a.length,v.regex.lastIndex-=o[0].length):v.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),n}nest(n,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,a;function c(u,h){const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const m=u.split(new RegExp(`${p}[ ]*{`));let g=`{${m[1]}`;u=m[0],g=this.interpolate(g,a);const y=g.match(/'/g),v=g.match(/"/g);(y&&y.length%2===0&&!v||v.length%2!==0)&&(g=g.replace(/'/g,'"'));try{a=JSON.parse(g),h&&(a={...h,...a})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,S),`${u}${p}${g}`}return delete a.defaultValue,u}for(;s=this.nestingRegexp.exec(n);){let u=[];a={...i},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let h=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const p=s[1].split(this.formatSeparator).map(m=>m.trim());s[1]=p.shift(),u=p,h=!0}if(o=t(c.call(this,s[1].trim(),a),a),o&&s[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=Ba(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${n}`),o=""),h&&(o=u.reduce((p,m)=>this.format(p,m,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),n=n.replace(s[0],o),this.regexp.lastIndex=0}return n}}function Sp(e){let n=e.toLowerCase().trim();const t={};if(e.indexOf("(")>-1){const i=e.split("(");n=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);n==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):n==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(a=>{if(!a)return;const[c,...u]=a.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,"");t[c.trim()]||(t[c.trim()]=h),h==="false"&&(t[c.trim()]=!1),h==="true"&&(t[c.trim()]=!0),isNaN(h)||(t[c.trim()]=parseInt(h,10))})}return{formatName:n,formatOptions:t}}function dn(e){const n={};return function(i,s,o){const a=s+JSON.stringify(o);let c=n[a];return c||(c=e(Ti(s),o),n[a]=c),c(i)}}class xp{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=lt.create("formatter"),this.options=n,this.formats={number:dn((t,i)=>{const s=new Intl.NumberFormat(t,{...i});return o=>s.format(o)}),currency:dn((t,i)=>{const s=new Intl.NumberFormat(t,{...i,style:"currency"});return o=>s.format(o)}),datetime:dn((t,i)=>{const s=new Intl.DateTimeFormat(t,{...i});return o=>s.format(o)}),relativetime:dn((t,i)=>{const s=new Intl.RelativeTimeFormat(t,{...i});return o=>s.format(o,i.range||"day")}),list:dn((t,i)=>{const s=new Intl.ListFormat(t,{...i});return o=>s.format(o)})},this.init(n)}init(n){const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(n,t){this.formats[n.toLowerCase().trim()]=t}addCached(n,t){this.formats[n.toLowerCase().trim()]=dn(t)}format(n,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((c,u)=>{const{formatName:h,formatOptions:p}=Sp(u);if(this.formats[h]){let m=c;try{const g=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},y=g.locale||g.lng||s.locale||s.lng||i;m=this.formats[h](c,y,{...p,...s,...g})}catch(g){this.logger.warn(g)}return m}else this.logger.warn(`there was no format function for ${h}`);return c},n)}}function Pp(e,n){e.pending[n]!==void 0&&(delete e.pending[n],e.pendingCount--)}class Ep extends Zi{constructor(n,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=n,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=lt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,s.backend,s)}queueLoad(n,t,i,s){const o={},a={},c={},u={};return n.forEach(h=>{let p=!0;t.forEach(m=>{const g=`${h}|${m}`;!i.reload&&this.store.hasResourceBundle(h,m)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?a[g]===void 0&&(a[g]=!0):(this.state[g]=1,p=!1,a[g]===void 0&&(a[g]=!0),o[g]===void 0&&(o[g]=!0),u[m]===void 0&&(u[m]=!0)))}),p||(c[h]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(n,t,i){const s=n.split("|"),o=s[0],a=s[1];t&&this.emit("failedLoading",o,a,t),i&&this.store.addResourceBundle(o,a,i),this.state[n]=t?-1:2;const c={};this.queue.forEach(u=>{cp(u.loaded,[o],a),Pp(u,n),t&&u.errors.push(t),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{c[h]||(c[h]={});const p=u.loaded[h];p.length&&p.forEach(m=>{c[h][m]===void 0&&(c[h][m]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(n,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!n.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:t,fcName:i,tried:s,wait:o,callback:a});return}this.readingCalls++;const c=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(h&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,n,t,i,s+1,o*2,a)},o);return}a(h,p)},u=this.backend[i].bind(this.backend);if(u.length===2){try{const h=u(n,t);h&&typeof h.then=="function"?h.then(p=>c(null,p)).catch(c):c(null,h)}catch(h){c(h)}return}return u(n,t,c)}prepareLoading(n,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof t=="string"&&(t=[t]);const o=this.queueLoad(n,t,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(n,t,i){this.prepareLoading(n,t,{},i)}reload(n,t,i){this.prepareLoading(n,t,{reload:!0},i)}loadOne(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=n.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(a,c)=>{a&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,a),!a&&c&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,c),this.loaded(n,a,c)})}saveMissing(n,t,i,s,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const u={...a,isUpdate:o},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(n,t,i,s,u):p=h(n,t,i,s),p&&typeof p.then=="function"?p.then(m=>c(null,m)).catch(c):c(null,p)}catch(p){c(p)}else h(n,t,i,s,c,u)}!n||!n[0]||this.store.addResource(n[0],t,i,s)}}}function qa(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(n){let t={};if(typeof n[1]=="object"&&(t=n[1]),typeof n[1]=="string"&&(t.defaultValue=n[1]),typeof n[2]=="string"&&(t.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const i=n[3]||n[2];Object.keys(i).forEach(s=>{t[s]=i[s]})}return t},interpolation:{escapeValue:!0,format:(e,n,t,i)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ya(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ui(){}function Np(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{typeof e[t]=="function"&&(e[t]=e[t].bind(e))})}class Bn extends Zi{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ya(n),this.services={},this.logger=lt,this.modules={external:[]},Np(this),t&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,t),this;setTimeout(()=>{this.init(n,t)},0)}}init(){var n=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof t=="function"&&(i=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=qa();this.options={...s,...this.options,...Ya(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function o(p){return p?typeof p=="function"?new p:p:null}if(!this.options.isClone){this.modules.logger?lt.init(o(this.modules.logger),this.options):lt.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=xp);const m=new Ha(this.options);this.store=new Ua(this.options.resources,this.options);const g=this.services;g.logger=lt,g.resourceStore=this.store,g.languageUtils=m,g.pluralResolver=new _p(m,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=o(p),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new wp(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Ep(o(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(y){for(var v=arguments.length,S=new Array(v>1?v-1:0),O=1;O<v;O++)S[O-1]=arguments[O];n.emit(y,...S)}),this.modules.languageDetector&&(g.languageDetector=o(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=o(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Ai(this.services,this.options),this.translator.on("*",function(y){for(var v=arguments.length,S=new Array(v>1?v-1:0),O=1;O<v;O++)S[O-1]=arguments[O];n.emit(y,...S)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,i||(i=ui),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return n.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return n.store[p](...arguments),n}});const u=Ln(),h=()=>{const p=(m,g)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(g),i(m,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),u}loadResources(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ui;const s=typeof n=="string"?n:this.language;if(typeof n=="function"&&(i=n),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],a=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload&&this.options.preload.forEach(c=>a(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(n,t,i){const s=Ln();return n||(n=this.languages),t||(t=this.options.ns),i||(i=ui),this.services.backendConnector.reload(n,t,o=>{s.resolve(),i(o)}),s}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&Vl.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(n,t){var i=this;this.isLanguageChangingTo=n;const s=Ln();this.emit("languageChanging",n);const o=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,h)=>{h?(o(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,s.resolve(function(){return i.t(...arguments)}),t&&t(u,function(){return i.t(...arguments)})},c=u=>{!n&&!u&&this.services.languageDetector&&(u=[]);const h=typeof u=="string"?u:this.services.languageUtils.getBestMatchFromCodes(u);h&&(this.language||o(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,p=>{a(p,h)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(n),s}getFixedT(n,t,i){var s=this;const o=function(a,c){let u;if(typeof c!="object"){for(var h=arguments.length,p=new Array(h>2?h-2:0),m=2;m<h;m++)p[m-2]=arguments[m];u=s.options.overloadTranslationOptionHandler([a,c].concat(p))}else u={...c};u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix=u.keyPrefix||i||o.keyPrefix;const g=s.options.keySeparator||".";let y;return u.keyPrefix&&Array.isArray(a)?y=a.map(v=>`${u.keyPrefix}${g}${v}`):y=u.keyPrefix?`${u.keyPrefix}${g}${a}`:a,s.t(y,u)};return typeof n=="string"?o.lng=n:o.lngs=n,o.ns=t,o.keyPrefix=i,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(c,u)=>{const h=this.services.backendConnector.state[`${c}|${u}`];return h===-1||h===2};if(t.precheck){const c=t.precheck(this,a);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,n)&&(!s||a(o,n)))}loadNamespaces(n,t){const i=Ln();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),t&&t(s)}),i):(t&&t(),Promise.resolve())}loadLanguages(n,t){const i=Ln();typeof n=="string"&&(n=[n]);const s=this.options.preload||[],o=n.filter(a=>s.indexOf(a)<0);return o.length?(this.options.preload=s.concat(o),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new Ha(qa());return t.indexOf(i.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Bn(n,t)}cloneInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ui;const i=n.forkResourceStore;i&&delete n.forkResourceStore;const s={...this.options,...n,isClone:!0},o=new Bn(s);return(n.debug!==void 0||n.prefix!==void 0)&&(o.logger=o.logger.clone(n)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i&&(o.store=new Ua(this.store.data,s),o.services.resourceStore=o.store),o.translator=new Ai(o.services,s),o.translator.on("*",function(c){for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];o.emit(c,...h)}),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Se=Bn.createInstance();Se.createInstance=Bn.createInstance;Se.createInstance;Se.dir;Se.init;Se.loadResources;Se.reloadResources;Se.use;Se.changeLanguage;Se.getFixedT;Se.t;Se.exists;Se.setDefaultNamespace;Se.hasLoadedNamespace;Se.loadNamespaces;Se.loadLanguages;Se.use(Yf).init({resources:{"de-DE":{translation:op}},fallbackLng:"en",interpolation:{escapeValue:!1}});function Op({itemData:e,asin:n}){var c,u;const{loader:t,reverseSearchData:i,currentURL:s,success:o,currencySymbol:a}=At(h=>h.ListPage);return b(mt,{children:b(ue,{isTrue:!t&&o!==null,fallback:L("div",{className:"arbitrage-content",children:[b(kn,{outerClass:"ah-search-page-loader"}),b(ja,{imageSize:"50px"})]}),children:b(ue,{isTrue:i[n],children:L("div",{className:"arbitrage-content",children:[b(Bl,{asin:n,detailsResponse:i[n]}),b(Ul,{itemTitle:e==null?void 0:e.productTitle,currentUrl:s}),b(ue,{isTrue:(c=i[n])==null?void 0:c.products,children:b(Wl,{stores:ve.sortBy((u=i[n])==null?void 0:u.products,h=>parseFloat(h.price)),currencySymbol:a})}),b(ja,{imageSize:"50px"})]})})})})}function Tp(){let e=null;const n=setInterval(async()=>{try{const t=await kf();if(!t)throw Error("List Page Snapshot elements not found");const[i,s,o,a]=t;i.length===e&&(clearInterval(n),Ap(i,s,o,a)),e=i.length}catch(t){const i='//div[contains(@class, "-no-results")]';t.message==="List Page Snapshot elements not found"?ut(i).snapshotItem(0)&&clearInterval(n):console.log("Error in List Page App",t)}},1e3)}async function Ap(e,n,t,i){var a;let s=document.getElementsByTagName("html")[0].lang;s=s.split("-"),s[1]=(a=s[1])==null?void 0:a.toUpperCase(),Se.changeLanguage(s.join("-")),ge.dispatch(Jh(i));let o=0;for(let c=0;c<e.length;c++){const u=document.createElement("div");u.id=`arbitrage-extension-item-${n[c]}`,e[c].lastChild.id!==u.id&&(o++,e[c].append(u)),ds(u).render(b(vs,{store:ge,children:b("div",{style:{maxWidth:"276px"},children:b(Op,{itemData:t[c],asin:n[c]})})}))}o&&If(n,i)}var er={exports:{}},Kl={},ql={exports:{}},Fp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Lp=Fp,Cp=Lp;function Yl(){}function Gl(){}Gl.resetWarningCache=Yl;var Rp=function(){function e(i,s,o,a,c,u){if(u!==Cp){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Gl,resetWarningCache:Yl};return t.PropTypes=t,t};ql.exports=Rp();var Xl=ql.exports;function Jl(e){var n,t,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=Jl(e[n]))&&(i&&(i+=" "),i+=t);else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Ga(){for(var e,n,t=0,i="";t<arguments.length;)(e=arguments[t++])&&(n=Jl(e))&&(i&&(i+=" "),i+=n);return i}const kp=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ga,default:Ga},Symbol.toStringTag,{value:"Module"})),$p=kh(kp);var fe={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.dontSetMe=Bp;ht.findInArray=Ip;ht.int=zp;ht.isFunction=Mp;ht.isNum=jp;function Ip(e,n){for(let t=0,i=e.length;t<i;t++)if(n.apply(n,[e[t],t,e]))return e[t]}function Mp(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function jp(e){return typeof e=="number"&&!isNaN(e)}function zp(e){return parseInt(e,10)}function Bp(e,n,t){if(e[n])return new Error("Invalid prop ".concat(n," passed to ").concat(t," - do not set this, set it on the child."))}var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.browserPrefixToKey=Zl;Kt.browserPrefixToStyle=Dp;Kt.default=void 0;Kt.getPrefix=Ql;const Yr=["Moz","Webkit","O","ms"];function Ql(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!t||n in t)return"";for(let i=0;i<Yr.length;i++)if(Zl(n,Yr[i])in t)return Yr[i];return""}function Zl(e,n){return n?"".concat(n).concat(Up(e)):e}function Dp(e,n){return n?"-".concat(n.toLowerCase(),"-").concat(e):e}function Up(e){let n="",t=!0;for(let i=0;i<e.length;i++)t?(n+=e[i].toUpperCase(),t=!1):e[i]==="-"?t=!0:n+=e[i];return n}Kt.default=Ql();Object.defineProperty(fe,"__esModule",{value:!0});fe.addClassName=nc;fe.addEvent=Vp;fe.addUserSelectStyles=ng;fe.createCSSTransform=Qp;fe.createSVGTransform=Zp;fe.getTouch=eg;fe.getTouchIdentifier=tg;fe.getTranslation=Ts;fe.innerHeight=Gp;fe.innerWidth=Xp;fe.matchesSelector=tc;fe.matchesSelectorAndParentsTo=Hp;fe.offsetXYFromParent=Jp;fe.outerHeight=qp;fe.outerWidth=Yp;fe.removeClassName=ic;fe.removeEvent=Kp;fe.removeUserSelectStyles=ig;var Be=ht,Xa=Wp(Kt);function ec(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(ec=function(i){return i?t:n})(e)}function Wp(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=ec(n);if(t&&t.has(e))return t.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}let hi="";function tc(e,n){return hi||(hi=(0,Be.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,Be.isFunction)(e[t])})),(0,Be.isFunction)(e[hi])?e[hi](n):!1}function Hp(e,n,t){let i=e;do{if(tc(i,n))return!0;if(i===t)return!1;i=i.parentNode}while(i);return!1}function Vp(e,n,t,i){if(!e)return;const s={capture:!0,...i};e.addEventListener?e.addEventListener(n,t,s):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}function Kp(e,n,t,i){if(!e)return;const s={capture:!0,...i};e.removeEventListener?e.removeEventListener(n,t,s):e.detachEvent?e.detachEvent("on"+n,t):e["on"+n]=null}function qp(e){let n=e.clientHeight;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,Be.int)(t.borderTopWidth),n+=(0,Be.int)(t.borderBottomWidth),n}function Yp(e){let n=e.clientWidth;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,Be.int)(t.borderLeftWidth),n+=(0,Be.int)(t.borderRightWidth),n}function Gp(e){let n=e.clientHeight;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,Be.int)(t.paddingTop),n-=(0,Be.int)(t.paddingBottom),n}function Xp(e){let n=e.clientWidth;const t=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,Be.int)(t.paddingLeft),n-=(0,Be.int)(t.paddingRight),n}function Jp(e,n,t){const s=n===n.ownerDocument.body?{left:0,top:0}:n.getBoundingClientRect(),o=(e.clientX+n.scrollLeft-s.left)/t,a=(e.clientY+n.scrollTop-s.top)/t;return{x:o,y:a}}function Qp(e,n){const t=Ts(e,n,"px");return{[(0,Xa.browserPrefixToKey)("transform",Xa.default)]:t}}function Zp(e,n){return Ts(e,n,"")}function Ts(e,n,t){let{x:i,y:s}=e,o="translate(".concat(i).concat(t,",").concat(s).concat(t,")");if(n){const a="".concat(typeof n.x=="string"?n.x:n.x+t),c="".concat(typeof n.y=="string"?n.y:n.y+t);o="translate(".concat(a,", ").concat(c,")")+o}return o}function eg(e,n){return e.targetTouches&&(0,Be.findInArray)(e.targetTouches,t=>n===t.identifier)||e.changedTouches&&(0,Be.findInArray)(e.changedTouches,t=>n===t.identifier)}function tg(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function ng(e){if(!e)return;let n=e.getElementById("react-draggable-style-el");n||(n=e.createElement("style"),n.type="text/css",n.id="react-draggable-style-el",n.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,n.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(n)),e.body&&nc(e.body,"react-draggable-transparent-selection")}function ig(e){if(e)try{if(e.body&&ic(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const n=(e.defaultView||window).getSelection();n&&n.type!=="Caret"&&n.removeAllRanges()}}catch{}}function nc(e,n){e.classList?e.classList.add(n):e.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(e.className+=" ".concat(n))}function ic(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")}var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.canDragX=og;dt.canDragY=ag;dt.createCoreData=cg;dt.createDraggableData=ug;dt.getBoundPosition=rg;dt.getControlPosition=lg;dt.snapToGrid=sg;var ze=ht,pn=fe;function rg(e,n,t){if(!e.props.bounds)return[n,t];let{bounds:i}=e.props;i=typeof i=="string"?i:hg(i);const s=As(e);if(typeof i=="string"){const{ownerDocument:o}=s,a=o.defaultView;let c;if(i==="parent"?c=s.parentNode:c=o.querySelector(i),!(c instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const u=c,h=a.getComputedStyle(s),p=a.getComputedStyle(u);i={left:-s.offsetLeft+(0,ze.int)(p.paddingLeft)+(0,ze.int)(h.marginLeft),top:-s.offsetTop+(0,ze.int)(p.paddingTop)+(0,ze.int)(h.marginTop),right:(0,pn.innerWidth)(u)-(0,pn.outerWidth)(s)-s.offsetLeft+(0,ze.int)(p.paddingRight)-(0,ze.int)(h.marginRight),bottom:(0,pn.innerHeight)(u)-(0,pn.outerHeight)(s)-s.offsetTop+(0,ze.int)(p.paddingBottom)-(0,ze.int)(h.marginBottom)}}return(0,ze.isNum)(i.right)&&(n=Math.min(n,i.right)),(0,ze.isNum)(i.bottom)&&(t=Math.min(t,i.bottom)),(0,ze.isNum)(i.left)&&(n=Math.max(n,i.left)),(0,ze.isNum)(i.top)&&(t=Math.max(t,i.top)),[n,t]}function sg(e,n,t){const i=Math.round(n/e[0])*e[0],s=Math.round(t/e[1])*e[1];return[i,s]}function og(e){return e.props.axis==="both"||e.props.axis==="x"}function ag(e){return e.props.axis==="both"||e.props.axis==="y"}function lg(e,n,t){const i=typeof n=="number"?(0,pn.getTouch)(e,n):null;if(typeof n=="number"&&!i)return null;const s=As(t),o=t.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,pn.offsetXYFromParent)(i||e,o,t.props.scale)}function cg(e,n,t){const i=!(0,ze.isNum)(e.lastX),s=As(e);return i?{node:s,deltaX:0,deltaY:0,lastX:n,lastY:t,x:n,y:t}:{node:s,deltaX:n-e.lastX,deltaY:t-e.lastY,lastX:e.lastX,lastY:e.lastY,x:n,y:t}}function ug(e,n){const t=e.props.scale;return{node:n.node,x:e.state.x+n.deltaX/t,y:e.state.y+n.deltaY/t,deltaX:n.deltaX/t,deltaY:n.deltaY/t,lastX:e.state.x,lastY:e.state.y}}function hg(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function As(e){const n=e.findDOMNode();if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var tr={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.default=dg;function dg(){}Object.defineProperty(tr,"__esModule",{value:!0});tr.default=void 0;var Gr=pg(j),Le=Fs(Xl),fg=Fs(Li),Pe=fe,Pt=dt,Xr=ht,Cn=Fs(nr);function Fs(e){return e&&e.__esModule?e:{default:e}}function rc(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(rc=function(i){return i?t:n})(e)}function pg(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=rc(n);if(t&&t.has(e))return t.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}function Fe(e,n,t){return n=gg(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function gg(e){var n=mg(e,"string");return typeof n=="symbol"?n:String(n)}function mg(e,n){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var i=t.call(e,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}const et={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Et=et.mouse,ir=class extends Gr.Component{constructor(){super(...arguments),Fe(this,"dragging",!1),Fe(this,"lastX",NaN),Fe(this,"lastY",NaN),Fe(this,"touchIdentifier",null),Fe(this,"mounted",!1),Fe(this,"handleDragStart",n=>{if(this.props.onMouseDown(n),!this.props.allowAnyClick&&typeof n.button=="number"&&n.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=t;if(this.props.disabled||!(n.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Pe.matchesSelectorAndParentsTo)(n.target,this.props.handle,t)||this.props.cancel&&(0,Pe.matchesSelectorAndParentsTo)(n.target,this.props.cancel,t))return;n.type==="touchstart"&&n.preventDefault();const s=(0,Pe.getTouchIdentifier)(n);this.touchIdentifier=s;const o=(0,Pt.getControlPosition)(n,s,this);if(o==null)return;const{x:a,y:c}=o,u=(0,Pt.createCoreData)(this,a,c);(0,Cn.default)("DraggableCore: handleDragStart: %j",u),(0,Cn.default)("calling",this.props.onStart),!(this.props.onStart(n,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Pe.addUserSelectStyles)(i),this.dragging=!0,this.lastX=a,this.lastY=c,(0,Pe.addEvent)(i,Et.move,this.handleDrag),(0,Pe.addEvent)(i,Et.stop,this.handleDragStop))}),Fe(this,"handleDrag",n=>{const t=(0,Pt.getControlPosition)(n,this.touchIdentifier,this);if(t==null)return;let{x:i,y:s}=t;if(Array.isArray(this.props.grid)){let c=i-this.lastX,u=s-this.lastY;if([c,u]=(0,Pt.snapToGrid)(this.props.grid,c,u),!c&&!u)return;i=this.lastX+c,s=this.lastY+u}const o=(0,Pt.createCoreData)(this,i,s);if((0,Cn.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(n,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=i,this.lastY=s}),Fe(this,"handleDragStop",n=>{if(!this.dragging)return;const t=(0,Pt.getControlPosition)(n,this.touchIdentifier,this);if(t==null)return;let{x:i,y:s}=t;if(Array.isArray(this.props.grid)){let u=i-this.lastX||0,h=s-this.lastY||0;[u,h]=(0,Pt.snapToGrid)(this.props.grid,u,h),i=this.lastX+u,s=this.lastY+h}const o=(0,Pt.createCoreData)(this,i,s);if(this.props.onStop(n,o)===!1||this.mounted===!1)return!1;const c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,Pe.removeUserSelectStyles)(c.ownerDocument),(0,Cn.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,Cn.default)("DraggableCore: Removing handlers"),(0,Pe.removeEvent)(c.ownerDocument,Et.move,this.handleDrag),(0,Pe.removeEvent)(c.ownerDocument,Et.stop,this.handleDragStop))}),Fe(this,"onMouseDown",n=>(Et=et.mouse,this.handleDragStart(n))),Fe(this,"onMouseUp",n=>(Et=et.mouse,this.handleDragStop(n))),Fe(this,"onTouchStart",n=>(Et=et.touch,this.handleDragStart(n))),Fe(this,"onTouchEnd",n=>(Et=et.touch,this.handleDragStop(n)))}componentDidMount(){this.mounted=!0;const n=this.findDOMNode();n&&(0,Pe.addEvent)(n,et.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const n=this.findDOMNode();if(n){const{ownerDocument:t}=n;(0,Pe.removeEvent)(t,et.mouse.move,this.handleDrag),(0,Pe.removeEvent)(t,et.touch.move,this.handleDrag),(0,Pe.removeEvent)(t,et.mouse.stop,this.handleDragStop),(0,Pe.removeEvent)(t,et.touch.stop,this.handleDragStop),(0,Pe.removeEvent)(n,et.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Pe.removeUserSelectStyles)(t)}}findDOMNode(){var n,t;return(n=this.props)!==null&&n!==void 0&&n.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:fg.default.findDOMNode(this)}render(){return Gr.cloneElement(Gr.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};tr.default=ir;Fe(ir,"displayName","DraggableCore");Fe(ir,"propTypes",{allowAnyClick:Le.default.bool,children:Le.default.node.isRequired,disabled:Le.default.bool,enableUserSelectHack:Le.default.bool,offsetParent:function(e,n){if(e[n]&&e[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Le.default.arrayOf(Le.default.number),handle:Le.default.string,cancel:Le.default.string,nodeRef:Le.default.object,onStart:Le.default.func,onDrag:Le.default.func,onStop:Le.default.func,onMouseDown:Le.default.func,scale:Le.default.number,className:Xr.dontSetMe,style:Xr.dontSetMe,transform:Xr.dontSetMe});Fe(ir,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var n=g(j),t=p(Xl),i=p(Li),s=p($p),o=fe,a=dt,c=ht,u=p(tr),h=p(nr);function p(P){return P&&P.__esModule?P:{default:P}}function m(P){if(typeof WeakMap!="function")return null;var E=new WeakMap,T=new WeakMap;return(m=function(C){return C?T:E})(P)}function g(P,E){if(!E&&P&&P.__esModule)return P;if(P===null||typeof P!="object"&&typeof P!="function")return{default:P};var T=m(E);if(T&&T.has(P))return T.get(P);var C={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in P)if(M!=="default"&&Object.prototype.hasOwnProperty.call(P,M)){var ie=z?Object.getOwnPropertyDescriptor(P,M):null;ie&&(ie.get||ie.set)?Object.defineProperty(C,M,ie):C[M]=P[M]}return C.default=P,T&&T.set(P,C),C}function y(){return y=Object.assign?Object.assign.bind():function(P){for(var E=1;E<arguments.length;E++){var T=arguments[E];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(P[C]=T[C])}return P},y.apply(this,arguments)}function v(P,E,T){return E=S(E),E in P?Object.defineProperty(P,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):P[E]=T,P}function S(P){var E=O(P,"string");return typeof E=="symbol"?E:String(E)}function O(P,E){if(typeof P!="object"||P===null)return P;var T=P[Symbol.toPrimitive];if(T!==void 0){var C=T.call(P,E||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(P)}class F extends n.Component{static getDerivedStateFromProps(E,T){let{position:C}=E,{prevPropsPosition:z}=T;return C&&(!z||C.x!==z.x||C.y!==z.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:C,prevPropsPosition:z}),{x:C.x,y:C.y,prevPropsPosition:{...C}}):null}constructor(E){super(E),v(this,"onDragStart",(T,C)=>{if((0,h.default)("Draggable: onDragStart: %j",C),this.props.onStart(T,(0,a.createDraggableData)(this,C))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(T,C)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",C);const z=(0,a.createDraggableData)(this,C),M={x:z.x,y:z.y,slackX:0,slackY:0};if(this.props.bounds){const{x:X,y:Q}=M;M.x+=this.state.slackX,M.y+=this.state.slackY;const[me,We]=(0,a.getBoundPosition)(this,M.x,M.y);M.x=me,M.y=We,M.slackX=this.state.slackX+(X-M.x),M.slackY=this.state.slackY+(Q-M.y),z.x=M.x,z.y=M.y,z.deltaX=M.x-this.state.x,z.deltaY=M.y-this.state.y}if(this.props.onDrag(T,z)===!1)return!1;this.setState(M)}),v(this,"onDragStop",(T,C)=>{if(!this.state.dragging||this.props.onStop(T,(0,a.createDraggableData)(this,C))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",C);const M={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:X,y:Q}=this.props.position;M.x=X,M.y=Q}this.setState(M)}),this.state={dragging:!1,dragged:!1,x:E.position?E.position.x:E.defaultPosition.x,y:E.position?E.position.y:E.defaultPosition.y,prevPropsPosition:{...E.position},slackX:0,slackY:0,isElementSVG:!1},E.position&&!(E.onDrag||E.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var E,T;return(E=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&E!==void 0?E:i.default.findDOMNode(this)}render(){const{axis:E,bounds:T,children:C,defaultPosition:z,defaultClassName:M,defaultClassNameDragging:ie,defaultClassNameDragged:X,position:Q,positionOffset:me,scale:We,...xe}=this.props;let q={},ke=null;const he=!!!Q||this.state.dragging,ye=Q||z,W={x:(0,a.canDragX)(this)&&he?this.state.x:ye.x,y:(0,a.canDragY)(this)&&he?this.state.y:ye.y};this.state.isElementSVG?ke=(0,o.createSVGTransform)(W,me):q=(0,o.createCSSTransform)(W,me);const N=(0,s.default)(C.props.className||"",M,{[ie]:this.state.dragging,[X]:this.state.dragged});return n.createElement(u.default,y({},xe,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(C),{className:N,style:{...C.props.style,...q},transform:ke}))}}e.default=F,v(F,"displayName","Draggable"),v(F,"propTypes",{...u.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),v(F,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Kl);const{default:sc,DraggableCore:bg}=Kl;er.exports=sc;er.exports.default=sc;er.exports.DraggableCore=bg;var vg=er.exports;const yg=$h(vg);var _g={exports:{}};/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){(function(t,i){e.exports=i()})(Ih,function(){const t=new Map,i={set(d,r,l){t.has(d)||t.set(d,new Map);const f=t.get(d);f.has(r)||f.size===0?f.set(r,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(f.keys())[0]}.`)},get:(d,r)=>t.has(d)&&t.get(d).get(r)||null,remove(d,r){if(!t.has(d))return;const l=t.get(d);l.delete(r),l.size===0&&t.delete(d)}},s="transitionend",o=d=>(d&&window.CSS&&window.CSS.escape&&(d=d.replace(/#([^\s"#']+)/g,(r,l)=>`#${CSS.escape(l)}`)),d),a=d=>{d.dispatchEvent(new Event(s))},c=d=>!(!d||typeof d!="object")&&(d.jquery!==void 0&&(d=d[0]),d.nodeType!==void 0),u=d=>c(d)?d.jquery?d[0]:d:typeof d=="string"&&d.length>0?document.querySelector(o(d)):null,h=d=>{if(!c(d)||d.getClientRects().length===0)return!1;const r=getComputedStyle(d).getPropertyValue("visibility")==="visible",l=d.closest("details:not([open])");if(!l)return r;if(l!==d){const f=d.closest("summary");if(f&&f.parentNode!==l||f===null)return!1}return r},p=d=>!d||d.nodeType!==Node.ELEMENT_NODE||!!d.classList.contains("disabled")||(d.disabled!==void 0?d.disabled:d.hasAttribute("disabled")&&d.getAttribute("disabled")!=="false"),m=d=>{if(!document.documentElement.attachShadow)return null;if(typeof d.getRootNode=="function"){const r=d.getRootNode();return r instanceof ShadowRoot?r:null}return d instanceof ShadowRoot?d:d.parentNode?m(d.parentNode):null},g=()=>{},y=d=>{d.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,S=[],O=()=>document.documentElement.dir==="rtl",F=d=>{var r;r=()=>{const l=v();if(l){const f=d.NAME,_=l.fn[f];l.fn[f]=d.jQueryInterface,l.fn[f].Constructor=d,l.fn[f].noConflict=()=>(l.fn[f]=_,d.jQueryInterface)}},document.readyState==="loading"?(S.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of S)l()}),S.push(r)):r()},P=(d,r=[],l=d)=>typeof d=="function"?d(...r):l,E=(d,r,l=!0)=>{if(!l)return void P(d);const f=(x=>{if(!x)return 0;let{transitionDuration:A,transitionDelay:R}=window.getComputedStyle(x);const $=Number.parseFloat(A),I=Number.parseFloat(R);return $||I?(A=A.split(",")[0],R=R.split(",")[0],1e3*(Number.parseFloat(A)+Number.parseFloat(R))):0})(r)+5;let _=!1;const w=({target:x})=>{x===r&&(_=!0,r.removeEventListener(s,w),P(d))};r.addEventListener(s,w),setTimeout(()=>{_||a(r)},f)},T=(d,r,l,f)=>{const _=d.length;let w=d.indexOf(r);return w===-1?!l&&f?d[_-1]:d[0]:(w+=l?1:-1,f&&(w=(w+_)%_),d[Math.max(0,Math.min(w,_-1))])},C=/[^.]*(?=\..*)\.|.*/,z=/\..*/,M=/::\d+$/,ie={};let X=1;const Q={mouseenter:"mouseover",mouseleave:"mouseout"},me=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function We(d,r){return r&&`${r}::${X++}`||d.uidEvent||X++}function xe(d){const r=We(d);return d.uidEvent=r,ie[r]=ie[r]||{},ie[r]}function q(d,r,l=null){return Object.values(d).find(f=>f.callable===r&&f.delegationSelector===l)}function ke(d,r,l){const f=typeof r=="string",_=f?l:r||l;let w=W(d);return me.has(w)||(w=d),[f,_,w]}function vt(d,r,l,f,_){if(typeof r!="string"||!d)return;let[w,x,A]=ke(r,l,f);r in Q&&(x=(H=>function(U){if(!U.relatedTarget||U.relatedTarget!==U.delegateTarget&&!U.delegateTarget.contains(U.relatedTarget))return H.call(this,U)})(x));const R=xe(d),$=R[A]||(R[A]={}),I=q($,x,w?l:null);if(I)return void(I.oneOff=I.oneOff&&_);const k=We(x,r.replace(C,"")),K=w?function(D,H,U){return function V(re){const le=D.querySelectorAll(H);for(let{target:G}=re;G&&G!==this;G=G.parentNode)for(const Z of le)if(Z===G)return qt(re,{delegateTarget:G}),V.oneOff&&N.off(D,re.type,H,U),U.apply(G,[re])}}(d,l,x):function(D,H){return function U(V){return qt(V,{delegateTarget:D}),U.oneOff&&N.off(D,V.type,H),H.apply(D,[V])}}(d,x);K.delegationSelector=w?l:null,K.callable=x,K.oneOff=_,K.uidEvent=k,$[k]=K,d.addEventListener(A,K,w)}function he(d,r,l,f,_){const w=q(r[l],f,_);w&&(d.removeEventListener(l,w,!!_),delete r[l][w.uidEvent])}function ye(d,r,l,f){const _=r[l]||{};for(const[w,x]of Object.entries(_))w.includes(f)&&he(d,r,l,x.callable,x.delegationSelector)}function W(d){return d=d.replace(z,""),Q[d]||d}const N={on(d,r,l,f){vt(d,r,l,f,!1)},one(d,r,l,f){vt(d,r,l,f,!0)},off(d,r,l,f){if(typeof r!="string"||!d)return;const[_,w,x]=ke(r,l,f),A=x!==r,R=xe(d),$=R[x]||{},I=r.startsWith(".");if(w===void 0){if(I)for(const k of Object.keys(R))ye(d,R,k,r.slice(1));for(const[k,K]of Object.entries($)){const D=k.replace(M,"");A&&!r.includes(D)||he(d,R,x,K.callable,K.delegationSelector)}}else{if(!Object.keys($).length)return;he(d,R,x,w,_?l:null)}},trigger(d,r,l){if(typeof r!="string"||!d)return null;const f=v();let _=null,w=!0,x=!0,A=!1;r!==W(r)&&f&&(_=f.Event(r,l),f(d).trigger(_),w=!_.isPropagationStopped(),x=!_.isImmediatePropagationStopped(),A=_.isDefaultPrevented());const R=qt(new Event(r,{bubbles:w,cancelable:!0}),l);return A&&R.preventDefault(),x&&d.dispatchEvent(R),R.defaultPrevented&&_&&_.preventDefault(),R}};function qt(d,r={}){for(const[l,f]of Object.entries(r))try{d[l]=f}catch{Object.defineProperty(d,l,{configurable:!0,get:()=>f})}return d}function Dn(d){if(d==="true")return!0;if(d==="false")return!1;if(d===Number(d).toString())return Number(d);if(d===""||d==="null")return null;if(typeof d!="string")return d;try{return JSON.parse(decodeURIComponent(d))}catch{return d}}function yt(d){return d.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const Xe={setDataAttribute(d,r,l){d.setAttribute(`data-bs-${yt(r)}`,l)},removeDataAttribute(d,r){d.removeAttribute(`data-bs-${yt(r)}`)},getDataAttributes(d){if(!d)return{};const r={},l=Object.keys(d.dataset).filter(f=>f.startsWith("bs")&&!f.startsWith("bsConfig"));for(const f of l){let _=f.replace(/^bs/,"");_=_.charAt(0).toLowerCase()+_.slice(1,_.length),r[_]=Dn(d.dataset[f])}return r},getDataAttribute:(d,r)=>Dn(d.getAttribute(`data-bs-${yt(r)}`))};class Ft{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,l){const f=c(l)?Xe.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof f=="object"?f:{},...c(l)?Xe.getDataAttributes(l):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,l=this.constructor.DefaultType){for(const[_,w]of Object.entries(l)){const x=r[_],A=c(x)?"element":(f=x)==null?`${f}`:Object.prototype.toString.call(f).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(w).test(A))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${_}" provided type "${A}" but expected type "${w}".`)}var f}}class Je extends Ft{constructor(r,l){super(),(r=u(r))&&(this._element=r,this._config=this._getConfig(l),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,l,f=!0){E(r,l,f)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return i.get(u(r),this.DATA_KEY)}static getOrCreateInstance(r,l={}){return this.getInstance(r)||new this(r,typeof l=="object"?l:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const rr=d=>{let r=d.getAttribute("data-bs-target");if(!r||r==="#"){let l=d.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),r=l&&l!=="#"?o(l.trim()):null}return r},B={find:(d,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,d)),findOne:(d,r=document.documentElement)=>Element.prototype.querySelector.call(r,d),children:(d,r)=>[].concat(...d.children).filter(l=>l.matches(r)),parents(d,r){const l=[];let f=d.parentNode.closest(r);for(;f;)l.push(f),f=f.parentNode.closest(r);return l},prev(d,r){let l=d.previousElementSibling;for(;l;){if(l.matches(r))return[l];l=l.previousElementSibling}return[]},next(d,r){let l=d.nextElementSibling;for(;l;){if(l.matches(r))return[l];l=l.nextElementSibling}return[]},focusableChildren(d){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(r,d).filter(l=>!p(l)&&h(l))},getSelectorFromElement(d){const r=rr(d);return r&&B.findOne(r)?r:null},getElementFromSelector(d){const r=rr(d);return r?B.findOne(r):null},getMultipleElementsFromSelector(d){const r=rr(d);return r?B.find(r):[]}},Un=(d,r="hide")=>{const l=`click.dismiss${d.EVENT_KEY}`,f=d.NAME;N.on(document,l,`[data-bs-dismiss="${f}"]`,function(_){if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),p(this))return;const w=B.getElementFromSelector(this)||this.closest(`.${f}`);d.getOrCreateInstance(w)[r]()})},$s=".bs.alert",bc=`close${$s}`,vc=`closed${$s}`;class wn extends Je{static get NAME(){return"alert"}close(){if(N.trigger(this._element,bc).defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),N.trigger(this._element,vc),this.dispose()}static jQueryInterface(r){return this.each(function(){const l=wn.getOrCreateInstance(this);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r](this)}})}}Un(wn,"close"),F(wn);const Is='[data-bs-toggle="button"]';class Sn extends Je{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const l=Sn.getOrCreateInstance(this);r==="toggle"&&l[r]()})}}N.on(document,"click.bs.button.data-api",Is,d=>{d.preventDefault();const r=d.target.closest(Is);Sn.getOrCreateInstance(r).toggle()}),F(Sn);const Yt=".bs.swipe",yc=`touchstart${Yt}`,_c=`touchmove${Yt}`,wc=`touchend${Yt}`,Sc=`pointerdown${Yt}`,xc=`pointerup${Yt}`,Pc={endCallback:null,leftCallback:null,rightCallback:null},Ec={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Wn extends Ft{constructor(r,l){super(),this._element=r,r&&Wn.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Pc}static get DefaultType(){return Ec}static get NAME(){return"swipe"}dispose(){N.off(this._element,Yt)}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),P(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const l=r/this._deltaX;this._deltaX=0,l&&P(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,Sc,r=>this._start(r)),N.on(this._element,xc,r=>this._end(r)),this._element.classList.add("pointer-event")):(N.on(this._element,yc,r=>this._start(r)),N.on(this._element,_c,r=>this._move(r)),N.on(this._element,wc,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType==="pen"||r.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const _t=".bs.carousel",Ms=".data-api",xn="next",Gt="prev",Xt="left",Hn="right",Nc=`slide${_t}`,sr=`slid${_t}`,Oc=`keydown${_t}`,Tc=`mouseenter${_t}`,Ac=`mouseleave${_t}`,Fc=`dragstart${_t}`,Lc=`load${_t}${Ms}`,Cc=`click${_t}${Ms}`,js="carousel",Vn="active",zs=".active",Bs=".carousel-item",Rc=zs+Bs,kc={ArrowLeft:Hn,ArrowRight:Xt},$c={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ic={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Jt extends Je{constructor(r,l){super(r,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=B.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===js&&this.cycle()}static get Default(){return $c}static get DefaultType(){return Ic}static get NAME(){return"carousel"}next(){this._slide(xn)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(Gt)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?N.one(this._element,sr,()=>this.cycle()):this.cycle())}to(r){const l=this._getItems();if(r>l.length-1||r<0)return;if(this._isSliding)return void N.one(this._element,sr,()=>this.to(r));const f=this._getItemIndex(this._getActive());if(f===r)return;const _=r>f?xn:Gt;this._slide(_,l[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&N.on(this._element,Oc,r=>this._keydown(r)),this._config.pause==="hover"&&(N.on(this._element,Tc,()=>this.pause()),N.on(this._element,Ac,()=>this._maybeEnableCycle())),this._config.touch&&Wn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of B.find(".carousel-item img",this._element))N.on(l,Fc,f=>f.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(Xt)),rightCallback:()=>this._slide(this._directionToOrder(Hn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Wn(this._element,r)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const l=kc[r.key];l&&(r.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const l=B.findOne(zs,this._indicatorsElement);l.classList.remove(Vn),l.removeAttribute("aria-current");const f=B.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);f&&(f.classList.add(Vn),f.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const l=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(r,l=null){if(this._isSliding)return;const f=this._getActive(),_=r===xn,w=l||T(this._getItems(),f,_,this._config.wrap);if(w===f)return;const x=this._getItemIndex(w),A=k=>N.trigger(this._element,k,{relatedTarget:w,direction:this._orderToDirection(r),from:this._getItemIndex(f),to:x});if(A(Nc).defaultPrevented||!f||!w)return;const R=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(x),this._activeElement=w;const $=_?"carousel-item-start":"carousel-item-end",I=_?"carousel-item-next":"carousel-item-prev";w.classList.add(I),y(w),f.classList.add($),w.classList.add($),this._queueCallback(()=>{w.classList.remove($,I),w.classList.add(Vn),f.classList.remove(Vn,I,$),this._isSliding=!1,A(sr)},f,this._isAnimated()),R&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return B.findOne(Rc,this._element)}_getItems(){return B.find(Bs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return O()?r===Xt?Gt:xn:r===Xt?xn:Gt}_orderToDirection(r){return O()?r===Gt?Xt:Hn:r===Gt?Hn:Xt}static jQueryInterface(r){return this.each(function(){const l=Jt.getOrCreateInstance(this,r);if(typeof r!="number"){if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}}else l.to(r)})}}N.on(document,Cc,"[data-bs-slide], [data-bs-slide-to]",function(d){const r=B.getElementFromSelector(this);if(!r||!r.classList.contains(js))return;d.preventDefault();const l=Jt.getOrCreateInstance(r),f=this.getAttribute("data-bs-slide-to");return f?(l.to(f),void l._maybeEnableCycle()):Xe.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),N.on(window,Lc,()=>{const d=B.find('[data-bs-ride="carousel"]');for(const r of d)Jt.getOrCreateInstance(r)}),F(Jt);const Pn=".bs.collapse",Mc=`show${Pn}`,jc=`shown${Pn}`,zc=`hide${Pn}`,Bc=`hidden${Pn}`,Dc=`click${Pn}.data-api`,or="show",Qt="collapse",Kn="collapsing",Uc=`:scope .${Qt} .${Qt}`,ar='[data-bs-toggle="collapse"]',Wc={parent:null,toggle:!0},Hc={parent:"(null|element)",toggle:"boolean"};class Zt extends Je{constructor(r,l){super(r,l),this._isTransitioning=!1,this._triggerArray=[];const f=B.find(ar);for(const _ of f){const w=B.getSelectorFromElement(_),x=B.find(w).filter(A=>A===this._element);w!==null&&x.length&&this._triggerArray.push(_)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Wc}static get DefaultType(){return Hc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(_=>_!==this._element).map(_=>Zt.getOrCreateInstance(_,{toggle:!1}))),r.length&&r[0]._isTransitioning||N.trigger(this._element,Mc).defaultPrevented)return;for(const _ of r)_.hide();const l=this._getDimension();this._element.classList.remove(Qt),this._element.classList.add(Kn),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const f=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Kn),this._element.classList.add(Qt,or),this._element.style[l]="",N.trigger(this._element,jc)},this._element,!0),this._element.style[l]=`${this._element[f]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,zc).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,y(this._element),this._element.classList.add(Kn),this._element.classList.remove(Qt,or);for(const l of this._triggerArray){const f=B.getElementFromSelector(l);f&&!this._isShown(f)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Kn),this._element.classList.add(Qt),N.trigger(this._element,Bc)},this._element,!0)}_isShown(r=this._element){return r.classList.contains(or)}_configAfterMerge(r){return r.toggle=!!r.toggle,r.parent=u(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(ar);for(const l of r){const f=B.getElementFromSelector(l);f&&this._addAriaAndCollapsedClass([l],this._isShown(f))}}_getFirstLevelChildren(r){const l=B.find(Uc,this._config.parent);return B.find(r,this._config.parent).filter(f=>!l.includes(f))}_addAriaAndCollapsedClass(r,l){if(r.length)for(const f of r)f.classList.toggle("collapsed",!l),f.setAttribute("aria-expanded",l)}static jQueryInterface(r){const l={};return typeof r=="string"&&/show|hide/.test(r)&&(l.toggle=!1),this.each(function(){const f=Zt.getOrCreateInstance(this,l);if(typeof r=="string"){if(f[r]===void 0)throw new TypeError(`No method named "${r}"`);f[r]()}})}}N.on(document,Dc,ar,function(d){(d.target.tagName==="A"||d.delegateTarget&&d.delegateTarget.tagName==="A")&&d.preventDefault();for(const r of B.getMultipleElementsFromSelector(this))Zt.getOrCreateInstance(r,{toggle:!1}).toggle()}),F(Zt);var Ne="top",$e="bottom",Ie="right",Oe="left",qn="auto",en=[Ne,$e,Ie,Oe],Lt="start",tn="end",Ds="clippingParents",lr="viewport",nn="popper",Us="reference",cr=en.reduce(function(d,r){return d.concat([r+"-"+Lt,r+"-"+tn])},[]),ur=[].concat(en,[qn]).reduce(function(d,r){return d.concat([r,r+"-"+Lt,r+"-"+tn])},[]),Ws="beforeRead",Hs="read",Vs="afterRead",Ks="beforeMain",qs="main",Ys="afterMain",Gs="beforeWrite",Xs="write",Js="afterWrite",Qs=[Ws,Hs,Vs,Ks,qs,Ys,Gs,Xs,Js];function it(d){return d?(d.nodeName||"").toLowerCase():null}function Me(d){if(d==null)return window;if(d.toString()!=="[object Window]"){var r=d.ownerDocument;return r&&r.defaultView||window}return d}function Ct(d){return d instanceof Me(d).Element||d instanceof Element}function He(d){return d instanceof Me(d).HTMLElement||d instanceof HTMLElement}function hr(d){return typeof ShadowRoot<"u"&&(d instanceof Me(d).ShadowRoot||d instanceof ShadowRoot)}const dr={name:"applyStyles",enabled:!0,phase:"write",fn:function(d){var r=d.state;Object.keys(r.elements).forEach(function(l){var f=r.styles[l]||{},_=r.attributes[l]||{},w=r.elements[l];He(w)&&it(w)&&(Object.assign(w.style,f),Object.keys(_).forEach(function(x){var A=_[x];A===!1?w.removeAttribute(x):w.setAttribute(x,A===!0?"":A)}))})},effect:function(d){var r=d.state,l={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,l.popper),r.styles=l,r.elements.arrow&&Object.assign(r.elements.arrow.style,l.arrow),function(){Object.keys(r.elements).forEach(function(f){var _=r.elements[f],w=r.attributes[f]||{},x=Object.keys(r.styles.hasOwnProperty(f)?r.styles[f]:l[f]).reduce(function(A,R){return A[R]="",A},{});He(_)&&it(_)&&(Object.assign(_.style,x),Object.keys(w).forEach(function(A){_.removeAttribute(A)}))})}},requires:["computeStyles"]};function rt(d){return d.split("-")[0]}var Rt=Math.max,Yn=Math.min,rn=Math.round;function fr(){var d=navigator.userAgentData;return d!=null&&d.brands&&Array.isArray(d.brands)?d.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function Zs(){return!/^((?!chrome|android).)*safari/i.test(fr())}function sn(d,r,l){r===void 0&&(r=!1),l===void 0&&(l=!1);var f=d.getBoundingClientRect(),_=1,w=1;r&&He(d)&&(_=d.offsetWidth>0&&rn(f.width)/d.offsetWidth||1,w=d.offsetHeight>0&&rn(f.height)/d.offsetHeight||1);var x=(Ct(d)?Me(d):window).visualViewport,A=!Zs()&&l,R=(f.left+(A&&x?x.offsetLeft:0))/_,$=(f.top+(A&&x?x.offsetTop:0))/w,I=f.width/_,k=f.height/w;return{width:I,height:k,top:$,right:R+I,bottom:$+k,left:R,x:R,y:$}}function pr(d){var r=sn(d),l=d.offsetWidth,f=d.offsetHeight;return Math.abs(r.width-l)<=1&&(l=r.width),Math.abs(r.height-f)<=1&&(f=r.height),{x:d.offsetLeft,y:d.offsetTop,width:l,height:f}}function eo(d,r){var l=r.getRootNode&&r.getRootNode();if(d.contains(r))return!0;if(l&&hr(l)){var f=r;do{if(f&&d.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function ft(d){return Me(d).getComputedStyle(d)}function Vc(d){return["table","td","th"].indexOf(it(d))>=0}function wt(d){return((Ct(d)?d.ownerDocument:d.document)||window.document).documentElement}function Gn(d){return it(d)==="html"?d:d.assignedSlot||d.parentNode||(hr(d)?d.host:null)||wt(d)}function to(d){return He(d)&&ft(d).position!=="fixed"?d.offsetParent:null}function En(d){for(var r=Me(d),l=to(d);l&&Vc(l)&&ft(l).position==="static";)l=to(l);return l&&(it(l)==="html"||it(l)==="body"&&ft(l).position==="static")?r:l||function(f){var _=/firefox/i.test(fr());if(/Trident/i.test(fr())&&He(f)&&ft(f).position==="fixed")return null;var w=Gn(f);for(hr(w)&&(w=w.host);He(w)&&["html","body"].indexOf(it(w))<0;){var x=ft(w);if(x.transform!=="none"||x.perspective!=="none"||x.contain==="paint"||["transform","perspective"].indexOf(x.willChange)!==-1||_&&x.willChange==="filter"||_&&x.filter&&x.filter!=="none")return w;w=w.parentNode}return null}(d)||r}function gr(d){return["top","bottom"].indexOf(d)>=0?"x":"y"}function Nn(d,r,l){return Rt(d,Yn(r,l))}function no(d){return Object.assign({},{top:0,right:0,bottom:0,left:0},d)}function io(d,r){return r.reduce(function(l,f){return l[f]=d,l},{})}const ro={name:"arrow",enabled:!0,phase:"main",fn:function(d){var r,l=d.state,f=d.name,_=d.options,w=l.elements.arrow,x=l.modifiersData.popperOffsets,A=rt(l.placement),R=gr(A),$=[Oe,Ie].indexOf(A)>=0?"height":"width";if(w&&x){var I=function(se,te){return no(typeof(se=typeof se=="function"?se(Object.assign({},te.rects,{placement:te.placement})):se)!="number"?se:io(se,en))}(_.padding,l),k=pr(w),K=R==="y"?Ne:Oe,D=R==="y"?$e:Ie,H=l.rects.reference[$]+l.rects.reference[R]-x[R]-l.rects.popper[$],U=x[R]-l.rects.reference[R],V=En(w),re=V?R==="y"?V.clientHeight||0:V.clientWidth||0:0,le=H/2-U/2,G=I[K],Z=re-k[$]-I[D],Y=re/2-k[$]/2+le,J=Nn(G,Y,Z),ee=R;l.modifiersData[f]=((r={})[ee]=J,r.centerOffset=J-Y,r)}},effect:function(d){var r=d.state,l=d.options.element,f=l===void 0?"[data-popper-arrow]":l;f!=null&&(typeof f!="string"||(f=r.elements.popper.querySelector(f)))&&eo(r.elements.popper,f)&&(r.elements.arrow=f)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function on(d){return d.split("-")[1]}var Kc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function so(d){var r,l=d.popper,f=d.popperRect,_=d.placement,w=d.variation,x=d.offsets,A=d.position,R=d.gpuAcceleration,$=d.adaptive,I=d.roundOffsets,k=d.isFixed,K=x.x,D=K===void 0?0:K,H=x.y,U=H===void 0?0:H,V=typeof I=="function"?I({x:D,y:U}):{x:D,y:U};D=V.x,U=V.y;var re=x.hasOwnProperty("x"),le=x.hasOwnProperty("y"),G=Oe,Z=Ne,Y=window;if($){var J=En(l),ee="clientHeight",se="clientWidth";J===Me(l)&&ft(J=wt(l)).position!=="static"&&A==="absolute"&&(ee="scrollHeight",se="scrollWidth"),(_===Ne||(_===Oe||_===Ie)&&w===tn)&&(Z=$e,U-=(k&&J===Y&&Y.visualViewport?Y.visualViewport.height:J[ee])-f.height,U*=R?1:-1),_!==Oe&&(_!==Ne&&_!==$e||w!==tn)||(G=Ie,D-=(k&&J===Y&&Y.visualViewport?Y.visualViewport.width:J[se])-f.width,D*=R?1:-1)}var te,pe=Object.assign({position:A},$&&Kc),je=I===!0?function(Ze,Te){var Ke=Ze.x,qe=Ze.y,de=Te.devicePixelRatio||1;return{x:rn(Ke*de)/de||0,y:rn(qe*de)/de||0}}({x:D,y:U},Me(l)):{x:D,y:U};return D=je.x,U=je.y,R?Object.assign({},pe,((te={})[Z]=le?"0":"",te[G]=re?"0":"",te.transform=(Y.devicePixelRatio||1)<=1?"translate("+D+"px, "+U+"px)":"translate3d("+D+"px, "+U+"px, 0)",te)):Object.assign({},pe,((r={})[Z]=le?U+"px":"",r[G]=re?D+"px":"",r.transform="",r))}const mr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(d){var r=d.state,l=d.options,f=l.gpuAcceleration,_=f===void 0||f,w=l.adaptive,x=w===void 0||w,A=l.roundOffsets,R=A===void 0||A,$={placement:rt(r.placement),variation:on(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:_,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,so(Object.assign({},$,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:x,roundOffsets:R})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,so(Object.assign({},$,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:R})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Xn={passive:!0};const br={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(d){var r=d.state,l=d.instance,f=d.options,_=f.scroll,w=_===void 0||_,x=f.resize,A=x===void 0||x,R=Me(r.elements.popper),$=[].concat(r.scrollParents.reference,r.scrollParents.popper);return w&&$.forEach(function(I){I.addEventListener("scroll",l.update,Xn)}),A&&R.addEventListener("resize",l.update,Xn),function(){w&&$.forEach(function(I){I.removeEventListener("scroll",l.update,Xn)}),A&&R.removeEventListener("resize",l.update,Xn)}},data:{}};var qc={left:"right",right:"left",bottom:"top",top:"bottom"};function Jn(d){return d.replace(/left|right|bottom|top/g,function(r){return qc[r]})}var Yc={start:"end",end:"start"};function oo(d){return d.replace(/start|end/g,function(r){return Yc[r]})}function vr(d){var r=Me(d);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function yr(d){return sn(wt(d)).left+vr(d).scrollLeft}function _r(d){var r=ft(d),l=r.overflow,f=r.overflowX,_=r.overflowY;return/auto|scroll|overlay|hidden/.test(l+_+f)}function ao(d){return["html","body","#document"].indexOf(it(d))>=0?d.ownerDocument.body:He(d)&&_r(d)?d:ao(Gn(d))}function On(d,r){var l;r===void 0&&(r=[]);var f=ao(d),_=f===((l=d.ownerDocument)==null?void 0:l.body),w=Me(f),x=_?[w].concat(w.visualViewport||[],_r(f)?f:[]):f,A=r.concat(x);return _?A:A.concat(On(Gn(x)))}function wr(d){return Object.assign({},d,{left:d.x,top:d.y,right:d.x+d.width,bottom:d.y+d.height})}function lo(d,r,l){return r===lr?wr(function(f,_){var w=Me(f),x=wt(f),A=w.visualViewport,R=x.clientWidth,$=x.clientHeight,I=0,k=0;if(A){R=A.width,$=A.height;var K=Zs();(K||!K&&_==="fixed")&&(I=A.offsetLeft,k=A.offsetTop)}return{width:R,height:$,x:I+yr(f),y:k}}(d,l)):Ct(r)?function(f,_){var w=sn(f,!1,_==="fixed");return w.top=w.top+f.clientTop,w.left=w.left+f.clientLeft,w.bottom=w.top+f.clientHeight,w.right=w.left+f.clientWidth,w.width=f.clientWidth,w.height=f.clientHeight,w.x=w.left,w.y=w.top,w}(r,l):wr(function(f){var _,w=wt(f),x=vr(f),A=(_=f.ownerDocument)==null?void 0:_.body,R=Rt(w.scrollWidth,w.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),$=Rt(w.scrollHeight,w.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0),I=-x.scrollLeft+yr(f),k=-x.scrollTop;return ft(A||w).direction==="rtl"&&(I+=Rt(w.clientWidth,A?A.clientWidth:0)-R),{width:R,height:$,x:I,y:k}}(wt(d)))}function co(d){var r,l=d.reference,f=d.element,_=d.placement,w=_?rt(_):null,x=_?on(_):null,A=l.x+l.width/2-f.width/2,R=l.y+l.height/2-f.height/2;switch(w){case Ne:r={x:A,y:l.y-f.height};break;case $e:r={x:A,y:l.y+l.height};break;case Ie:r={x:l.x+l.width,y:R};break;case Oe:r={x:l.x-f.width,y:R};break;default:r={x:l.x,y:l.y}}var $=w?gr(w):null;if($!=null){var I=$==="y"?"height":"width";switch(x){case Lt:r[$]=r[$]-(l[I]/2-f[I]/2);break;case tn:r[$]=r[$]+(l[I]/2-f[I]/2)}}return r}function an(d,r){r===void 0&&(r={});var l=r,f=l.placement,_=f===void 0?d.placement:f,w=l.strategy,x=w===void 0?d.strategy:w,A=l.boundary,R=A===void 0?Ds:A,$=l.rootBoundary,I=$===void 0?lr:$,k=l.elementContext,K=k===void 0?nn:k,D=l.altBoundary,H=D!==void 0&&D,U=l.padding,V=U===void 0?0:U,re=no(typeof V!="number"?V:io(V,en)),le=K===nn?Us:nn,G=d.rects.popper,Z=d.elements[H?le:K],Y=function(Te,Ke,qe,de){var st=Ke==="clippingParents"?function(ae){var Ae=On(Gn(ae)),Ye=["absolute","fixed"].indexOf(ft(ae).position)>=0&&He(ae)?En(ae):ae;return Ct(Ye)?Ae.filter(function(xt){return Ct(xt)&&eo(xt,Ye)&&it(xt)!=="body"}):[]}(Te):[].concat(Ke),ot=[].concat(st,[qe]),un=ot[0],_e=ot.reduce(function(ae,Ae){var Ye=lo(Te,Ae,de);return ae.top=Rt(Ye.top,ae.top),ae.right=Yn(Ye.right,ae.right),ae.bottom=Yn(Ye.bottom,ae.bottom),ae.left=Rt(Ye.left,ae.left),ae},lo(Te,un,de));return _e.width=_e.right-_e.left,_e.height=_e.bottom-_e.top,_e.x=_e.left,_e.y=_e.top,_e}(Ct(Z)?Z:Z.contextElement||wt(d.elements.popper),R,I,x),J=sn(d.elements.reference),ee=co({reference:J,element:G,strategy:"absolute",placement:_}),se=wr(Object.assign({},G,ee)),te=K===nn?se:J,pe={top:Y.top-te.top+re.top,bottom:te.bottom-Y.bottom+re.bottom,left:Y.left-te.left+re.left,right:te.right-Y.right+re.right},je=d.modifiersData.offset;if(K===nn&&je){var Ze=je[_];Object.keys(pe).forEach(function(Te){var Ke=[Ie,$e].indexOf(Te)>=0?1:-1,qe=[Ne,$e].indexOf(Te)>=0?"y":"x";pe[Te]+=Ze[qe]*Ke})}return pe}function Gc(d,r){r===void 0&&(r={});var l=r,f=l.placement,_=l.boundary,w=l.rootBoundary,x=l.padding,A=l.flipVariations,R=l.allowedAutoPlacements,$=R===void 0?ur:R,I=on(f),k=I?A?cr:cr.filter(function(H){return on(H)===I}):en,K=k.filter(function(H){return $.indexOf(H)>=0});K.length===0&&(K=k);var D=K.reduce(function(H,U){return H[U]=an(d,{placement:U,boundary:_,rootBoundary:w,padding:x})[rt(U)],H},{});return Object.keys(D).sort(function(H,U){return D[H]-D[U]})}const uo={name:"flip",enabled:!0,phase:"main",fn:function(d){var r=d.state,l=d.options,f=d.name;if(!r.modifiersData[f]._skip){for(var _=l.mainAxis,w=_===void 0||_,x=l.altAxis,A=x===void 0||x,R=l.fallbackPlacements,$=l.padding,I=l.boundary,k=l.rootBoundary,K=l.altBoundary,D=l.flipVariations,H=D===void 0||D,U=l.allowedAutoPlacements,V=r.options.placement,re=rt(V),le=R||(re!==V&&H?function(ae){if(rt(ae)===qn)return[];var Ae=Jn(ae);return[oo(ae),Ae,oo(Ae)]}(V):[Jn(V)]),G=[V].concat(le).reduce(function(ae,Ae){return ae.concat(rt(Ae)===qn?Gc(r,{placement:Ae,boundary:I,rootBoundary:k,padding:$,flipVariations:H,allowedAutoPlacements:U}):Ae)},[]),Z=r.rects.reference,Y=r.rects.popper,J=new Map,ee=!0,se=G[0],te=0;te<G.length;te++){var pe=G[te],je=rt(pe),Ze=on(pe)===Lt,Te=[Ne,$e].indexOf(je)>=0,Ke=Te?"width":"height",qe=an(r,{placement:pe,boundary:I,rootBoundary:k,altBoundary:K,padding:$}),de=Te?Ze?Ie:Oe:Ze?$e:Ne;Z[Ke]>Y[Ke]&&(de=Jn(de));var st=Jn(de),ot=[];if(w&&ot.push(qe[je]<=0),A&&ot.push(qe[de]<=0,qe[st]<=0),ot.every(function(ae){return ae})){se=pe,ee=!1;break}J.set(pe,ot)}if(ee)for(var un=function(ae){var Ae=G.find(function(Ye){var xt=J.get(Ye);if(xt)return xt.slice(0,ae).every(function(oi){return oi})});if(Ae)return se=Ae,"break"},_e=H?3:1;_e>0&&un(_e)!=="break";_e--);r.placement!==se&&(r.modifiersData[f]._skip=!0,r.placement=se,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ho(d,r,l){return l===void 0&&(l={x:0,y:0}),{top:d.top-r.height-l.y,right:d.right-r.width+l.x,bottom:d.bottom-r.height+l.y,left:d.left-r.width-l.x}}function fo(d){return[Ne,Ie,$e,Oe].some(function(r){return d[r]>=0})}const po={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(d){var r=d.state,l=d.name,f=r.rects.reference,_=r.rects.popper,w=r.modifiersData.preventOverflow,x=an(r,{elementContext:"reference"}),A=an(r,{altBoundary:!0}),R=ho(x,f),$=ho(A,_,w),I=fo(R),k=fo($);r.modifiersData[l]={referenceClippingOffsets:R,popperEscapeOffsets:$,isReferenceHidden:I,hasPopperEscaped:k},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":k})}},go={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(d){var r=d.state,l=d.options,f=d.name,_=l.offset,w=_===void 0?[0,0]:_,x=ur.reduce(function(I,k){return I[k]=function(K,D,H){var U=rt(K),V=[Oe,Ne].indexOf(U)>=0?-1:1,re=typeof H=="function"?H(Object.assign({},D,{placement:K})):H,le=re[0],G=re[1];return le=le||0,G=(G||0)*V,[Oe,Ie].indexOf(U)>=0?{x:G,y:le}:{x:le,y:G}}(k,r.rects,w),I},{}),A=x[r.placement],R=A.x,$=A.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=R,r.modifiersData.popperOffsets.y+=$),r.modifiersData[f]=x}},Sr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(d){var r=d.state,l=d.name;r.modifiersData[l]=co({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})},data:{}},mo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(d){var r=d.state,l=d.options,f=d.name,_=l.mainAxis,w=_===void 0||_,x=l.altAxis,A=x!==void 0&&x,R=l.boundary,$=l.rootBoundary,I=l.altBoundary,k=l.padding,K=l.tether,D=K===void 0||K,H=l.tetherOffset,U=H===void 0?0:H,V=an(r,{boundary:R,rootBoundary:$,padding:k,altBoundary:I}),re=rt(r.placement),le=on(r.placement),G=!le,Z=gr(re),Y=Z==="x"?"y":"x",J=r.modifiersData.popperOffsets,ee=r.rects.reference,se=r.rects.popper,te=typeof U=="function"?U(Object.assign({},r.rects,{placement:r.placement})):U,pe=typeof te=="number"?{mainAxis:te,altAxis:te}:Object.assign({mainAxis:0,altAxis:0},te),je=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,Ze={x:0,y:0};if(J){if(w){var Te,Ke=Z==="y"?Ne:Oe,qe=Z==="y"?$e:Ie,de=Z==="y"?"height":"width",st=J[Z],ot=st+V[Ke],un=st-V[qe],_e=D?-se[de]/2:0,ae=le===Lt?ee[de]:se[de],Ae=le===Lt?-se[de]:-ee[de],Ye=r.elements.arrow,xt=D&&Ye?pr(Ye):{width:0,height:0},oi=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},na=oi[Ke],ia=oi[qe],ai=Nn(0,ee[de],xt[de]),Ph=G?ee[de]/2-_e-ai-na-pe.mainAxis:ae-ai-na-pe.mainAxis,Eh=G?-ee[de]/2+_e+ai+ia+pe.mainAxis:Ae+ai+ia+pe.mainAxis,$r=r.elements.arrow&&En(r.elements.arrow),Nh=$r?Z==="y"?$r.clientTop||0:$r.clientLeft||0:0,ra=(Te=je==null?void 0:je[Z])!=null?Te:0,Oh=st+Eh-ra,sa=Nn(D?Yn(ot,st+Ph-ra-Nh):ot,st,D?Rt(un,Oh):un);J[Z]=sa,Ze[Z]=sa-st}if(A){var oa,Th=Z==="x"?Ne:Oe,Ah=Z==="x"?$e:Ie,Dt=J[Y],li=Y==="y"?"height":"width",aa=Dt+V[Th],la=Dt-V[Ah],Ir=[Ne,Oe].indexOf(re)!==-1,ca=(oa=je==null?void 0:je[Y])!=null?oa:0,ua=Ir?aa:Dt-ee[li]-se[li]-ca+pe.altAxis,ha=Ir?Dt+ee[li]+se[li]-ca-pe.altAxis:la,da=D&&Ir?function(Fh,Lh,Mr){var fa=Nn(Fh,Lh,Mr);return fa>Mr?Mr:fa}(ua,Dt,ha):Nn(D?ua:aa,Dt,D?ha:la);J[Y]=da,Ze[Y]=da-Dt}r.modifiersData[f]=Ze}},requiresIfExists:["offset"]};function Xc(d,r,l){l===void 0&&(l=!1);var f,_,w=He(r),x=He(r)&&function(k){var K=k.getBoundingClientRect(),D=rn(K.width)/k.offsetWidth||1,H=rn(K.height)/k.offsetHeight||1;return D!==1||H!==1}(r),A=wt(r),R=sn(d,x,l),$={scrollLeft:0,scrollTop:0},I={x:0,y:0};return(w||!w&&!l)&&((it(r)!=="body"||_r(A))&&($=(f=r)!==Me(f)&&He(f)?{scrollLeft:(_=f).scrollLeft,scrollTop:_.scrollTop}:vr(f)),He(r)?((I=sn(r,!0)).x+=r.clientLeft,I.y+=r.clientTop):A&&(I.x=yr(A))),{x:R.left+$.scrollLeft-I.x,y:R.top+$.scrollTop-I.y,width:R.width,height:R.height}}function Jc(d){var r=new Map,l=new Set,f=[];function _(w){l.add(w.name),[].concat(w.requires||[],w.requiresIfExists||[]).forEach(function(x){if(!l.has(x)){var A=r.get(x);A&&_(A)}}),f.push(w)}return d.forEach(function(w){r.set(w.name,w)}),d.forEach(function(w){l.has(w.name)||_(w)}),f}var bo={placement:"bottom",modifiers:[],strategy:"absolute"};function vo(){for(var d=arguments.length,r=new Array(d),l=0;l<d;l++)r[l]=arguments[l];return!r.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function Qn(d){d===void 0&&(d={});var r=d,l=r.defaultModifiers,f=l===void 0?[]:l,_=r.defaultOptions,w=_===void 0?bo:_;return function(x,A,R){R===void 0&&(R=w);var $,I,k={placement:"bottom",orderedModifiers:[],options:Object.assign({},bo,w),modifiersData:{},elements:{reference:x,popper:A},attributes:{},styles:{}},K=[],D=!1,H={state:k,setOptions:function(V){var re=typeof V=="function"?V(k.options):V;U(),k.options=Object.assign({},w,k.options,re),k.scrollParents={reference:Ct(x)?On(x):x.contextElement?On(x.contextElement):[],popper:On(A)};var le,G,Z=function(Y){var J=Jc(Y);return Qs.reduce(function(ee,se){return ee.concat(J.filter(function(te){return te.phase===se}))},[])}((le=[].concat(f,k.options.modifiers),G=le.reduce(function(Y,J){var ee=Y[J.name];return Y[J.name]=ee?Object.assign({},ee,J,{options:Object.assign({},ee.options,J.options),data:Object.assign({},ee.data,J.data)}):J,Y},{}),Object.keys(G).map(function(Y){return G[Y]})));return k.orderedModifiers=Z.filter(function(Y){return Y.enabled}),k.orderedModifiers.forEach(function(Y){var J=Y.name,ee=Y.options,se=ee===void 0?{}:ee,te=Y.effect;if(typeof te=="function"){var pe=te({state:k,name:J,instance:H,options:se});K.push(pe||function(){})}}),H.update()},forceUpdate:function(){if(!D){var V=k.elements,re=V.reference,le=V.popper;if(vo(re,le)){k.rects={reference:Xc(re,En(le),k.options.strategy==="fixed"),popper:pr(le)},k.reset=!1,k.placement=k.options.placement,k.orderedModifiers.forEach(function(te){return k.modifiersData[te.name]=Object.assign({},te.data)});for(var G=0;G<k.orderedModifiers.length;G++)if(k.reset!==!0){var Z=k.orderedModifiers[G],Y=Z.fn,J=Z.options,ee=J===void 0?{}:J,se=Z.name;typeof Y=="function"&&(k=Y({state:k,options:ee,name:se,instance:H})||k)}else k.reset=!1,G=-1}}},update:($=function(){return new Promise(function(V){H.forceUpdate(),V(k)})},function(){return I||(I=new Promise(function(V){Promise.resolve().then(function(){I=void 0,V($())})})),I}),destroy:function(){U(),D=!0}};if(!vo(x,A))return H;function U(){K.forEach(function(V){return V()}),K=[]}return H.setOptions(R).then(function(V){!D&&R.onFirstUpdate&&R.onFirstUpdate(V)}),H}}var Qc=Qn(),Zc=Qn({defaultModifiers:[br,Sr,mr,dr]}),xr=Qn({defaultModifiers:[br,Sr,mr,dr,go,uo,mo,ro,po]});const yo=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ys,afterRead:Vs,afterWrite:Js,applyStyles:dr,arrow:ro,auto:qn,basePlacements:en,beforeMain:Ks,beforeRead:Ws,beforeWrite:Gs,bottom:$e,clippingParents:Ds,computeStyles:mr,createPopper:xr,createPopperBase:Qc,createPopperLite:Zc,detectOverflow:an,end:tn,eventListeners:br,flip:uo,hide:po,left:Oe,main:qs,modifierPhases:Qs,offset:go,placements:ur,popper:nn,popperGenerator:Qn,popperOffsets:Sr,preventOverflow:mo,read:Hs,reference:Us,right:Ie,start:Lt,top:Ne,variationPlacements:cr,viewport:lr,write:Xs},Symbol.toStringTag,{value:"Module"})),_o="dropdown",kt=".bs.dropdown",Pr=".data-api",eu="ArrowUp",wo="ArrowDown",tu=`hide${kt}`,nu=`hidden${kt}`,iu=`show${kt}`,ru=`shown${kt}`,So=`click${kt}${Pr}`,xo=`keydown${kt}${Pr}`,su=`keyup${kt}${Pr}`,ln="show",$t='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ou=`${$t}.${ln}`,Zn=".dropdown-menu",au=O()?"top-end":"top-start",lu=O()?"top-start":"top-end",cu=O()?"bottom-end":"bottom-start",uu=O()?"bottom-start":"bottom-end",hu=O()?"left-start":"right-start",du=O()?"right-start":"left-start",fu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},pu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qe extends Je{constructor(r,l){super(r,l),this._popper=null,this._parent=this._element.parentNode,this._menu=B.next(this._element,Zn)[0]||B.prev(this._element,Zn)[0]||B.findOne(Zn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return fu}static get DefaultType(){return pu}static get NAME(){return _o}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!N.trigger(this._element,iu,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))N.on(l,"mouseover",g);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ln),this._element.classList.add(ln),N.trigger(this._element,ru,r)}}hide(){if(p(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!N.trigger(this._element,tu,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))N.off(l,"mouseover",g);this._popper&&this._popper.destroy(),this._menu.classList.remove(ln),this._element.classList.remove(ln),this._element.setAttribute("aria-expanded","false"),Xe.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,nu,r)}}_getConfig(r){if(typeof(r=super._getConfig(r)).reference=="object"&&!c(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${_o.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(yo===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:c(this._config.reference)?r=u(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const l=this._getPopperConfig();this._popper=xr(r,this._menu,l)}_isShown(){return this._menu.classList.contains(ln)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return hu;if(r.classList.contains("dropstart"))return du;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains("dropup")?l?lu:au:l?uu:cu}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(l=>Number.parseInt(l,10)):typeof r=="function"?l=>r(l,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Xe.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...P(this._config.popperConfig,[r])}}_selectMenuItem({key:r,target:l}){const f=B.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(_=>h(_));f.length&&T(f,l,r===wo,!f.includes(l)).focus()}static jQueryInterface(r){return this.each(function(){const l=Qe.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r]()}})}static clearMenus(r){if(r.button===2||r.type==="keyup"&&r.key!=="Tab")return;const l=B.find(ou);for(const f of l){const _=Qe.getInstance(f);if(!_||_._config.autoClose===!1)continue;const w=r.composedPath(),x=w.includes(_._menu);if(w.includes(_._element)||_._config.autoClose==="inside"&&!x||_._config.autoClose==="outside"&&x||_._menu.contains(r.target)&&(r.type==="keyup"&&r.key==="Tab"||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const A={relatedTarget:_._element};r.type==="click"&&(A.clickEvent=r),_._completeHide(A)}}static dataApiKeydownHandler(r){const l=/input|textarea/i.test(r.target.tagName),f=r.key==="Escape",_=[eu,wo].includes(r.key);if(!_&&!f||l&&!f)return;r.preventDefault();const w=this.matches($t)?this:B.prev(this,$t)[0]||B.next(this,$t)[0]||B.findOne($t,r.delegateTarget.parentNode),x=Qe.getOrCreateInstance(w);if(_)return r.stopPropagation(),x.show(),void x._selectMenuItem(r);x._isShown()&&(r.stopPropagation(),x.hide(),w.focus())}}N.on(document,xo,$t,Qe.dataApiKeydownHandler),N.on(document,xo,Zn,Qe.dataApiKeydownHandler),N.on(document,So,Qe.clearMenus),N.on(document,su,Qe.clearMenus),N.on(document,So,$t,function(d){d.preventDefault(),Qe.getOrCreateInstance(this).toggle()}),F(Qe);const Po="backdrop",Eo="show",No=`mousedown.bs.${Po}`,gu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Oo extends Ft{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return gu}static get DefaultType(){return mu}static get NAME(){return Po}show(r){if(!this._config.isVisible)return void P(r);this._append();const l=this._getElement();this._config.isAnimated&&y(l),l.classList.add(Eo),this._emulateAnimation(()=>{P(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove(Eo),this._emulateAnimation(()=>{this.dispose(),P(r)})):P(r)}dispose(){this._isAppended&&(N.off(this._element,No),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=u(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),N.on(r,No,()=>{P(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){E(r,this._getElement(),this._config.isAnimated)}}const ei=".bs.focustrap",bu=`focusin${ei}`,vu=`keydown.tab${ei}`,To="backward",yu={autofocus:!0,trapElement:null},_u={autofocus:"boolean",trapElement:"element"};class Ao extends Ft{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return yu}static get DefaultType(){return _u}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,ei),N.on(document,bu,r=>this._handleFocusin(r)),N.on(document,vu,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,ei))}_handleFocusin(r){const{trapElement:l}=this._config;if(r.target===document||r.target===l||l.contains(r.target))return;const f=B.focusableChildren(l);f.length===0?l.focus():this._lastTabNavDirection===To?f[f.length-1].focus():f[0].focus()}_handleKeydown(r){r.key==="Tab"&&(this._lastTabNavDirection=r.shiftKey?To:"forward")}}const Fo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Lo=".sticky-top",ti="padding-right",Co="margin-right";class Er{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ti,l=>l+r),this._setElementAttributes(Fo,ti,l=>l+r),this._setElementAttributes(Lo,Co,l=>l-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ti),this._resetElementAttributes(Fo,ti),this._resetElementAttributes(Lo,Co)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,l,f){const _=this.getWidth();this._applyManipulationCallback(r,w=>{if(w!==this._element&&window.innerWidth>w.clientWidth+_)return;this._saveInitialAttribute(w,l);const x=window.getComputedStyle(w).getPropertyValue(l);w.style.setProperty(l,`${f(Number.parseFloat(x))}px`)})}_saveInitialAttribute(r,l){const f=r.style.getPropertyValue(l);f&&Xe.setDataAttribute(r,l,f)}_resetElementAttributes(r,l){this._applyManipulationCallback(r,f=>{const _=Xe.getDataAttribute(f,l);_!==null?(Xe.removeDataAttribute(f,l),f.style.setProperty(l,_)):f.style.removeProperty(l)})}_applyManipulationCallback(r,l){if(c(r))l(r);else for(const f of B.find(r,this._element))l(f)}}const Ve=".bs.modal",wu=`hide${Ve}`,Su=`hidePrevented${Ve}`,Ro=`hidden${Ve}`,ko=`show${Ve}`,xu=`shown${Ve}`,Pu=`resize${Ve}`,Eu=`click.dismiss${Ve}`,Nu=`mousedown.dismiss${Ve}`,Ou=`keydown.dismiss${Ve}`,Tu=`click${Ve}.data-api`,$o="modal-open",Io="show",Nr="modal-static",Au={backdrop:!0,focus:!0,keyboard:!0},Fu={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class It extends Je{constructor(r,l){super(r,l),this._dialog=B.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Er,this._addEventListeners()}static get Default(){return Au}static get DefaultType(){return Fu}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||N.trigger(this._element,ko,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($o),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(N.trigger(this._element,wu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Io),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){N.off(window,Ve),N.off(this._dialog,Ve),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Oo({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ao({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=B.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),y(this._element),this._element.classList.add(Io),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,xu,{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,Ou,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),N.on(window,Pu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,Nu,r=>{N.one(this._element,Eu,l=>{this._element===r.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($o),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Ro)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(N.trigger(this._element,Su).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(Nr)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(Nr),this._queueCallback(()=>{this._element.classList.remove(Nr),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),f=l>0;if(f&&!r){const _=O()?"paddingLeft":"paddingRight";this._element.style[_]=`${l}px`}if(!f&&r){const _=O()?"paddingRight":"paddingLeft";this._element.style[_]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,l){return this.each(function(){const f=It.getOrCreateInstance(this,r);if(typeof r=="string"){if(f[r]===void 0)throw new TypeError(`No method named "${r}"`);f[r](l)}})}}N.on(document,Tu,'[data-bs-toggle="modal"]',function(d){const r=B.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&d.preventDefault(),N.one(r,ko,f=>{f.defaultPrevented||N.one(r,Ro,()=>{h(this)&&this.focus()})});const l=B.findOne(".modal.show");l&&It.getInstance(l).hide(),It.getOrCreateInstance(r).toggle(this)}),Un(It),F(It);const pt=".bs.offcanvas",Mo=".data-api",Lu=`load${pt}${Mo}`,jo="show",zo="showing",Bo="hiding",Do=".offcanvas.show",Cu=`show${pt}`,Ru=`shown${pt}`,ku=`hide${pt}`,Uo=`hidePrevented${pt}`,Wo=`hidden${pt}`,$u=`resize${pt}`,Iu=`click${pt}${Mo}`,Mu=`keydown.dismiss${pt}`,ju={backdrop:!0,keyboard:!0,scroll:!1},zu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gt extends Je{constructor(r,l){super(r,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ju}static get DefaultType(){return zu}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||N.trigger(this._element,Cu,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Er().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(zo),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(jo),this._element.classList.remove(zo),N.trigger(this._element,Ru,{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(N.trigger(this._element,ku).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Bo),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(jo,Bo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Er().reset(),N.trigger(this._element,Wo)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=!!this._config.backdrop;return new Oo({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{this._config.backdrop!=="static"?this.hide():N.trigger(this._element,Uo)}:null})}_initializeFocusTrap(){return new Ao({trapElement:this._element})}_addEventListeners(){N.on(this._element,Mu,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():N.trigger(this._element,Uo))})}static jQueryInterface(r){return this.each(function(){const l=gt.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r](this)}})}}N.on(document,Iu,'[data-bs-toggle="offcanvas"]',function(d){const r=B.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),p(this))return;N.one(r,Wo,()=>{h(this)&&this.focus()});const l=B.findOne(Do);l&&l!==r&&gt.getInstance(l).hide(),gt.getOrCreateInstance(r).toggle(this)}),N.on(window,Lu,()=>{for(const d of B.find(Do))gt.getOrCreateInstance(d).show()}),N.on(window,$u,()=>{for(const d of B.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(d).position!=="fixed"&&gt.getOrCreateInstance(d).hide()}),Un(gt),F(gt);const Ho={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Bu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Du=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Uu=(d,r)=>{const l=d.nodeName.toLowerCase();return r.includes(l)?!Bu.has(l)||!!Du.test(d.nodeValue):r.filter(f=>f instanceof RegExp).some(f=>f.test(l))},Wu={allowList:Ho,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Vu={entry:"(string|element|function|null)",selector:"(string|element)"};class Ku extends Ft{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return Wu}static get DefaultType(){return Hu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[_,w]of Object.entries(this._config.content))this._setContent(r,w,_);const l=r.children[0],f=this._resolvePossibleFunction(this._config.extraClass);return f&&l.classList.add(...f.split(" ")),l}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[l,f]of Object.entries(r))super._typeCheckConfig({selector:l,entry:f},Vu)}_setContent(r,l,f){const _=B.findOne(f,r);_&&((l=this._resolvePossibleFunction(l))?c(l)?this._putElementInTemplate(u(l),_):this._config.html?_.innerHTML=this._maybeSanitize(l):_.textContent=l:_.remove())}_maybeSanitize(r){return this._config.sanitize?function(l,f,_){if(!l.length)return l;if(_&&typeof _=="function")return _(l);const w=new window.DOMParser().parseFromString(l,"text/html"),x=[].concat(...w.body.querySelectorAll("*"));for(const A of x){const R=A.nodeName.toLowerCase();if(!Object.keys(f).includes(R)){A.remove();continue}const $=[].concat(...A.attributes),I=[].concat(f["*"]||[],f[R]||[]);for(const k of $)Uu(k,I)||A.removeAttribute(k.nodeName)}return w.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return P(r,[this])}_putElementInTemplate(r,l){if(this._config.html)return l.innerHTML="",void l.append(r);l.textContent=r.textContent}}const qu=new Set(["sanitize","allowList","sanitizeFn"]),Or="fade",ni="show",Vo=".modal",Ko="hide.bs.modal",Tn="hover",Tr="focus",Yu={AUTO:"auto",TOP:"top",RIGHT:O()?"left":"right",BOTTOM:"bottom",LEFT:O()?"right":"left"},Gu={allowList:Ho,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Xu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Mt extends Je{constructor(r,l){if(yo===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Gu}static get DefaultType(){return Xu}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Vo),Ko,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=N.trigger(this._element,this.constructor.eventName("show")),l=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!l)return;this._disposePopper();const f=this._getTipElement();this._element.setAttribute("aria-describedby",f.getAttribute("id"));const{container:_}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(_.append(f),N.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(f),f.classList.add(ni),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))N.on(w,"mouseover",g);this._queueCallback(()=>{N.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!N.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ni),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))N.off(r,"mouseover",g);this._activeTrigger.click=!1,this._activeTrigger[Tr]=!1,this._activeTrigger[Tn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const l=this._getTemplateFactory(r).toHtml();if(!l)return null;l.classList.remove(Or,ni),l.classList.add(`bs-${this.constructor.NAME}-auto`);const f=(_=>{do _+=Math.floor(1e6*Math.random());while(document.getElementById(_));return _})(this.constructor.NAME).toString();return l.setAttribute("id",f),this._isAnimated()&&l.classList.add(Or),l}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new Ku({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Or)}_isShown(){return this.tip&&this.tip.classList.contains(ni)}_createPopper(r){const l=P(this._config.placement,[this,r,this._element]),f=Yu[l.toUpperCase()];return xr(this._element,r,this._getPopperConfig(f))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(l=>Number.parseInt(l,10)):typeof r=="function"?l=>r(l,this._element):r}_resolvePossibleFunction(r){return P(r,[this._element])}_getPopperConfig(r){const l={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:f=>{this._getTipElement().setAttribute("data-popper-placement",f.state.placement)}}]};return{...l,...P(this._config.popperConfig,[l])}}_setListeners(){const r=this._config.trigger.split(" ");for(const l of r)if(l==="click")N.on(this._element,this.constructor.eventName("click"),this._config.selector,f=>{this._initializeOnDelegatedTarget(f).toggle()});else if(l!=="manual"){const f=l===Tn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),_=l===Tn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");N.on(this._element,f,this._config.selector,w=>{const x=this._initializeOnDelegatedTarget(w);x._activeTrigger[w.type==="focusin"?Tr:Tn]=!0,x._enter()}),N.on(this._element,_,this._config.selector,w=>{const x=this._initializeOnDelegatedTarget(w);x._activeTrigger[w.type==="focusout"?Tr:Tn]=x._element.contains(w.relatedTarget),x._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Vo),Ko,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,l){clearTimeout(this._timeout),this._timeout=setTimeout(r,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const l=Xe.getDataAttributes(this._element);for(const f of Object.keys(l))qu.has(f)&&delete l[f];return r={...l,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:u(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const[l,f]of Object.entries(this._config))this.constructor.Default[l]!==f&&(r[l]=f);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const l=Mt.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r]()}})}}F(Mt);const Ju={...Mt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Qu={...Mt.DefaultType,content:"(null|string|element|function)"};class ii extends Mt{static get Default(){return Ju}static get DefaultType(){return Qu}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const l=ii.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r]()}})}}F(ii);const Ar=".bs.scrollspy",Zu=`activate${Ar}`,qo=`click${Ar}`,eh=`load${Ar}.data-api`,cn="active",Fr="[href]",Yo=".nav-link",th=`${Yo}, .nav-item > ${Yo}, .list-group-item`,nh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ih={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class An extends Je{constructor(r,l){super(r,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nh}static get DefaultType(){return ih}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=u(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(l=>Number.parseFloat(l))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,qo),N.on(this._config.target,qo,Fr,r=>{const l=this._observableSections.get(r.target.hash);if(l){r.preventDefault();const f=this._rootElement||window,_=l.offsetTop-this._element.offsetTop;if(f.scrollTo)return void f.scrollTo({top:_,behavior:"smooth"});f.scrollTop=_}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),r)}_observerCallback(r){const l=x=>this._targetLinks.get(`#${x.target.id}`),f=x=>{this._previousScrollData.visibleEntryTop=x.target.offsetTop,this._process(l(x))},_=(this._rootElement||document.documentElement).scrollTop,w=_>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=_;for(const x of r){if(!x.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(x));continue}const A=x.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&A){if(f(x),!_)return}else w||A||f(x)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=B.find(Fr,this._config.target);for(const l of r){if(!l.hash||p(l))continue;const f=B.findOne(decodeURI(l.hash),this._element);h(f)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,f))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(cn),this._activateParents(r),N.trigger(this._element,Zu,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))B.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(cn);else for(const l of B.parents(r,".nav, .list-group"))for(const f of B.prev(l,th))f.classList.add(cn)}_clearActiveClass(r){r.classList.remove(cn);const l=B.find(`${Fr}.${cn}`,r);for(const f of l)f.classList.remove(cn)}static jQueryInterface(r){return this.each(function(){const l=An.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}})}}N.on(window,eh,()=>{for(const d of B.find('[data-bs-spy="scroll"]'))An.getOrCreateInstance(d)}),F(An);const jt=".bs.tab",rh=`hide${jt}`,sh=`hidden${jt}`,oh=`show${jt}`,ah=`shown${jt}`,lh=`click${jt}`,ch=`keydown${jt}`,uh=`load${jt}`,hh="ArrowLeft",Go="ArrowRight",dh="ArrowUp",Xo="ArrowDown",Lr="Home",Jo="End",zt="active",Qo="fade",Cr="show",Zo=".dropdown-toggle",Rr=`:not(${Zo})`,ea='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',kr=`.nav-link${Rr}, .list-group-item${Rr}, [role="tab"]${Rr}, ${ea}`,fh=`.${zt}[data-bs-toggle="tab"], .${zt}[data-bs-toggle="pill"], .${zt}[data-bs-toggle="list"]`;class Bt extends Je{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,ch,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const l=this._getActiveElem(),f=l?N.trigger(l,rh,{relatedTarget:r}):null;N.trigger(r,oh,{relatedTarget:l}).defaultPrevented||f&&f.defaultPrevented||(this._deactivate(l,r),this._activate(r,l))}_activate(r,l){r&&(r.classList.add(zt),this._activate(B.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),N.trigger(r,ah,{relatedTarget:l})):r.classList.add(Cr)},r,r.classList.contains(Qo)))}_deactivate(r,l){r&&(r.classList.remove(zt),r.blur(),this._deactivate(B.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),N.trigger(r,sh,{relatedTarget:l})):r.classList.remove(Cr)},r,r.classList.contains(Qo)))}_keydown(r){if(![hh,Go,dh,Xo,Lr,Jo].includes(r.key))return;r.stopPropagation(),r.preventDefault();const l=this._getChildren().filter(_=>!p(_));let f;if([Lr,Jo].includes(r.key))f=l[r.key===Lr?0:l.length-1];else{const _=[Go,Xo].includes(r.key);f=T(l,r.target,_,!0)}f&&(f.focus({preventScroll:!0}),Bt.getOrCreateInstance(f).show())}_getChildren(){return B.find(kr,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,l){this._setAttributeIfNotExists(r,"role","tablist");for(const f of l)this._setInitialAttributesOnChild(f)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const l=this._elemIsActive(r),f=this._getOuterElement(r);r.setAttribute("aria-selected",l),f!==r&&this._setAttributeIfNotExists(f,"role","presentation"),l||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const l=B.getElementFromSelector(r);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,l){const f=this._getOuterElement(r);if(!f.classList.contains("dropdown"))return;const _=(w,x)=>{const A=B.findOne(w,f);A&&A.classList.toggle(x,l)};_(Zo,zt),_(".dropdown-menu",Cr),f.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(r,l,f){r.hasAttribute(l)||r.setAttribute(l,f)}_elemIsActive(r){return r.classList.contains(zt)}_getInnerElement(r){return r.matches(kr)?r:B.findOne(kr,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const l=Bt.getOrCreateInstance(this);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}})}}N.on(document,lh,ea,function(d){["A","AREA"].includes(this.tagName)&&d.preventDefault(),p(this)||Bt.getOrCreateInstance(this).show()}),N.on(window,uh,()=>{for(const d of B.find(fh))Bt.getOrCreateInstance(d)}),F(Bt);const St=".bs.toast",ph=`mouseover${St}`,gh=`mouseout${St}`,mh=`focusin${St}`,bh=`focusout${St}`,vh=`hide${St}`,yh=`hidden${St}`,_h=`show${St}`,wh=`shown${St}`,ta="hide",ri="show",si="showing",Sh={animation:"boolean",autohide:"boolean",delay:"number"},xh={animation:!0,autohide:!0,delay:5e3};class Fn extends Je{constructor(r,l){super(r,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return xh}static get DefaultType(){return Sh}static get NAME(){return"toast"}show(){N.trigger(this._element,_h).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ta),y(this._element),this._element.classList.add(ri,si),this._queueCallback(()=>{this._element.classList.remove(si),N.trigger(this._element,wh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(N.trigger(this._element,vh).defaultPrevented||(this._element.classList.add(si),this._queueCallback(()=>{this._element.classList.add(ta),this._element.classList.remove(si,ri),N.trigger(this._element,yh)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ri),super.dispose()}isShown(){return this._element.classList.contains(ri)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,l){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const f=r.relatedTarget;this._element===f||this._element.contains(f)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,ph,r=>this._onInteraction(r,!0)),N.on(this._element,gh,r=>this._onInteraction(r,!1)),N.on(this._element,mh,r=>this._onInteraction(r,!0)),N.on(this._element,bh,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const l=Fn.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r](this)}})}}return Un(Fn),F(Fn),{Alert:wn,Button:Sn,Carousel:Jt,Collapse:Zt,Dropdown:Qe,Modal:It,Offcanvas:gt,Popover:ii,ScrollSpy:An,Tab:Bt,Toast:Fn,Tooltip:Mt}})})(_g);function Ja(e,n){return!n||!e?"":(n==null?void 0:n.find(t=>t.includes(e)))||""}function as(e,n,t,i,s=!1){if(e>n){const o=(e-n)*(s?2:1)*i;return Math.ceil(o)*parseFloat(t)}return 0}function oc(e,n,t,i,s,o,a){var g,y;const c=i.apparelProductsCategory.includes(n.productCategory);let u;if(a===nt?u=(g=i.lowFBAFeeHashForUk)==null?void 0:g[e]:a===Ce&&(u=(y=i[c?"lowFBAFeesApperal":"lowFBAFeesItemsHash"])==null?void 0:y[e]),!u)return s-i[o];let h=0,p=a===nt?n.unitWeight:parseFloat(Math.max(n.unitWeight,t).toFixed(2));const m=["Small standard","Special oversize"].includes(e)?n.unitWeight:p;return h=parseFloat(ac(h,u,m,e,a===nt?al:1).toFixed(2)),h}function ac(e,n,t,i,s=1){if(i.includes("oversize")){let[o,a,c,u,h]=n[0].match(Re);return e=parseFloat(c)+as(t,h,u,s),e}for(const o of n){let[a,c,u,h]=o.match(Re);if(t>parseFloat(a)&&t<=parseFloat(c)){e=parseFloat(u),parseFloat(h)>0&&(e+=as(t,a,h,s,!0));break}}return e}function lc(e,n,t){let i=0,s=e/1728;const a=new Date().getMonth()+1,u=n.toLowerCase().includes("oversize")?"oversize":"standard";return i=a>=0&&a<=9?s*t[u].jan_sep:s*t[u].oct_dec,parseFloat(i.toFixed(2))}function Ls(e,n,t,i,s,o){const a=Ja(e,s),c=Ja(e,i),u=!!a,h=!!c;e=c||a;let p=t[e],m=0,g,y=15;if(p)if(typeof p=="object"){let v=Object.keys(p);if(v.length===2){let S=parseFloat(v[0].match(Re));u?[m,g,y]=wg(p,n,S,v,o):h&&([m,g,y]=Sg(p,n,S,v,o))}else v.length===4&&(v.sort((S,O)=>p[O]-p[S]),[m,g,y]=xg(p,n,v,o))}else m=p*.01*n,g=`Referral: ${p.toFixed(2)}%`,y=p;return m===0&&t.defaultPercentageForReferral&&n?(m=t.defaultPercentageForReferral*.01*n,g=`Referral: ${t.defaultPercentageForReferral.toFixed(2)}%`,y=t.defaultPercentageForReferral):m===0&&n&&(m=15*.01*n,g="Referral: 15.00%",y=15),m=parseFloat(m.toFixed(2)),[m,g,y]}function wg(e,n,t,i,s){let o=`Variable Referral Fee
Sale Price up to ${s}${t}: ${e[i[0]].toFixed(2)}%`,a=0,c=0;return n<=t?(a=e[i[0]]*.01*n,c=e[i[0]]):(a+=e[i[0]]*.01*t,a+=e[i[1]]*.01*(n-t),o+=`
Sale Price above ${s}${t}: ${e[i[1]].toFixed(2)}%`,c=i[1]),[a,o,c]}function Sg(e,n,t,i,s){let o=`Variable Referral Fee
Sale Price up to ${s}${t}: `,a=n<=t?0:1,c=e[i[a]]*.01*n;return o+=a?`${e[i[0]].toFixed(2)}%
Sale Price above ${s}${t}: ${e[i[a]].toFixed(2)}%`:`${e[i[a]].toFixed(2)}%`,[c,o,e[i[a]]]}function xg(e,n,t,i){let s="Variable Referral Fee",o=0,a=[],c=0;for(const u of t){let h=u.match(Re).map(p=>parseFloat(p));if(!(n>h[0]&&h[1])||n<=h[1]){let p=0,m=0;for(;p<a.length;p++)o+=e[t[p]]*.01*(a[p]-m),s+=`
Sale Price up to ${i+a[p]}: ${e[t[p]].toFixed(2)}%`,m+=a[p];o+=e[t[p]]*.01*(n-h[0]),s+=`
Sale Price above ${i+h[0]}: ${e[t[p]].toFixed(2)}%`,c=t[p];break}a.push(h[1])}return[o,s,c]}const Fi=(e,n)=>{var t,i;return e.fulfilmentType?parseFloat((((t=n.referralFees)==null?void 0:t[0])+n.closingFee).toFixed(2)):parseFloat(e.fulfilmentFee+n.storageFee*e.storageMonth+((i=n==null?void 0:n.referralFees)==null?void 0:i[0])+(e==null?void 0:e.prepFee)+n.closingFee).toFixed(2)};function Pg(e,n){let t="N/A";const i=e.unitWeight;let[s,o,a]=[Math.floor(e.height*100)/100,Math.floor(e.width*100)/100,Math.floor(e.length*100)/100],c=a+(s+o)*2;return i<=.1763&&a<=7.87&&o<=5.9&&s<=.3937?t="Small Envelope":i<=1.014&&a<=12.9939&&o<=9.055&&s<=.9842?t="Standard Envelope":i<=2.1164&&a<=12.9939&&o<=9.055&&s<=1.5748?t="Large Envelope":i<=2.1164&&a<=12.9939&&o<=9.055&&s<=2.3622?t="Extra Large Envelope":i<=8.597&&n<=8.597&&a<13.7795&&o<9.8425&&s<4.7244?t="Small Parcel":i<=26.23&&n<=26.23&&a<=17.71&&o<=13.38&&s<=10.236?t="Standard Parcel":i<3.88&&n<56.92&&a<=24.01&&o<=18.11&&s<=18.11?t="Small Oversize":i<65.6095&&n<190.4761&&a<=47.244&&o<=23.622&&s<=23.622?t="Standard Oversize":i<69.4456&&n>238.099&&a>47.244&&a<68.8976?t="Large Oversize":(i>69.4456||c>141.732283||a>68.8976377,t="Special Oversize"),t}function Eg(e){let n="N/A",t=e.unitWeight,[i,s,o]=[parseFloat(e.height.toFixed(2)),parseFloat(e.width.toFixed(2)),parseFloat(e.length.toFixed(2))];return t<=.17637&&o<=7.87&&s<=5.9&&i<=.3937?n="Small Envelope":t<=.1322&&o<=12.9939&&s<=9.055&&i<=.9842||t<=.4629&&o<=12.9939&&s<=9.055&&i<=.9842||t<=1.0141&&o<=12.9939&&s<=9.055&&i<=.9842?n="Standard Envelope":t<=2.1164&&o<=12.9939&&s<=9.055&&i<=1.5748?n="Large Envelope":t<=2.1164&&o<=12.9939&&s<=9.055&&i<=2.3622?n="Extra Large Envelope":(t<=.3306&&o<=13.7795&&s<=9.8425&&i<=4.7244||t<=.8818&&o<=13.7795&&s<=9.8425&&i<=4.7244)&&(n="Small Parcel"),n}function Ng(e,n,t,i){const s=["Small Envelope","Standard Envelope","Large Envelope","Extra Large Envelope","Special Oversize"];let o=0,a=Math.max(e,n),c=s.includes(t)?e:a,u=i[t];if(c=Math.floor(c*100)/100,t.includes("Oversize"))for(const h of u){let p=h.match(Re);c>parseFloat(p[0])&&c<=parseFloat(p[1])?o=parseFloat(p[2]):parseFloat(p[4])!==0&&o===0&&(o=as(c,p[4],p[3],al)+parseFloat(p[2]))}else for(const h of u){let p=h.match(Re);if(c>parseFloat(p[0])&&c<=parseFloat(p[1])){o=parseFloat(p[2]);break}}return parseFloat(o.toFixed(2))}function Og(e,n){var c,u;let t=0,i=n.closingFeeProductCategory,s=n.variableClosingFeeUK,o=n.variableClosingFeeForBookInUK,a=n.varibaleClosingFeeHashForBooksInUK;if(e){let h=0;for(let p=0;p<a.length&&(((c=a[p])!=null&&c.match(e)||e!=null&&e.match(a[p]))&&(h=o),!h);p++);for(let p=0;p<i.length&&!(((u=i[p])!=null&&u.match(e)||e!=null&&e.match(i[p]))&&(t=s,h!==0&&(t=h),t));p++);}return t}function ls(e){let n=0,t=0,i=e.totalFee;switch(parseInt(e.vatSelect)){case 2:n=((e.salePrice-i-e.salePrice*(e.vatTax/(100+e.vatTax)))*.2+(e.salePrice-i-e.salePrice*(e.vatTax/(100+e.vatTax))))/(1+e.minROI/100+e.vatTax/100*(e.minROI/100)),t=(e.salePrice-i-e.salePrice*(e.vatTax/(100+e.vatTax))-e.minProfit)*(1+e.vatTax/100);break;case 3:n=(e.salePrice-i-e.salePrice*(e.vatTaxFlatRate/100))/(1+e.minROI/100),t=e.salePrice-i-e.salePrice*(e.vatTaxFlatRate/100)-e.minProfit;break;case 1:e.isFeeVatApplied?(n=(e.salePrice-i-i*(e.vatTax/100))/(1+e.minROI/100),t=e.salePrice-i-e.minProfit-i*(e.vatTax/100)):(n=(e.salePrice-i)/(1+e.minROI/100),t=e.salePrice-i-e.minProfit);break;case 0:n=(e.salePrice-i)/(1+e.minROI/100),t=e.salePrice-i-e.minProfit;break}return Math.min(n,t).toFixed(2)}function Tg(e,n){let t="N/A",i=Math.max(e.unitWeight,n),[s,o,a]=[Math.floor(e.height*100)/100,Math.floor(e.width*100)/100,Math.floor(e.length*100)/100],c=a+(s+o)*2;return e.unitWeight<=1&&a<=15&&o<=12&&s<=.75?t="Small standard":i<=20&&a<=18&&o<=14&&s<=8?t="Large standard":i<=70&&a<=60&&o<=30&&c<=130?t="Small oversize":i<=150&&a<=108&&c<=130?t="Medium oversize":i<=150&&a<=108&&c>130&&c<=165?t="Large oversize":(e.unitWeight>150||i>150||a>108||c>165)&&(t="Special oversize"),t}function Ag(e,n,t,i){let s=0,o=0,a=parseFloat(Math.max(n.unitWeight,t).toFixed(2));const c=["Small standard","Special oversize"].includes(e)?n.unitWeight:a;if(["Small standard","Large standard"].includes(e)){const u=i.apparelProductsCategory.includes(n.productCategory);o=i[u?"apperalProducts":"myProducts"][e]}else e.includes("oversize")&&(o=i.overSizedProduct[e]);return s=parseFloat(ac(s,o,c,e).toFixed(2)),s}function Fg(e,n){var o;let t=0,i=n.closingFeeProductCategory,s=n.variableClosingFeeUS;if(e)for(let a=0;a<i.length&&(((o=i[a])!=null&&o.match(e)||e!=null&&e.match(i[a]))&&(t=s),!t);a++);return t}function cs(e){const n=e.totalFee;let t=(e.salePrice-n)/(1+e.minROI/100),i=e.salePrice-n-e.minProfit;return Math.min(t,i).toFixed(2)}async function Lg(e,n,t,i){let s=[];const o=i===nt?jh:zh;try{for(let a=1;a<=2;a++){const c=$g(e,n,a);let u=await Cg(c,t);if((u==null?void 0:u.snapshotLength)>0)for(let h=0;h<u.snapshotLength;h++){let p=u.snapshotItem(h);s.push(await cc(p,t,Mh,e,o))}else break}return s=await kg(t,s,e,o),s}catch(a){console.log("Error in detail page offers: ",a)}}async function Cg(e,n){let t=await Tl(e,!0);const s=new DOMParser().parseFromString(t,"text/html");for(const o of n.offersXpath){let a=s.evaluate(o,s,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if((a==null?void 0:a.snapshotLength)>0)return a}return null}async function Rg(e,n,t){try{const s=new URL(e).searchParams;let[o,a]=s.getAll("seller","node");return o?`https://www.amazon.${n}/s?i=merchant-items&me=${o}&marketplaceID=${t}`:a?`https://www.amazon.${n}/Warehouse-Deals/b?ie=UTF8&node=${a}`:""}catch{return""}}async function kg(e,n,t,i){let s;for(const o of e.buyBoxOffer)!s&&o!==void 0&&(s=ut(o).snapshotItem(0));return s&&(n==null||n.push(await cc(s,e,Bh,t,i,!0))),n}const $g=(e,n,t)=>`https://www.amazon.${e}/gp/product/ajax/ref=${t===1?"dp_aod_ALL_mbc":`aod_page_${t}`}?asin=${n}&m=&qid=&smid=&sourcecustomerorglistid=&sourcecustomerorglistitemid=&sr=&pc=dp${t===1?"":`&isonlyrenderofferlist=true&pageno=${t}`}&experienceId=aodAjaxMain`,cc=async(e,n,t,i,s,o=!1)=>{var h,p,m,g,y,v,S,O;let a,c,u;for(let F=0;F<n.offersPathMaxCount;F++)!a&&n[t.price][F]!==void 0&&(a=parseFloat((m=(p=(h=e.querySelectorAll(n[t.price][F])[0])==null?void 0:h.innerHTML)==null?void 0:p.replace(/,/g,""))==null?void 0:m.match(Re))||0),!c&&n[t.fulfilmentType][F]!==void 0&&(c=o===!0?"AMZ":((S=(v=(y=(g=e.querySelector(n[t.fulfilmentType][F]))==null?void 0:g.innerHTML)==null?void 0:y.trim())==null?void 0:v.toLowerCase())!=null&&S.includes("amazon")?"FBA":"FBM")||null),!u&&n[t.sellerId][F]!==void 0&&(u=await Rg((O=e.querySelector(n[t.sellerId][F]))==null?void 0:O.href,i,s)||null);return{salePrice:a,fulfilmentType:c,sellerIdLink:u}},Ot=async(e,n,t,i=null,s=null)=>{const o=[];if(!e)return[];for(const a of e){let c,u;s!=null?(c=await Cs(a.salePrice,s,i,""),u=Rs(i,a.salePrice,t),c.pop()):(c=a==null?void 0:a.offerReferral,u=a==null?void 0:a.offerFulfilment);const h=Fi({...n,salePrice:a==null?void 0:a.salePrice,fulfilmentFee:u},{...t,referralFees:c}),{profit:p,ROI:m}=ks({...n,totalFee:h,fulfilmentFee:u,salePrice:a==null?void 0:a.salePrice},i);o.push({...a,offerReferral:c,offerFulfilment:u,totalFee:h,profit:p,ROI:m})}return o},Ig=async(e,n,t,i,s,o,a,c)=>{const u=o;let h=a,p=c,m={...n,...e};if(Object.keys(m).map(g=>m[g]=+m[g]),(e==null?void 0:e.isFeeVatApplied)!=null||e!=null&&e.vatSelect||(e==null?void 0:e.taxValue)!=null?e.totalFee=m==null?void 0:m.totalFee:(e==null?void 0:e.salePrice)!=null?(u.referralFees=await Cs(m==null?void 0:m.salePrice,s==null?void 0:s.productCategory,t,i),m.fulfilmentFee=Rs(t,m==null?void 0:m.salePrice,u),e.fulfilmentFee=m.fulfilmentFee,e.totalFee=Fi(m,u)):(e==null?void 0:e.costPrice)!==void 0?e.totalFee=m==null?void 0:m.totalFee:(e==null?void 0:e.prepFee)!=null||(e==null?void 0:e.fulfilmentType)!==void 0||e!=null&&e.storageMonth?e.totalFee=Fi(m,u):(e!=null&&e.minROI||e!=null&&e.minProfit)&&(e.maxCost=t===Ce?cs(m):ls(m),await chrome.storage.local.set({min_roi_value:e==null?void 0:e.minROI,min_Profit_value:e==null?void 0:e.minProfit})),(e==null?void 0:e.totalFee)!=null){m.totalFee=+e.totalFee,(e==null?void 0:e.costPrice)===void 0&&(e.maxCost=t===Ce?cs(m):ls(m)),e={...e,...ks(m,t)},e.profitMargin=uc(e.profit,e.salePrice??(n==null?void 0:n.salePrice));let g=t===Ce?0:m.vatSelect;!m.isFeeVatApplied&&m.vatSelect===1&&(g=0);const y=+parseFloat(m.totalFee-u.referralFees[0]-m.fulfilmentFee).toFixed(2);e.salePrice===void 0&&(e.breakEven=await $n(y,m==null?void 0:m.costPrice,u.referralFees[2],g,m.vatTax,m.vatTaxFlatRate,u.fulfilmentFee,u.lowPriceFBA,t,s==null?void 0:s.productCategory)),h.FBA=await Ot(a.FBA,m,u,t),h.AMZ=await Ot(a.AMZ,m,u,t),h.FBM=await Ot(a.FBM,m,u,t),p=await Ot(c,m,u,t)}ge.dispatch(Gh(e,u,h,p))},Cs=async(e,n,t,i)=>{const{fulfilment_fee_distribution:s}=await chrome.storage.local.get(["fulfilment_fee_distribution"]);return Ls(n,e,s[t===Ce?"referralFeePercentagesWithCategory":t===nt&&"referralFeeUKPercentagesWithCategory"],s.NonPortionCategoriesUSUK,s.PortionCategoriesUSUK,i)},Rs=(e,n,t)=>e===Ce?n<10?t.lowPriceFBA:t.fulfilmentFee:n<=10?t.lowPriceFBA:t.fulfilmentFee,Mg=(e,n,t,i)=>(e===Ce?t<10:t<=10)?n==="N/A"?{title:"The size of item exceeds low FBA criteria. So, Standard FBA will be applied.",label:"Fulfilment Fee"}:{title:`Low-Price FBA enabled on sale price less than 10. Products with sale price less than ${i} 10 will be charged at reduced rate.`,label:"Low-Price FBA Fee"}:{title:`It is Standard FBA on sale price greater${e===Ce?" or equal":""} than 10.`,label:"Fulfilment Fee"},jg=(e,n,t,i,s,o)=>{const a=Ug(e.length,e.height,e.width);return e.volume=a,i===Ce?zg(e,n,t,s,o):Bg(e,n,t,s)},zg=(e,n,t,i,s)=>{const o=e.volume/139,a=Tg(e,o);let c=Ag(a,e,o,t),u=oc(a,e,o,t,c,"outOfBoundlowFbaFeeForUS",Ce);const h=lc(e.volume,a,t.storageFeeRangesByMonths),p=Fg(e.productCategory,t),m=Ls(e==null?void 0:e.productCategory,n==null?void 0:n.salePrice,t.referralFeePercentagesWithCategory,t.NonPortionCategoriesUSUK,t.PortionCategoriesUSUK,i),g=e==null?void 0:e.productCategory,y=["Battery","battery","batteries","Batteries","Rechargeable","rechargeable","Wireless","wireless"];return(g.includes("phone")||g.includes("Phones")||g==="Electronics"||g==="Electronic")&&y.some(v=>s.includes(v))&&(c+=.11,u+=.11),{fulfilmentFee:c,lowPriceFBA:u,storageFee:h,referralFees:m,closingFee:p,productTier:a,lowFbaProductTier:a}},Bg=(e,n,t,i)=>{const s=e.volume*Math.pow(2.54,3)/5e3*2.205,o=Pg(e,s),a=Eg(e),c=Ng(e==null?void 0:e.unitWeight,s,o,t.fulfillmentFeeHashForUk),u=Og(e==null?void 0:e.productCategory,t),h=a==="N/A"?c:oc(a,e,s,t,c,"outOfBoundlowFbaFeeForUK",nt),p=lc(e.volume,o,t.storageFeeRangesByMonthsForUK),m=Ls(e==null?void 0:e.productCategory,n==null?void 0:n.salePrice,t.referralFeeUKPercentagesWithCategory,t.NonPortionCategoriesUSUK,t.PortionCategoriesUSUK,i);return{fulfilmentFee:c,lowPriceFBA:h,storageFee:p,referralFees:m,closingFee:u,productTier:o,lowFbaProductTier:a}};function ks(e,n){let t=(n===nt?Dg(e):e.taxValue/100*e.salePrice).toFixed(2),i=Math.floor((e.salePrice-e.costPrice-e.totalFee-t)*100)/100,s=null;return parseFloat(+e.costPrice)&&(s=Math.floor(parseFloat(i/e.costPrice*100)*100)/100),i=parseFloat(i.toFixed(2)),{profit:i,ROI:s,vatFees:t}}function Dg(e){let n=0;if(e.vatSelect===0)return 0;if(e.vatSelect==2){const t=e.vatTax/(100+e.vatTax);n=e.salePrice*t-e.costPrice*t}else e.vatSelect==3?n=e.salePrice*(e.vatTaxFlatRate/100):e.isFeeVatApplied&&(n=e.totalFee*(e.vatTax/100));return n}const Ug=(e,n,t)=>e*n*t;function uc(e,n){let t=null;return n?(t=(e/n*100).toFixed(2),t):null}async function $n(e,n,t,i,s,o,a,c,u,h){let p,m=!1;e+=a;let g=t;[2,1].includes(i)?p=(e*(s/100)+e+n)/(1-g/100-g/100*(s/100)):i===3?p=(e+n)/(1-g/100-o/100):i==0&&(p=(e+n)/(1-g/100)),u===Ce&&c!=null?p-.77<10&&(p=await $n(e-a,n,t,i,s,o,c,null,u,h),m=!0):u===nt&&c!=null&&p-.37<=10&&(p=await $n(e-a,n,t,i,s,o,c,null,u,h),m=!0);const y=(await Cs(p,h,u,"1"))[2];return y!=t&&(p=await $n(e-a,n,y,i,s,o,m?c:a,m?null:c,u,h)),p}const Wg=async()=>{var v,S,O,F,P,E,T,C,z,M,ie;let e,n,t,i,s,{fulfilment_fee_distribution:o,fulfilment_fee_distribution_xpaths:a,vat_flat_rate:c,detail_page_subcontainer:u,min_roi_value:h,min_Profit_value:p}=await chrome.storage.local.get(["fulfilment_fee_distribution","fulfilment_fee_distribution_xpaths","vat_flat_rate","min_roi_value","min_Profit_value","detail_page_subcontainer"]);if([o,a,c,...ve.values(ve.pick(o,["variableClosingFeeUK","variableClosingFeeForBookInUK","varibaleClosingFeeHashForBooksInUK","variableClosingFeeUS","NonPortionCategoriesUSUK","PortionCategoriesUSUK"]))].some(X=>!X)){let X=await chrome.runtime.sendMessage({getAllDataByArbitrage:!0});e=X.profitCalculator.vat_flat_rate,o=X.profitCalculator,a=X.productDetailsPageXpath,await chrome.storage.local.set({fulfilment_fee_distribution:o,fulfilment_fee_distribution_xpaths:a,vat_flat_rate:e})}let{vat_flat_rate:m}=await chrome.storage.local.get(["vat_flat_rate"]);e=parseFloat(m);let[g,y]=await Vg();[n,i,s]=Ol(y);try{if(t=await hc(g),!t)throw Error("Asin Element is Undefined");const X=qg(a),Q=Yg(a),me=fc(g,a);let xe=new URL(g).searchParams.get("use_main_server")==="true";const q=await Ud([t],i,s,xe,X===""?null:X,Q,me);if(q!=null&&q.license_status&&((v=q==null?void 0:q.license_status)==null?void 0:v.license)==!0){let ke={bsr:(O=(S=q==null?void 0:q.products)==null?void 0:S[t])==null?void 0:O.bsr,bsr_percentage:(P=(F=q==null?void 0:q.products)==null?void 0:F[t])==null?void 0:P.bsr_percentage,dimensions:(T=(E=q==null?void 0:q.products)==null?void 0:E[t])==null?void 0:T.dimensions,sales:(z=(C=q==null?void 0:q.products)==null?void 0:C[t])==null?void 0:z.sales},vt={products:(ie=(M=q==null?void 0:q.products)==null?void 0:M[t])==null?void 0:ie.products};const[he,ye,W]=Gg(g,a,t,q);ye.productCategory=X,W.vatTaxFlatRate=e,W.storageMonth=0,W.fulfilmentType=!1,W.vatSelect=W!=null&&W.vatRegistered?2:1,W.minROI=h||Dh,W.minProfit=p||Uh;let N=jg(ye,W,o,i,n,he);W.fulfilmentFee=Rs(i,W==null?void 0:W.salePrice,N),W.totalFee=Fi(W,N);let qt=i===Ce?0:W.vatSelect;!W.isFeeVatApplied&&W.vatSelect===1&&(qt=0);const Dn=W.totalFee-N.referralFees[0]-W.fulfilmentFee;W.breakEven=await $n(Dn,W.costPrice,N.referralFees[2],qt,W.vatTax,W.vatTaxFlatRate,N==null?void 0:N.fulfilmentFee,N==null?void 0:N.lowPriceFBA,i,ye==null?void 0:ye.productCategory),W.maxCost=i===Ce?cs(W):ls(W);const yt=ks(W,i);W.profit=yt.profit,W.ROI=yt.ROI,W.vatFees=yt.vatFees;const Xe=uc(yt.profit,me);W.profitMargin=Xe;const Ft={productTitle:he,imageXpath:a.productDetailPageImage,currentUrl:g};return ge.dispatch(Tt({headerData:Ft,productInfo:ke,asin:t,currencySymbol:n,marketplace:i,productData:ye,profitCalculatorData:W,productFees:N,reverseSearchData:vt,mainServerAPICheck:xe,success:!0,domain:y})),{domain:y,asinElement:t,marketplace:i,productFees:N,profitCalculatorData:W,productCategory:X}}else ge.dispatch(Tt({success:!1}))}catch(X){console.log("Error in Detail page: ",X.message),ge.dispatch(Tt({success:!1}))}},Hg=async(e,n,t,i,s,o)=>{try{let{fulfilment_fee_distribution_xpaths:a}=await chrome.storage.local.get(["fulfilment_fee_distribution_xpaths"]),c=ve.uniqBy(await Lg(e,n,a.detailPageoffersXpath,t),u=>[u.salePrice+"_"+u.fulfilmentType].join("_"));c=ve.filter(c,u=>u.salePrice!==0),c=ve.sortBy(c,u=>parseFloat(u.salePrice)),c=ve.groupBy(c,"fulfilmentType"),c.FBA=await Ot(c.FBA,s,i,t,o),c.AMZ=await Ot(c.AMZ,s,i,t,o),c.FBM=await Ot(c.FBM,s,i,t,o),ge.dispatch(Tt({offersData:c,offersDataSuccess:!0,offersDataLoading:!1}))}catch{ge.dispatch(Tt({offersData:{},offersDataSuccess:!1,offersDataLoading:!1}))}};async function Vg(){const e=window.location.href,{tab_url:n}=await chrome.storage.local.get(["tab_url"]);let t=e||n||await chrome.runtime.sendMessage({currentUrl:!0});const o=new URL(t).hostname.split("amazon.").pop();return[t,o]}async function hc(e){const{detail_page_asin:n}=await chrome.storage.local.get(["detail_page_asin"]);let t,i;if(e.includes("/dp")||e.includes("/gp/product")){const s=/\/(?:dp|product)\/([A-Za-z0-9]+)/,o=e.match(s);i=o?o[1]:null}if(i&&(i==null?void 0:i.length)>=8&&(i==null?void 0:i.length)<=10)return i;for(let s=0;s<n.length;s++){let o=Wd(n[s]);if(o){t=o.textContent.trim().replace(/\s/g,"").replace(String.fromCharCode(8206),"");break}}return t}function Kg(e){return e.match(Re)}function vi(e,n=!1){if(e!==void 0&&!n){let t=ut(e).snapshotItem(0);if(t)return t.textContent.trim()}if(e!==void 0&&n){let t=ut(e),i=[];for(let s=0;s<t.snapshotLength;s++){let o=t.snapshotItem(s).textContent.trim();o=o.toLowerCase(),o.includes("count")||i.push(o)}return i[0]??""}return""}const dc=(e,n)=>{for(const t of n){const i=e.get(t);if(i)return parseFloat(i)}return""},qg=e=>{let n="";for(const t of e.itemCategory)if(n===""&&t!==void 0){let i=ut(t).snapshotItem(0);if(i!==null){if(i.childNodes.length!==0){let s=i==null?void 0:i.childNodes;for(let o=0;o<i.childNodes.length;o++)if(s[o].nodeName==="A"){const a=i.textContent.trim(),c=/in\s(.*?)\s\(/,u=a.match(c);n=u&&u[1]||""}}else n=i.textContent.trim();n==="‹"&&(n="")}}else break;return n},Yg=e=>{let n=null;if(e.itemBSR)for(const t of e.itemBSR){const i=ut(t);if(n)break;i.snapshotLength&&(n=parseFloat(i.snapshotItem(0).textContent.trim().split(" ")[0].replace("#","").replace(",","")))}return n};function fc(e,n){const t=new URL(e).searchParams;let i="";i=dc(t,["ah_price","sas_sale_price","bbp-sellprice"]);for(let o=0;o<n.maxCount;o++)if(!i){if(i=vi(n.salePrice[o],!0),i.includes("option")){let a=i.split("option");i=a[a.length-1].trim()}i&&(i=i.replace(/,/g,""),i=parseFloat(i.match(Re)),i===0&&(i=void 0))}return us(i)&&(i=0),i}const us=e=>e===""||e===void 0||Number.isNaN(e);function Gg(e,n,t,i){var F;let[s,o,a,c,u]=Array(6).fill(""),[h,p,m]=Array(4).fill(0),[g,y]=Array(2).fill(!1),v=i==null?void 0:i.products[t];v!=null&&v.dimensions&&(v!=null&&v.dimensions.length&&(v!=null&&v.dimensions.width)&&(v!=null&&v.dimensions.height)&&(a=(v==null?void 0:v.dimensions.length)+"X"+(v==null?void 0:v.dimensions.width)+"X"+(v==null?void 0:v.dimensions.height)+" milimeters"),v!=null&&v.dimensions.weight&&(c=(v==null?void 0:v.dimensions.weight)+" grams"));const S=new URL(e).searchParams;o=dc(S,["ah_cost","sas_cost_price","bbp-buyprice"]);for(let P=0;P<n.maxCount;P++)a||(a=vi(n.itemDimension[P])),c||(c=vi(n.itemWeight[P])),u||(u=vi(n.itemTitle[P]));return us(o)&&(o=Math.floor(parseFloat((((F=ve.minBy(v==null?void 0:v.products,P=>parseFloat(P.price)))==null?void 0:F.price)??0)*100))/100),s=fc(e,n),us(a)&&(a=[]),[h,p,m,g,y]=Qg(i,e),m===0&&(m=20),a.length>0&&Kg(a).length>3&&(c=a.split(";")[1]),a=Xg(a),c=Jg(c),[u,{length:a[2],width:a[1],height:a[0],unitWeight:c},{salePrice:s,costPrice:o,prepFee:h,taxValue:p,vatTax:m,vatRegistered:g,isFeeVatApplied:!y}]}function Xg(e){if(e.length===0)return[0,0,0];{e=e.toLowerCase();const n=Object.keys(pa).sort((i,s)=>s.length-i.length).find(i=>e.includes(i));if(e=e.match(Re),n?e=e.map(i=>parseFloat(i)*pa[n]):e=e.map(i=>parseFloat(i)),e.length!==3)for(let i=e.length;i<=3;i++)e.push(0);return e.sort((i,s)=>i-s)}}function Jg(e){if(Number.isNaN(e.match(Re))||e.match(Re)===null)return e=0,e;let n=parseFloat(e.match(Re).join(""));e=e.toLowerCase();const t=ga[Object.keys(ga).sort((i,s)=>s.length-i.length).find(i=>e.includes(i))];return e=n/(t??1),e}function Qg(e,n){let t,i;const s=ol.findIndex(a=>n.includes(a)),o=Wh[s];s&&o&&(i=e.license_status[o]),t=[parseFloat(i==null?void 0:i.prep),parseFloat(i==null?void 0:i.tax),parseFloat(i==null?void 0:i.vat),i==null?void 0:i.vat_registered,i==null?void 0:i.is_fee_excludes_vat];for(let a=0;a<(t==null?void 0:t.length);a++)(t[a]===void 0||Number.isNaN(t[a]))&&(t[a]=a>2?!1:0);return t}const Zg=()=>{const e="./assets/icons/no-connection.svg",{t:n}=bt();return b("div",{className:"ah-detail-page-data",children:L("div",{children:[b("img",{src:chrome.runtime.getURL(e),alt:"item",width:"250px",height:"45px"}),b("span",{style:{fontWeight:"bold",color:"darkgrey",display:"flex",justifyContent:"center",paddingTop:"10px"},children:n("Please Contact Support!")})]})})},hs=({id:e,label:n,currencySymbol:t,children:i,value:s,precision:o=2})=>{const a="./assets/icons/collapse_down_icon.svg",c="./assets/icons/collapse_up_icon.svg",[u,h]=j.useState(!0),p=()=>h(!u);return L(mt,{children:[L("div",{className:"d-flex align-items-center justify-content-between mb-2 collapsed",id:`${e}_collapse_div`,"data-bs-toggle":"collapse","data-bs-target":`#${e}_collapse`,onClick:p,children:[L("div",{className:"d-flex align-items-center gap-2",children:[b("span",{className:"fs-10 ah-custom-label",children:n}),b("img",{src:chrome.runtime.getURL(u?a:c),alt:"down",className:"cursor-pointer"})]}),L("span",{className:"fs-12 ah-custom-font-light",id:`total_${e}_fee_span_text`,children:[t," ",parseFloat(s).toFixed(o)]})]}),b("div",{id:`${e}_collapse`,className:"collapse",style:{fontWeight:"400"},children:i})]})},Jr=({title:e,value:n})=>L("div",{className:"ah-offer-price ",style:{borderBottom:"2px solid #F0F0F0",padding:"12px 0px"},children:[b("span",{className:"",children:e}),b("span",{className:"ah-text-dark",children:n})]}),Qa=({label:e,isChecked:n,setIsChecked:t})=>L("div",{className:"form-check ah-form-check d-flex gap-2",style:{alignItems:"center",minHeight:"auto"},children:[b("input",{className:"form-check-input",type:"checkbox",checked:n,onClick:()=>t(!n)}),b("label",{className:"form-check-label",children:e})]}),em=()=>{var u,h,p,m,g,y;const{offersData:e,currencySymbol:n}=At(v=>v.DetailPage),t=(u=e.FBA)==null?void 0:u.concat(e.AMZ),[i,s]=(t==null?void 0:t.length)>0?j.useState(!0):j.useState(!1),[o,a]=((h=e.FBM)==null?void 0:h.length)>0?j.useState(!0):j.useState(!1),c=()=>{var O;const v=t==null?void 0:t.length,S=(O=e.FBM)==null?void 0:O.length;return v||S?i||o?i&&!v&&!o?"There are no FBA Offers":o&&!S&&!i?"There are no FBM Offers":!1:"Please select one of the above options":"There are no Offers"};return b(mt,{children:L("div",{className:"scroll-offers-accordion",children:[b("div",{className:"ah-offer-wrapper mb-2",children:L("div",{children:[b(Jr,{title:"BuyBox Offer Price",value:n+" "+parseFloat(((p=ve.head(e.AMZ))==null?void 0:p.salePrice)??0).toFixed(2)}),b(Jr,{title:"Low FBA Offer Price",value:n+" "+parseFloat(((m=ve.head(e.FBA))==null?void 0:m.salePrice)??0).toFixed(2)}),b(Jr,{title:"Low FBM Offer Price",value:n+" "+parseFloat(((g=ve.head(e.FBM))==null?void 0:g.salePrice)??0).toFixed(2)})]})}),b(hs,{id:"offers",label:"Offers",currencySymbol:"",value:(t==null?void 0:t.length)+((y=e.FBM)==null?void 0:y.length),precision:0,children:L("div",{className:"ah-offer-wrapper",children:[L("div",{className:"d-flex align-items-end gap-2 pb-2",children:[b(Qa,{label:"FBA",isChecked:i,setIsChecked:s}),b(Qa,{label:"FBM",isChecked:o,setIsChecked:a})]}),b(ue,{isTrue:!c(),fallback:b("div",{className:"py-2",children:b(Ns,{message:c()})}),children:L("table",{className:"table ah-offer-table",children:[b("thead",{className:"table ah-offer-table",children:L("tr",{className:"",children:[b("th",{className:"",scope:"col",children:"Seller"}),b("th",{className:"",scope:"col",children:"Price"}),b("th",{className:"",scope:"col",children:"Profit"}),b("th",{className:"",scope:"col",children:"ROI"})]})}),b("tbody",{children:ve.sortBy([...i?t:[],...o?e.FBM:[]],v=>parseFloat(v.salePrice)).map((v,S,O)=>L("tr",{className:"ah_offers_table_rows ah-offers-fba-table-rows",style:{borderBottom:S===O.length-1?"none":"1.5px solid #f0f0f0"},children:[b("td",{children:b("a",{className:"",href:v==null?void 0:v.sellerIdLink,target:"_blank",rel:"noreferrer",children:v==null?void 0:v.fulfilmentType})}),b("td",{className:"",id:"offers_price_table_data",children:n+parseFloat(v.salePrice).toFixed(2)}),b("td",{className:v.profit>0?"ah-success-data":"ah-fail-data",id:"offers_profit_table_data",children:n+parseFloat(v==null?void 0:v.profit).toFixed(2)}),L("td",{className:v.ROI===0||ve.isNull(v.ROI)?"":v.ROI>0?"ah-success-data":"ah-fail-data",id:"offers_roi_table_data",children:[parseFloat(v==null?void 0:v.ROI).toFixed(2)==="NaN"?"∞":parseFloat(v==null?void 0:v.ROI).toFixed(2)," %"]})]}))})]})})]})})]})})},tm=()=>{const{googleShoppingData:e,currencySymbol:n}=At(o=>o.DetailPage),[t,i]=j.useState(""),s=()=>(e==null?void 0:e.length)===0?"No Google Shopping Products":!1;return j.useEffect(()=>{const o=new URL(window.location.href);i(o.hostname.split("amazon.").pop())},[]),b(mt,{children:b("div",{className:"scroll-offers-accordion",children:b(ue,{isTrue:!s(),fallback:b("div",{className:"py-2",children:b(Ns,{message:s()})}),children:e==null?void 0:e.map((o,a)=>{var u,h;let c=(h=(u=o.googleShoppingSeller)==null?void 0:u.split(t+"/url"))==null?void 0:h[1];return c=Hh+t+"/url"+c||"",L(mt,{children:[b("div",{className:"px-2",children:L("div",{className:"ah-google-shopping-results",children:[b("img",{className:"ah-google-shopping-img",src:o.googleShoppingImage,alt:"product-img","max-width":"30px","max-height":"30px"}),L("div",{style:{width:"100%"},children:[b("p",{className:"ah-google-shopping-results-title ah-detail-page-title-ellipse",title:o.googleShoppingTitle,children:o.googleShoppingTitle}),L("div",{className:"row g-0",children:[b("div",{className:"col-6 py-1",children:L("div",{className:"ah-google-shopping-inner-text-wrapper",children:[b("span",{className:"ah-google-shopping-inner-text-light",children:"Price:"}),L("span",{className:"ah-google-shopping-inner-text",title:n+parseFloat(o==null?void 0:o.salePrice).toFixed(2),children:[n,parseFloat(o.salePrice).toFixed(2)]})]})}),b("div",{className:"col-6 py-1",children:L("div",{className:"ah-google-shopping-inner-text-wrapper pe-0",children:[b("span",{className:"ah-google-shopping-inner-text-light",children:"Profit:"}),b("span",{className:"ah-google-shopping-inner-text",children:L("span",{style:{color:o.profit===0||ve.isNull(o.profit)?"":o.profit>0?"green":"red"},title:n+parseFloat(o==null?void 0:o.profit).toFixed(2),children:[n,parseFloat(o==null?void 0:o.profit).toFixed(2)]})})]})}),b("div",{className:"col-6",children:L("div",{className:"ah-google-shopping-inner-text-wrapper pb-0",children:[b("span",{className:"ah-google-shopping-inner-text-light",children:"Seller:"}),b("span",{style:{paddingBottom:"2px"},className:"ah-google-shopping-inner-text",title:o.googleShoppingSellerName,children:b("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:o.googleShoppingSellerName})})]})}),b("div",{className:"col-6",children:L("div",{className:"ah-google-shopping-inner-text-wrapper pe-0 pb-0",children:[b("span",{className:"ah-google-shopping-inner-text-light",children:"ROI:"}),b("span",{className:"ah-google-shopping-inner-text",children:L("span",{style:{color:o.ROI===0||ve.isNull(o.ROI)?"":o.ROI>0?"green":"red"},title:(parseFloat(o==null?void 0:o.ROI).toFixed(2)==="NaN"?"∞":parseFloat(o==null?void 0:o.ROI).toFixed(2))+" %",children:[parseFloat(o==null?void 0:o.ROI).toFixed(2)==="NaN"?"∞":parseFloat(o==null?void 0:o.ROI).toFixed(2)," %"]})})]})})]})]})]})}),b("hr",{className:"m-0"})]})})})})})};let Qr=null;const nm=({id:e,collapseId:n,title:t,handleChangePosition:i,children:s})=>{const o=`./assets/icons/drop_down_${e}_icon.svg`,a="dragging",[c,u]=j.useState(null);function h(S){var O,F;Qr=this,(F=(O=S.target)==null?void 0:O.classList)==null||F.add(a),S.dataTransfer.effectAllowed="move"}function p(S){S.preventDefault(),S.dataTransfer.dropEffect="move",this.classList.add("over")}function m(S){S.preventDefault()}function g(){this.classList.remove("over")}async function y(){this.id!==Qr.id&&i(Qr.id,this.id)}function v(){this.classList.remove("over"),this.classList.remove(a)}return j.useEffect(()=>{const S=document.getElementById(`${e}`);S&&(S.addEventListener("dragstart",h,!0),S.addEventListener("dragenter",m,!0),S.addEventListener("dragover",p,!0),S.addEventListener("dragleave",g,!0),S.addEventListener("drop",y,!0),S.addEventListener("dragend",v,!0)),chrome.storage.local.get([`${e}_drop_down`]).then(O=>{u(O[`${e}_drop_down`])})},[]),L(mt,{children:[b("div",{className:"accordion-item",draggable:"true",id:e,children:b("h2",{className:"accordion-header",id:`heading${n}`,children:b("button",{className:`accordion-button ${c??!0?"":"collapsed"} py-1`,type:"button",onClick:()=>{chrome.storage.local.set({[`${e}_drop_down`]:!(c??!0)}),u(!c)},id:`${e}_drop_down_button`,"data-bs-toggle":`${c??!0?"collapse":""}`,"data-bs-target":`#collapse${n}`,"aria-expanded":c??!0?"true":"false","aria-controls":`collapse${n}`,children:L("div",{className:"d-flex align-items-center gap-1",id:`${e}_image_changing`,children:[b("img",{src:chrome.runtime.getURL(o),alt:"item"}),b("span",{children:t})]})})})}),b("div",{className:"accordion-item",children:b("div",{className:`accordion-collapse collapse ${(c??!0)&&"show"}`,id:`collapse${n}`,"aria-labelledby":`heading${n}`,children:s})})]})},di=Ch.memo(nm),Zr=({label:e,id:n,symbol:t,fieldName:i,value:s,handleOnChange:o,isDisabled:a=!1})=>{const[c,u]=j.useState(parseFloat(s).toFixed(2));return j.useEffect(()=>{s!=c&&u(s)},[s]),L("div",{className:"col-md-6 mb-1",children:[b("span",{className:`fs-10 ${a?"text-decoration-line-through":""} ah-custom-label`,children:e}),L("div",{className:"input-group",children:[b("input",{step:"0.01",type:"number",onWheel:h=>h.target.blur(),className:"form-control",value:c,id:n,style:{userSelect:"text"},onBlur:()=>{u(parseFloat(s).toFixed(2))},onChange:h=>{u(h.target.value),o(i,+h.target.value)},onClick:h=>{const p=h.currentTarget;p.type="text",p.setSelectionRange(0,p.value.length),p.type="number"},disabled:a}),b("span",{className:"input-group-text",id:"basic-addon2",children:t})]})]})},Za=({options:e,label:n,id:t,title:i,fieldName:s,value:o,handleOnChange:a,isDisabled:c=!1})=>b("div",{id:`${t}_main_div_container`,className:"col-md-6 mb-1",children:L("div",{children:[b("span",{className:`fs-10 ${c?"text-decoration-line-through":""} ah-custom-label`,children:n}),b("select",{id:`${t}_selection_of_profit_calculator`,onChange:u=>a(s,u.target.value),"data-toggle":"tooltip",value:o,"data-placement":"top",style:{fontFamily:"Lato, sans-serif",fontSize:"12px",cursor:c?"default":"pointer"},title:i,className:"form-select","aria-label":"Default select example",disabled:c,children:e==null?void 0:e.map((u,h)=>b("option",{value:u==null?void 0:u.value,children:u==null?void 0:u.label},`${t+h}`))})]})}),el=({id:e,label:n,title:t,style:i,fieldName:s,value:o,handleOnChange:a,isFBA:c=!1})=>b("div",{id:`${e}_main_div_container`,className:c?"col-md-6 mb-1":"py-1","data-toggle":"tooltip","data-placement":"top",style:i,title:t,children:L("div",{className:c?"":"d-flex align-items-center justify-content-between",children:[b("span",{className:"fs-10 ah-custom-label",children:n}),b("div",{className:`form-check form-switch switch-input ${!c&&"light-input"} toggle-profit-list`,children:b("input",{type:"checkbox",className:"form-check-input",role:"switch",id:`${e}_toggle_of_profit_calculator`,style:{cursor:"pointer",marginTop:"0px"},checked:o,onChange:u=>a(s,u.target.checked)})})]})}),im=({id:e,label:n,currencySymbol:t,value:i,title:s=null})=>L("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[b("span",{className:`fs-10  ${s?" ah-detail-page-fees-tooltip-doted-line":""}`,"data-toggle":"tooltip","data-placement":"top",style:{fontFamily:"Lato, sans-serif",fontSize:"12px",color:"#747890"},title:s,id:`${e}_fee_text`,children:n}),b("span",{className:"fs-12 fee",id:`${e}_fee`,children:t+" "+parseFloat(i).toFixed(2)})]}),rm=()=>{const{currencySymbol:e,marketplace:n,profitCalculatorData:t,productData:i,productFees:s,offersData:o,googleShoppingData:a}=At(v=>v.DetailPage),{t:c}=bt(),u=[...Array(13)].map((v,S)=>({label:`${S}`,value:S})),h=[{label:c("Cost"),id:"cost_price_of_profit_calculator",fieldName:"costPrice",value:t==null?void 0:t.costPrice,symbol:e,isDisabled:!1},{label:c("Price"),id:"sale_price_of_profit_calculator",fieldName:"salePrice",value:t==null?void 0:t.salePrice,symbol:e,isDisabled:!1},{label:c("Prep Fee"),id:"prep_fee_of_profit_calculator",fieldName:"prepFee",value:t==null?void 0:t.prepFee,symbol:e,isDisabled:t==null?void 0:t.fulfilmentType}],p=[{label:c("Min.ROI"),id:"min_roi_of_profit_calculator",fieldName:"minROI",value:t==null?void 0:t.minROI,symbol:"%"},{label:c("Min.Profit"),id:"min_profit_of_profit_calculator",fieldName:"minProfit",value:t==null?void 0:t.minProfit,symbol:e}],m=[{id:"fulfilment",currencySymbol:e,value:t!=null&&t.fulfilmentType?0:t.fulfilmentFee,...Mg(n,s==null?void 0:s.lowFbaProductTier,t==null?void 0:t.salePrice,e)},{id:"referral",label:c("Referral Fee"),currencySymbol:e,value:s==null?void 0:s.referralFees[0],title:s==null?void 0:s.referralFees[1]},{id:"closing",label:c("Variable Closing Fee"),currencySymbol:e,value:s==null?void 0:s.closingFee,title:null},{id:"storage",label:c("Storage Fee"),currencySymbol:e,value:t!=null&&t.fulfilmentType?0:((s==null?void 0:s.storageFee)*(t==null?void 0:t.storageMonth)).toFixed(2),title:null},{id:"prepFee",label:c("Prep Fee"),currencySymbol:e,value:t!=null&&t.fulfilmentType?0:t==null?void 0:t.prepFee,title:null}],g=[{label:c("Not Applicable"),value:0},{label:c("Not Registered"),value:1},{label:c("VAT Registered"),value:2},{label:c("Flat Rate"),value:3}],y=(v,S)=>Ig({[v]:S},t,n,e,i,s,o,a);return L(mt,{children:[L("div",{className:"row g-2",children:[h.map((v,S)=>b(Zr,{symbol:v.symbol,label:v.label,id:v.id,fieldName:v.fieldName,value:v.value,handleOnChange:y,isDisabled:v==null?void 0:v.isDisabled},S)),b(ue,{isTrue:n===Ce,children:b(Zr,{symbol:"%",label:c("Tax Due"),id:"tax_of_profit_calculator",fieldName:"taxValue",value:t==null?void 0:t.taxValue,handleOnChange:y})}),b(el,{id:"fba_and_fbm",label:c("Fulfilment Type"),isFBA:!0,fieldName:"fulfilmentType",value:t==null?void 0:t.fulfilmentType,handleOnChange:y}),b(Za,{options:u,label:c("Storage Months"),fieldName:"storageMonth",handleOnChange:y,value:(t==null?void 0:t.storageMonth)??0,isDisabled:t==null?void 0:t.fulfilmentType,id:"storage_month",title:c("Select for how many months you want to store inventory in Amazon's warehouse")}),b(ue,{isTrue:n===nt,children:b(Za,{options:g,label:c("VAT Scheme"),id:"vat_due",fieldName:"vatSelect",value:t==null?void 0:t.vatSelect,handleOnChange:y})})]}),b("hr",{className:"hr mt-2"}),L(ue,{isTrue:n===nt&&(t==null?void 0:t.vatSelect)==1,children:[b(el,{id:"vat_due",label:c("VAT On Fees"),fieldName:"isFeeVatApplied",value:t==null?void 0:t.isFeeVatApplied,handleOnChange:y,style:{fontFamily:"Lato, sans-serif",fontSize:"12px"}}),b("hr",{className:"hr"})]}),L("div",{className:"d-flex align-items-center justify-content-between my-2",children:[b("span",{className:"fs-10 ah-custom-label",children:c("Profit Margin")}),L("span",{className:"fs-12 ah-custom-font-light",style:{color:t.profitMargin===0||ve.isNull(t.profitMargin)?"black":t.profitMargin>0?"green":"red"},id:"roiOfProfitCalculatorSpanText",children:[parseFloat(t==null?void 0:t.profitMargin).toFixed(2)==="NaN"?"∞":parseFloat(t==null?void 0:t.profitMargin).toFixed(2)," %"]})]}),b("hr",{className:"hr mb-2"}),L("div",{className:"d-flex align-items-center justify-content-between my-2",children:[b("span",{className:"fs-10 ah-custom-label",children:c("Profit")}),b("span",{className:"fs-12 ah-custom-font-light",style:{color:t.profit>0?"green":"red"},id:"profitOfProfitCalculatorSpan",children:e+" "+parseFloat(t.profit).toFixed(2)})]}),b("hr",{className:"hr mb-2"}),L("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[b("span",{className:"fs-10 ah-custom-label",children:c("ROI")}),L("span",{className:"fs-12 ah-custom-font-light",style:{color:t.ROI===0||ve.isNull(t.ROI)?"black":t.ROI>0?"green":"red"},id:"roiOfProfitCalculatorSpanText",children:[parseFloat(t==null?void 0:t.ROI).toFixed(2)==="NaN"?"∞":parseFloat(t==null?void 0:t.ROI).toFixed(2)," %"]})]}),b("hr",{className:"hr mb-2"}),L(ue,{isTrue:n===nt,children:[L("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[b("span",{className:"fs-10 ah-custom-label",children:c("VAT Due")}),b("span",{className:"fs-12 ah-custom-font-light",style:{color:"black"},id:"vatOfProfitCalculator",children:e+" "+parseFloat(t==null?void 0:t.vatFees).toFixed(2)})]}),b("hr",{className:"hr mb-2"})]}),b(hs,{id:"max_cost",value:t==null?void 0:t.maxCost,label:c("Maximum Cost"),currencySymbol:e,children:b("div",{className:"row pt-1",children:p.map((v,S)=>b(Zr,{symbol:v.symbol,label:v.label,id:v.id,fieldName:v.fieldName,value:v.value,handleOnChange:y},S))})}),b("hr",{className:"hr my-2"}),b(hs,{id:"fee",label:c("Total Fees"),value:t==null?void 0:t.totalFee,currencySymbol:e,children:m.map((v,S)=>b(im,{id:v.id,label:v.label,currencySymbol:v.currencySymbol,value:v.value,title:v.title},S))}),b("hr",{className:"hr mb-2"}),L("div",{className:"d-flex align-items-center justify-content-between my-2",children:[b("span",{className:"fs-10 ah-custom-label",children:c("Breakeven Price")}),b("span",{className:"fs-12 ah-custom-font-light",id:"profitOfProfitCalculatorSpan",children:e+" "+parseFloat(t==null?void 0:t.breakEven).toFixed(2)})]})]})};async function sm(e,n,t,i,s){let{fulfilment_fee_distribution_xpaths:o}=await chrome.storage.local.get(["fulfilment_fee_distribution_xpaths"]);try{let a=await Tl(e,!1);const u=new DOMParser().parseFromString(a,"text/html");let h=await om(u||[],o.GoogleShoppingPaths,n,t,i,s);ge.dispatch(Tt({googleShoppingData:h,googleShoppingSuccess:!0,googleShoppingLoading:!1}))}catch{ge.dispatch(Tt({googleShoppingData:[],googleShoppingSuccess:!1,googleShoppingLoading:!1}))}}async function om(e,n,t,i,s,o){let a=[];for(let c=0;c<n.allGoogleShopping.length;c++)e.querySelectorAll(n.allGoogleShopping[c]).length>0&&(e=e.querySelectorAll(n.allGoogleShopping[c]));if((e==null?void 0:e.length)>0){let c=n.defaultNumberOfShopping;(e==null?void 0:e.length)<=n.defaultNumberOfShopping&&(c=e==null?void 0:e.length);for(let u=0;u<c;u++)a.push(await am(e[u],n))}return a=await Ot(a,t,i,s,o),a}async function am(e,n){var i,s,o,a,c,u,h,p,m;let t={googleShoppingImage:void 0,googleShoppingTitle:void 0,salePrice:void 0,googleShoppingSeller:void 0,googleShoppingSellerName:void 0};for(let g=0;g<n.maxCount;g++)!t.googleShoppingImage&&n.googleShoppingImage[g]!==void 0&&(t.googleShoppingImage=(i=e==null?void 0:e.querySelector(n.googleShoppingImage[g]))==null?void 0:i.src),!t.googleShoppingTitle&&n.googleShoppingTitle[g]!==void 0&&(t.googleShoppingTitle=(s=e==null?void 0:e.querySelector(n.googleShoppingTitle[g]))==null?void 0:s.textContent),!t.salePrice&&n.googleShoppingSalePrice[g]!==void 0&&(t.salePrice=parseFloat((c=(a=(o=e==null?void 0:e.querySelector(n.googleShoppingSalePrice[g]))==null?void 0:o.textContent)==null?void 0:a.replace(/,/g,""))==null?void 0:c.match(Re))),!t.googleShoppingSeller&&n.googleShoppingSeller[g]!==void 0&&(t.googleShoppingSeller=(u=e==null?void 0:e.querySelector(n.googleShoppingSeller[g]))==null?void 0:u.href),!t.googleShoppingSellerName&&n.googleShoppingSellerName[g]!==void 0&&(t.googleShoppingSellerName=(h=e==null?void 0:e.querySelector(n.googleShoppingSellerName[g]))==null?void 0:h.innerHTML,t.googleShoppingSellerName.includes("</style>")&&(t.googleShoppingSellerName=(m=(p=t.googleShoppingSellerName)==null?void 0:p.split("</style>"))==null?void 0:m[1]));return t}const lm=({compartmentPositions:e,setCompartmentPositions:n,apiAccessLevel:t})=>{const{reverseSearchData:i,currencySymbol:s,reverseSearchLoading:o,offersDataLoading:a,googleShoppingLoading:c,headerData:u,googleShoppingSuccess:h,marketplace:p,productFees:m,profitCalculatorData:g,productData:y}=At(F=>F.DetailPage),{t:v}=bt(),S=async(F,P)=>{const{compartmentPositions:E}=await chrome.storage.local.get(["compartmentPositions"]),T={...E,[F]:E[P],[P]:E[F]};chrome.storage.local.set({compartmentPositions:T}),n(T)},O=()=>({borderBottom:"2px solid #F0F0F0"});return j.useEffect(()=>{},[]),j.useEffect(()=>{var F;h===null&&sm((F=Dl(u==null?void 0:u.productTitle,u.currentUrl))==null?void 0:F[1],g,m,p,y==null?void 0:y.productCategory)},[]),L("div",{className:"d-flex flex-column accordion product-accordion",id:"sortable",children:[b(ue,{isTrue:(t==null?void 0:t.all)||(t==null?void 0:t.reverse_search),children:b("div",{className:`order-${e==null?void 0:e.reverse_search}`,style:O(),children:b(di,{id:"reverse_search",collapseId:"Two",title:v("Reverse Search"),handleChangePosition:S,children:b("div",{className:"accordion-body profit-list pb-0 pt-0",children:b("div",{className:"arbitrage-content border-0 m-0",children:b(ue,{isTrue:!o,fallback:b(kn,{}),children:b(Wl,{stores:ve.sortBy(i==null?void 0:i.products,F=>parseFloat(F.price)),currencySymbol:s})})})})})})}),b(ue,{isTrue:t==null?void 0:t.all,children:b("div",{className:`order-${e==null?void 0:e.profit_calculator}`,style:O(),children:b(di,{id:"profit_calculator",collapseId:"One",title:v("Profit Calculator"),handleChangePosition:S,children:b("div",{className:"accordion-body profit-list pb-0",children:b(rm,{})})})})}),b(ue,{isTrue:t==null?void 0:t.all,children:b("div",{className:`order-${e==null?void 0:e.pricing_and_offerings}`,style:O(),children:b(di,{id:"pricing_and_offerings",collapseId:"Three",title:v("Pricing & Offers"),handleChangePosition:S,children:b("div",{className:"accordion-body profit-list pb-0 pt-0",children:b(ue,{isTrue:!a,fallback:b("div",{style:{height:"150px"},children:b(kn,{})}),children:b(em,{})})})})})}),b(ue,{isTrue:t==null?void 0:t.all,children:b("div",{className:`order-${e==null?void 0:e.google_shopping}`,style:O(),children:b(di,{id:"google_shopping",collapseId:"Four",title:v("Google Shopping Results"),handleChangePosition:S,children:b("div",{className:"accordion-body profit-list pb-0 pt-0",children:b(ue,{isTrue:!c,fallback:b("div",{style:{height:"150px"},children:b(kn,{})}),children:b(tm,{})})})})})})]})},cm=()=>{const e="/assets/icons/left-dock-icon.svg",n="/assets/icons/right-dock-icon.svg",t="/assets/icons/middle-dock-icon.svg",i="/assets/icons/draggable-icon.svg",s="/assets/icons/side-dock-icon.svg",[o,a]=j.useState(null),c=async h=>{o!==h&&(document.getElementById("arbitrage-extension-grid").remove(),await chrome.storage.local.set({extensionPosition:h}),gc(!1))};return j.useEffect(()=>{chrome.storage.local.get(["extensionPosition"]).then(({extensionPosition:h})=>a(h))},[]),b("div",{style:{zIndex:9999},children:b("div",{style:{padding:"9px 0px"},children:b("div",{className:"d-flex gap-1 ",children:[{iconPath:e,title:"Left Dock",position:"left-dock"},{iconPath:n,title:"Right Dock",position:"right-dock"},{iconPath:t,title:"Middle Dock",position:"middle"},{iconPath:i,title:"Draggable",position:"draggable"},{iconPath:s,title:"Reset to side dock",position:"side"}].map(h=>b("span",{onClick:()=>c(h==null?void 0:h.position),className:"ah-detail-page-dock-buttons",title:h.title,children:b("img",{src:chrome.runtime.getURL(h.iconPath),className:"ah-detail-page-dock-buttons",alt:h.title})}))})})})},um=({handleClassName:e=""})=>{const n="./assets/images/arbitrageLogo.png";return b("div",{className:`d-flex justify-content-center ${e}`,style:{borderBottom:"2px solid #EEEDED",cursor:"grab",alignItems:"center",padding:" 8px 0 8px 0  ",margin:" 0px 8px 0px 8px  "},children:b("a",{href:"https://arbitragehero.com/",target:"_blank",rel:"noreferrer",style:{height:"16px"},children:b("img",{src:chrome.runtime.getURL(n),width:"60px",style:{pointerEvents:"none"}})})})},hm=()=>{const{productData:e}=At(n=>n.DetailPage);return L("div",{className:"ah-detail-page-dimension-weight",children:[b("span",{className:"ah-custom-label fs-10",children:"Dimensions"}),L("div",{className:"inner-text d-flex align-items-center",children:[b("span",{className:"ah-main-value d-flex align-items-center text-black",style:{borderRight:"1.5px solid rgb(225, 225, 225)",paddingRight:"6px",marginRight:"6px"},children:parseFloat(e==null?void 0:e.length).toFixed(2)+" x "+parseFloat(e==null?void 0:e.width).toFixed(2)+" x "+parseFloat(e==null?void 0:e.height).toFixed(2)+" in"}),b("span",{className:"ah-main-value text-black",children:(e==null?void 0:e.unitWeight.toFixed(2))+" lbs"})]})]})},dm=({gridCols:e})=>L(mt,{children:[b("div",{className:"row",style:{padding:"8px 0px",width:"calc(100% + 18px)"},children:e.map(n=>{if(!(!(n!=null&&n.value)&&n.value!==0))return L("div",{className:"col",children:[b("div",{className:"ah-detail-page-gird_col_title fs-10",style:{marginBottom:"4px"},children:n==null?void 0:n.title}),L("div",{className:"ah-detail-page-gird_col_value",style:(n==null?void 0:n.style)||{},children:[" ",n==null?void 0:n.value]})]})})}),b("hr",{className:"hr "})]}),fm=({data:e,extensionPosition:n})=>{var p,m;const[t,i]=j.useState(""),{t:s}=bt(),{productData:o,productInfo:a}=At(g=>g.DetailPage),{productTitle:c,imageXpath:u,currentUrl:h}=e;return j.useEffect(()=>{for(const g of u){let y=ut(g).snapshotItem(0);if(y){i(y.textContent);break}}},[e]),L(mt,{children:[L("div",{className:"d-flex ah-detail-page-products-heading mb-2",children:[L("h6",{children:[" ",s("Overview")]}),b(Ul,{itemTitle:c,currentUrl:h,fontSize:"12px"})]}),L("div",{className:"ah-detail-page-product-titles",style:{marginBottom:"14px",alignItems:["right-dock","left-dock"].includes(n)?"center":"start"},children:[b("img",{src:t,alt:"item",style:{maxWidth:"50px",maxHeight:"50px",objectFit:"contain"}}),L("div",{className:"d-flex flex-column justify-content-between ",style:{height:"32px"},children:[b("div",{children:b("span",{className:"ah-detail-page-title-ellipse",title:c,children:c})}),b(ue,{isTrue:o==null?void 0:o.productCategory,children:L("div",{className:"inner-text",children:[b("span",{className:"product-category-title",children:"By: "}),b("span",{className:"ah-main-value",children:o==null?void 0:o.productCategory})]})}),L("div",{className:"inner-text",children:[b("span",{className:"product-category-title",children:"Est. Monthly Sales: "}),b("span",{className:"ah-main-value",children:(a==null?void 0:a.bsr)>=1e8||!/\d/.test(a==null?void 0:a.bsr)||(p=a==null?void 0:a.sales)!=null&&p.error?"N/A":((m=a==null?void 0:a.sales)==null?void 0:m.monthlySales)||0})]})]})]}),b("hr",{className:"hr my-2",id:"small_and_light_main_div_upper_line"})]})},pc=({extensionPosition:e,handleClassName:n})=>{var F,P;const[t,i]=j.useState(null),[s,o]=j.useState(null),[a,c]=j.useState(e),{headerData:u,productInfo:h,asin:p,loading:m,success:g,profitCalculatorData:y,currencySymbol:v}=At(E=>E.DetailPage);(F=h==null?void 0:h.sales)!=null&&F.monthlySales,(P=h==null?void 0:h.sales)!=null&&P.dailySales;const S=E=>E===0||ve.isNull(E)?"":E>0?"green":"red",O=[{title:"Profit",value:v+" "+(parseFloat(y==null?void 0:y.profit).toFixed(2)||0),style:{color:S(y==null?void 0:y.profit)}},{title:"ROI",value:((parseFloat(y==null?void 0:y.ROI).toFixed(2)==="NaN"?"∞":parseFloat(y==null?void 0:y.ROI).toFixed(2))||0)+" %",colorCheck:!0,style:{color:S(y==null?void 0:y.ROI)}},{title:"Max cost",value:v+" "+(parseFloat(y==null?void 0:y.maxCost).toFixed(2)||0),style:{marginBottom:"4px"}}];return j.useEffect(()=>{m||(g===null&&Wg().then(E=>{if(E){const{domain:T,asinElement:C,marketplace:z,productFees:M,profitCalculatorData:ie,productCategory:X}=E;Hg(T,C,z,M,ie,X)}}),chrome.storage.local.get(["compartmentPositions"]).then(E=>{if(E.compartmentPositions===void 0){const T={};for(let C=0;C<ma.length;C++)T[ma[C]]=C;chrome.storage.local.set({compartmentPositions:T}),i(T)}else i(E.compartmentPositions)}),chrome.storage.local.get(["apiKeyResponse"]).then(E=>o(E.apiKeyResponse)))},[m]),L("div",{className:"ah-detail-page-products-main",style:{position:"relative",maxHeight:"100%",height:`${e==="side"||e==="middle"?"auto":"100%"}`,width:`${e==="side"?"276px":"100%"}`},children:[b(um,{handleClassName:n}),b(ue,{isTrue:!m&&a&&(s==null?void 0:s.access)&&g!==null&&t!=null,fallback:b("div",{style:{height:e==="side"||e==="middle"?"640px":"100%"},children:b(kn,{})}),children:L(ue,{isTrue:g,fallback:b("div",{style:{height:e==="side"||e==="middle"?"640px":"100%"},children:b(Zg,{})}),children:[b("div",{style:{overflowY:"auto",maxHeight:`${e==="side"||e==="middle"?"640px":"calc(100% - 67px)"}`},children:L("div",{style:{marginBottom:e==="side"||e==="middle"?"30px":"0%",width:"100%",padding:"8px"},children:[b(ue,{isTrue:u,children:b(fm,{data:u,extensionPosition:e})}),b(Bl,{detailsResponse:h,asin:p}),b("hr",{className:"hr my-1"}),b(hm,{}),b("hr",{className:"hr mt-1"}),b(dm,{gridCols:O}),b(lm,{compartmentPositions:t,setCompartmentPositions:i,apiAccessLevel:s==null?void 0:s.access})]})}),b("div",{style:{position:"absolute",backgroundColor:"#F9F9FB",bottom:"-1px",borderBottom:"1px solid rgb(255 153 0 / 50%)",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px",left:0,width:"100%",padding:"0px 9px 0px 9px"},children:b(cm,{})})]})})]})};var pm=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},e(n,t)};return function(n,t){e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),be=globalThis&&globalThis.__assign||function(){return be=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},be.apply(this,arguments)},tl={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},nl={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},fi={width:"20px",height:"20px",position:"absolute"},gm={top:be(be({},tl),{top:"-5px"}),right:be(be({},nl),{left:void 0,right:"-5px"}),bottom:be(be({},tl),{top:void 0,bottom:"-5px"}),left:be(be({},nl),{left:"-5px"}),topRight:be(be({},fi),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:be(be({},fi),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:be(be({},fi),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:be(be({},fi),{left:"-10px",top:"-10px",cursor:"nw-resize"})},mm=function(e){pm(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.onMouseDown=function(i){t.props.onResizeStart(i,t.props.direction)},t.onTouchStart=function(i){t.props.onResizeStart(i,t.props.direction)},t}return n.prototype.render=function(){return j.createElement("div",{className:this.props.className||"",style:be(be({position:"absolute",userSelect:"none"},gm[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},n}(j.PureComponent),bm=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},e(n,t)};return function(n,t){e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),at=globalThis&&globalThis.__assign||function(){return at=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},at.apply(this,arguments)},vm={width:"auto",height:"auto"},pi=function(e,n,t){return Math.max(Math.min(e,t),n)},il=function(e,n){return Math.round(e/n)*n},fn=function(e,n){return new RegExp(e,"i").test(n)},gi=function(e){return!!(e.touches&&e.touches.length)},ym=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},rl=function(e,n,t){t===void 0&&(t=0);var i=n.reduce(function(o,a,c){return Math.abs(a-e)<Math.abs(n[o]-e)?c:o},0),s=Math.abs(n[i]-e);return t===0||s<t?n[i]:e},es=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},mi=function(e,n,t,i){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var s=Number(e.replace("%",""))/100;return n*s}if(e.endsWith("vw")){var s=Number(e.replace("vw",""))/100;return t*s}if(e.endsWith("vh")){var s=Number(e.replace("vh",""))/100;return i*s}}return e},_m=function(e,n,t,i,s,o,a){return i=mi(i,e.width,n,t),s=mi(s,e.height,n,t),o=mi(o,e.width,n,t),a=mi(a,e.height,n,t),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof a>"u"?void 0:Number(a)}},wm=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],sl="__resizable_base__",Sm=function(e){bm(n,e);function n(t){var i=e.call(this,t)||this;return i.ratio=1,i.resizable=null,i.parentLeft=0,i.parentTop=0,i.resizableLeft=0,i.resizableRight=0,i.resizableTop=0,i.resizableBottom=0,i.targetLeft=0,i.targetTop=0,i.appendBase=function(){if(!i.resizable||!i.window)return null;var s=i.parentNode;if(!s)return null;var o=i.window.document.createElement("div");return o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.transform="scale(0, 0)",o.style.left="0",o.style.flex="0 0 100%",o.classList?o.classList.add(sl):o.className+=sl,s.appendChild(o),o},i.removeBase=function(s){var o=i.parentNode;o&&o.removeChild(s)},i.ref=function(s){s&&(i.resizable=s)},i.state={isResizing:!1,width:typeof(i.propsSize&&i.propsSize.width)>"u"?"auto":i.propsSize&&i.propsSize.width,height:typeof(i.propsSize&&i.propsSize.height)>"u"?"auto":i.propsSize&&i.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},i.onResizeStart=i.onResizeStart.bind(i),i.onMouseMove=i.onMouseMove.bind(i),i.onMouseUp=i.onMouseUp.bind(i),i}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||vm},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var t=0,i=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=a}return{width:t,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var t=this,i=this.props.size,s=function(c){if(typeof t.state[c]>"u"||t.state[c]==="auto")return"auto";if(t.propsSize&&t.propsSize[c]&&t.propsSize[c].toString().endsWith("%")){if(t.state[c].toString().endsWith("%"))return t.state[c].toString();var u=t.getParentSize(),h=Number(t.state[c].toString().replace("px","")),p=h/u[c]*100;return p+"%"}return es(t.state[c])},o=i&&typeof i.width<"u"&&!this.state.isResizing?es(i.width):s("width"),a=i&&typeof i.height<"u"&&!this.state.isResizing?es(i.height):s("height");return{width:o,height:a}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var i=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var o={width:t.offsetWidth,height:t.offsetHeight};return i&&(this.parentNode.style.flexWrap=s),this.removeBase(t),o},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(t,i){var s=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===t&&(typeof s>"u"||s==="auto")?"auto":t},n.prototype.calculateNewMaxFromBoundary=function(t,i){var s=this.props.boundsByDirection,o=this.state.direction,a=s&&fn("left",o),c=s&&fn("top",o),u,h;if(this.props.bounds==="parent"){var p=this.parentNode;p&&(u=a?this.resizableRight-this.parentLeft:p.offsetWidth+(this.parentLeft-this.resizableLeft),h=c?this.resizableBottom-this.parentTop:p.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(u=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=c?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(u=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=c?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return u&&Number.isFinite(u)&&(t=t&&t<u?t:u),h&&Number.isFinite(h)&&(i=i&&i<h?i:h),{maxWidth:t,maxHeight:i}},n.prototype.calculateNewSizeFromDirection=function(t,i){var s=this.props.scale||1,o=this.props.resizeRatio||1,a=this.state,c=a.direction,u=a.original,h=this.props,p=h.lockAspectRatio,m=h.lockAspectRatioExtraHeight,g=h.lockAspectRatioExtraWidth,y=u.width,v=u.height,S=m||0,O=g||0;return fn("right",c)&&(y=u.width+(t-u.x)*o/s,p&&(v=(y-O)/this.ratio+S)),fn("left",c)&&(y=u.width-(t-u.x)*o/s,p&&(v=(y-O)/this.ratio+S)),fn("bottom",c)&&(v=u.height+(i-u.y)*o/s,p&&(y=(v-S)*this.ratio+O)),fn("top",c)&&(v=u.height-(i-u.y)*o/s,p&&(y=(v-S)*this.ratio+O)),{newWidth:y,newHeight:v}},n.prototype.calculateNewSizeFromAspectRatio=function(t,i,s,o){var a=this.props,c=a.lockAspectRatio,u=a.lockAspectRatioExtraHeight,h=a.lockAspectRatioExtraWidth,p=typeof o.width>"u"?10:o.width,m=typeof s.width>"u"||s.width<0?t:s.width,g=typeof o.height>"u"?10:o.height,y=typeof s.height>"u"||s.height<0?i:s.height,v=u||0,S=h||0;if(c){var O=(g-v)*this.ratio+S,F=(y-v)*this.ratio+S,P=(p-S)/this.ratio+v,E=(m-S)/this.ratio+v,T=Math.max(p,O),C=Math.min(m,F),z=Math.max(g,P),M=Math.min(y,E);t=pi(t,T,C),i=pi(i,z,M)}else t=pi(t,p,m),i=pi(i,g,y);return{newWidth:t,newHeight:i}},n.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var t=this.parentNode;if(t){var i=t.getBoundingClientRect();this.parentLeft=i.left,this.parentTop=i.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left,this.targetTop=s.top}if(this.resizable){var o=this.resizable.getBoundingClientRect(),a=o.left,c=o.top,u=o.right,h=o.bottom;this.resizableLeft=a,this.resizableRight=u,this.resizableTop=c,this.resizableBottom=h}},n.prototype.onResizeStart=function(t,i){if(!(!this.resizable||!this.window)){var s=0,o=0;if(t.nativeEvent&&ym(t.nativeEvent)?(s=t.nativeEvent.clientX,o=t.nativeEvent.clientY):t.nativeEvent&&gi(t.nativeEvent)&&(s=t.nativeEvent.touches[0].clientX,o=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(t,i,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var c,u=this.window.getComputedStyle(this.resizable);if(u.flexBasis!=="auto"){var h=this.parentNode;if(h){var p=this.window.getComputedStyle(h).flexDirection;this.flexDir=p.startsWith("row")?"row":"column",c=u.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var m={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:at(at({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:i,flexBasis:c};this.setState(m)}},n.prototype.onMouseMove=function(t){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&gi(t))try{t.preventDefault(),t.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,a=s.maxHeight,c=s.minWidth,u=s.minHeight,h=gi(t)?t.touches[0].clientX:t.clientX,p=gi(t)?t.touches[0].clientY:t.clientY,m=this.state,g=m.direction,y=m.original,v=m.width,S=m.height,O=this.getParentSize(),F=_m(O,this.window.innerWidth,this.window.innerHeight,o,a,c,u);o=F.maxWidth,a=F.maxHeight,c=F.minWidth,u=F.minHeight;var P=this.calculateNewSizeFromDirection(h,p),E=P.newHeight,T=P.newWidth,C=this.calculateNewMaxFromBoundary(o,a);this.props.snap&&this.props.snap.x&&(T=rl(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(E=rl(E,this.props.snap.y,this.props.snapGap));var z=this.calculateNewSizeFromAspectRatio(T,E,{width:C.maxWidth,height:C.maxHeight},{width:c,height:u});if(T=z.newWidth,E=z.newHeight,this.props.grid){var M=il(T,this.props.grid[0]),ie=il(E,this.props.grid[1]),X=this.props.snapGap||0;T=X===0||Math.abs(M-T)<=X?M:T,E=X===0||Math.abs(ie-E)<=X?ie:E}var Q={width:T-y.width,height:E-y.height};if(v&&typeof v=="string"){if(v.endsWith("%")){var me=T/O.width*100;T=me+"%"}else if(v.endsWith("vw")){var We=T/this.window.innerWidth*100;T=We+"vw"}else if(v.endsWith("vh")){var xe=T/this.window.innerHeight*100;T=xe+"vh"}}if(S&&typeof S=="string"){if(S.endsWith("%")){var me=E/O.height*100;E=me+"%"}else if(S.endsWith("vw")){var We=E/this.window.innerWidth*100;E=We+"vw"}else if(S.endsWith("vh")){var xe=E/this.window.innerHeight*100;E=xe+"vh"}}var q={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(E,"height")};this.flexDir==="row"?q.flexBasis=q.width:this.flexDir==="column"&&(q.flexBasis=q.height),Li.flushSync(function(){i.setState(q)}),this.props.onResize&&this.props.onResize(t,g,this.resizable,Q)}},n.prototype.onMouseUp=function(t){var i=this.state,s=i.isResizing,o=i.direction,a=i.original;if(!(!s||!this.resizable)){var c={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(t,o,this.resizable,c),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:at(at({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(t){this.setState({width:t.width,height:t.height})},n.prototype.renderResizer=function(){var t=this,i=this.props,s=i.enable,o=i.handleStyles,a=i.handleClasses,c=i.handleWrapperStyle,u=i.handleWrapperClass,h=i.handleComponent;if(!s)return null;var p=Object.keys(s).map(function(m){return s[m]!==!1?j.createElement(mm,{key:m,direction:m,onResizeStart:t.onResizeStart,replaceStyles:o&&o[m],className:a&&a[m]},h&&h[m]?h[m]:null):null});return j.createElement("div",{className:u,style:c},p)},n.prototype.render=function(){var t=this,i=Object.keys(this.props).reduce(function(a,c){return wm.indexOf(c)!==-1||(a[c]=t.props[c]),a},{}),s=at(at(at({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return j.createElement(o,at({ref:this.ref,style:s,className:this.props.className},i),this.state.isResizing&&j.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(j.PureComponent);const xm=({extensionPosition:e})=>{const[n,t]=j.useState({width:276,height:500});return b("div",{children:b(yg,{handle:".handle",children:b(Sm,{size:{width:n.width,height:n.height},minWidth:285,maxWidth:500,maxHeight:800,minHeight:257,onResizeStop:(i,s,o,a)=>{i.preventDefault(),i.stopPropagation(),t({width:n.width+a.width,height:n.height+a.height})},children:b("div",{style:{height:"100%",width:"100%"},children:b(pc,{handleClassName:"handle",extensionPosition:e})})})})})};async function gc(e=!0){let n=0;const t=5,i=setInterval(async()=>{try{let s=null,o,a,c,u;try{let{extensionPosition:h}=await chrome.storage.local.get(["extensionPosition"]);const{detail_page_middle_container:p,detail_page_subcontainer:m,page_not_found:g}=await chrome.storage.local.get(["detail_page_middle_container","detail_page_subcontainer","page_not_found"]);u=g,o=h,a=p,c=m}catch{chrome.storage.local.set({extensionPosition:"draggable"}),clearInterval(i);return}if(n===t&&(chrome.storage.local.set({extensionPosition:"draggable"}),clearInterval(i)),o||chrome.storage.local.set({extensionPositionDock:"side"}),o=o??"side",o==="side")s=await za(c);else if(o==="middle")s=await za(a??c);else{if(u&&ut(u).snapshotLength)return clearInterval(i);s=document.getElementsByTagName("body")[0]}s&&(clearInterval(i),Em(s,o,e)),n++}catch{clearInterval(i)}},500)}const Pm=e=>e==="draggable"?b(xm,{extensionPosition:e}):b(pc,{extensionPosition:e});async function Em(e,n,t=!0){var a;let i=document.getElementsByTagName("html")[0].lang;i=i.split("-"),i[1]=(a=i[1])==null?void 0:a.toUpperCase(),Se.changeLanguage(i.join("-"));let s=document.createElement("div");s.id="arbitrage-extension-grid",s.className=`ah-detail-page-${n}`;const o=await hc(window.location.href);if(o!==void 0){if(e.firstChild.id===s.id||document.getElementById("arbitrage-extension-grid"))if(o!==ge.getState().DetailPage.asin)s=document.getElementById("arbitrage-extension-grid");else return;ge.dispatch(Tt({asin:o})),e.tagName==="BODY"?e.className=`ah-detail-page-${n}-document-body`:document.getElementsByTagName("BODY")[0].className="",t&&ge.dispatch(Yh()),e.prepend(s),ds(s).render(b(vs,{store:ge,children:Pm(n)}))}}const bi=({image:e,title:n,value:t,color:i})=>L("div",{children:[L("span",{children:[b("img",{src:chrome.runtime.getURL(e),alt:"line chart",className:"ah-stores-check-img",width:"16px",height:"16px"}),b("span",{children:n})]}),b("span",{className:`ah-stores-${i}`,children:t})]}),Nm=()=>{const e="/assets/images/arbitrageLogo.png",n="/assets/icons/bx-x-circle.svg",t=async()=>{try{let i=document.getElementsByTagName("body")[0];i.id="";let s=document.getElementById("ah-stores-custom-sidebar");i.removeChild(s),await chrome.storage.local.set({store_container_is_appended:!1})}catch(i){console.log("Error in crossImageActionToRemoveAppendedContainer",i)}};return L("div",{className:"ah-stores-header",children:[b("a",{href:"https://arbitragehero.com",target:"_blank",rel:"noreferrer",children:b("div",{className:"span",children:b("img",{src:chrome.runtime.getURL(e),alt:"item",width:"100px"})})}),b("div",{className:"span",id:"cross_image_span",style:{cursor:"pointer"},onClick:()=>t(),children:b("img",{src:chrome.runtime.getURL(n),alt:"close"})})]})},Om=({storeData:e,storeLogInStatus:n,headerText:t})=>{const i="/assets/icons/aqbitrag-small-logo.svg",s="/assets/icons/bx-link-external.svg",o="/assets/icons/bx-package.svg",a="/assets/icons/bx-line-chart.svg",c="/assets/icons/bx-line-chart-yellow.svg",u="/assets/icons/bx-line-chart-down.svg",[h,p]=j.useState(n),[m,g]=j.useState(t),y=S=>{p(S),chrome.storage.local.set({store_log_in_status:S})};return b("div",{children:L("div",{className:"ah-stores-main",children:[b(Nm,{}),L("div",{className:"ah-stores-content",children:[b(ue,{isTrue:!h,fallback:b(Rh,{isPopUp:!1,setIsFormOpen:y,handleChangeLoginHeader:()=>mc().then(S=>g(S))}),children:b("div",{id:"login-heading",style:{marginBottom:"16px"},onClick:()=>y(!0),children:b("span",{id:"span_show_the_login_status_text",className:"ah-stores-hover-span",style:{textDecoration:"underline",color:"rgb(255, 153, 0)",fontSize:"14px",fontWeight:"bold"},children:m})})}),L("div",{className:"ah-stores-content-top",children:[L("div",{children:[b("img",{src:`https://www.google.com/s2/favicons?domain=www.${e.domain}`,alt:"item",width:"15px",height:"15px"}),b("span",{children:e.name})]}),b("a",{href:"https://app.arbitragehero.com/?action=online_arbitrage&ID=411",target:"_blank",style:{paddingTop:"10px"},rel:"noreferrer",children:L("div",{children:[b("span",{children:b("img",{src:chrome.runtime.getURL(i),alt:"Arbitrage store"})}),b("span",{children:b("img",{src:chrome.runtime.getURL(s),alt:"link"})})]})})]}),L("div",{className:"ah-stores-content-bottom",children:[b(bi,{title:"Total Products",color:"blue",image:o,value:e==null?void 0:e.available_products.total}),b(bi,{title:"High Score",color:"green",image:a,value:e==null?void 0:e.available_products.high}),b(bi,{title:"Medium Score",color:"yellow",image:c,value:e==null?void 0:e.available_products.medium}),b(bi,{title:"Low Score",color:"red",image:u,value:e==null?void 0:e.available_products.low})]})]})]})})},Tm=async()=>{try{if((document==null?void 0:document.getElementById("ah-stores-custom-sidebar"))===null){let{registered_stores_by_arbitrage:e}=await chrome.storage.local.get(["registered_stores_by_arbitrage"]),n,t,i,s;if(e===void 0){let a=await chrome.runtime.sendMessage({getAllStoresDataByArbitrage:!0});await chrome.storage.local.set({registered_stores_by_arbitrage:a})}n=window.location.href,s=window.location.hostname,i=e==null?void 0:e.stores;const o=a=>n.includes(a);if(i!==void 0&&!o("amazon")&&!Vh.some(o)&&(t=i.find(a=>s.includes(a.domain)),t!==void 0))return await chrome.storage.local.set({store_container_is_appended:!0}),t}return!1}catch(e){return console.log("Error in store page: ",e),!1}};async function Am(){const e=await Tm();if(!e)return;const{store_log_in_status:n}=await chrome.storage.local.get(["store_log_in_status"]),t=await mc(),i=document.createElement("div"),s=document.getElementsByTagName("body")[0];i.id="ah-stores-custom-sidebar",s.id="ah-stores-document-body",s.prepend(i),ds(i).render(b(vs,{store:ge,children:b(Om,{storeData:e,storeLogInStatus:n,headerText:t})}))}async function mc(){const{apiKeyResponse:e}=await chrome.storage.local.get(["apiKeyResponse"]),{apiKey:n}=await chrome.storage.local.get(["apiKey"]);return e&&(await chrome.runtime.sendMessage({checkApiKeyValidation:!0,apiKey:n})).license?"API Key Info":"Login to Arbitrage Extension"}chrome.runtime.onMessage.addListener(function(e){e.message==="product_detail_page_app"?(chrome.runtime.sendMessage({clear_interval:!0,intervalId:e.intervalId}),gc()):e.message==="amazon_list_page_app"?(chrome.runtime.sendMessage({clear_interval:!0,intervalId:e.intervalId}),Tp()):e.message==="store_page_app"&&Am(),e.message==="product_detail_page_loader"&&ge.dispatch(qh(e.loader)),e.message==="amazon_list_page_loader"&&ge.dispatch(Qh(e.loader))});
